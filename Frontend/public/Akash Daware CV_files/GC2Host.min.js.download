/*! For license information please see GC2Host.min.js.LICENSE.txt */
var GC2Host;(()=>{var t={862:t=>{window,t.exports=function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=56)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(9),i=n(10),o=n(11),s=n(30),a=n(31),c=n(32),h=n(33),l=n(34),d=n(7),u=n(16),p=n(17),f=n(15),y=n(3),g={Scope:y.Scope,create:y.create,find:y.find,query:y.query,register:y.register,Container:r.default,Format:i.default,Leaf:o.default,Embed:h.default,Scroll:s.default,Block:c.default,Inline:a.default,Text:l.default,Attributor:{Attribute:d.default,Class:u.default,Style:p.default,Store:f.default}};e.default=g},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i=n(36),o=n(5),s=n(2),a=n(6),c=String.fromCharCode(0),h=function(t){Array.isArray(t)?this.ops=t:null!=t&&Array.isArray(t.ops)?this.ops=t.ops:this.ops=[]};h.prototype.insert=function(t,e){var n={};return 0===t.length?this:(n.insert=t,null!=e&&"object"===r(e)&&Object.keys(e).length>0&&(n.attributes=e),this.push(n))},h.prototype.delete=function(t){return t<=0?this:this.push({delete:t})},h.prototype.retain=function(t,e){if(t<=0)return this;var n={retain:t};return null!=e&&"object"===r(e)&&Object.keys(e).length>0&&(n.attributes=e),this.push(n)},h.prototype.push=function(t){var e=this.ops.length,n=this.ops[e-1];if(t=s(!0,{},t),"object"===r(n)){if("number"==typeof t.delete&&"number"==typeof n.delete)return this.ops[e-1]={delete:n.delete+t.delete},this;if("number"==typeof n.delete&&null!=t.insert&&(e-=1,"object"!==r(n=this.ops[e-1])))return this.ops.unshift(t),this;if(o(t.attributes,n.attributes)){if("string"==typeof t.insert&&"string"==typeof n.insert)return this.ops[e-1]={insert:n.insert+t.insert},"object"===r(t.attributes)&&(this.ops[e-1].attributes=t.attributes),this;if("number"==typeof t.retain&&"number"==typeof n.retain)return this.ops[e-1]={retain:n.retain+t.retain},"object"===r(t.attributes)&&(this.ops[e-1].attributes=t.attributes),this}}return e===this.ops.length?this.ops.push(t):this.ops.splice(e,0,t),this},h.prototype.chop=function(){var t=this.ops[this.ops.length-1];return t&&t.retain&&!t.attributes&&this.ops.pop(),this},h.prototype.filter=function(t){return this.ops.filter(t)},h.prototype.forEach=function(t){this.ops.forEach(t)},h.prototype.map=function(t){return this.ops.map(t)},h.prototype.partition=function(t){var e=[],n=[];return this.forEach((function(r){(t(r)?e:n).push(r)})),[e,n]},h.prototype.reduce=function(t,e){return this.ops.reduce(t,e)},h.prototype.changeLength=function(){return this.reduce((function(t,e){return e.insert?t+a.length(e):e.delete?t-e.delete:t}),0)},h.prototype.length=function(){return this.reduce((function(t,e){return t+a.length(e)}),0)},h.prototype.slice=function(t,e){t=t||0,"number"!=typeof e&&(e=1/0);for(var n=[],r=a.iterator(this.ops),i=0;i<e&&r.hasNext();){var o;i<t?o=r.next(t-i):(o=r.next(e-i),n.push(o)),i+=a.length(o)}return new h(n)},h.prototype.compose=function(t){var e=a.iterator(this.ops),n=a.iterator(t.ops),r=[],i=n.peek();if(null!=i&&"number"==typeof i.retain&&null==i.attributes){for(var s=i.retain;"insert"===e.peekType()&&e.peekLength()<=s;)s-=e.peekLength(),r.push(e.next());i.retain-s>0&&n.next(i.retain-s)}for(var c=new h(r);e.hasNext()||n.hasNext();)if("insert"===n.peekType())c.push(n.next());else if("delete"===e.peekType())c.push(e.next());else{var l=Math.min(e.peekLength(),n.peekLength()),d=e.next(l),u=n.next(l);if("number"==typeof u.retain){var p={};"number"==typeof d.retain?p.retain=l:p.insert=d.insert;var f=a.attributes.compose(d.attributes,u.attributes,"number"==typeof d.retain);if(f&&(p.attributes=f),c.push(p),!n.hasNext()&&o(c.ops[c.ops.length-1],p)){var y=new h(e.rest());return c.concat(y).chop()}}else"number"==typeof u.delete&&"number"==typeof d.retain&&c.push(u)}return c.chop()},h.prototype.concat=function(t){var e=new h(this.ops.slice());return t.ops.length>0&&(e.push(t.ops[0]),e.ops=e.ops.concat(t.ops.slice(1))),e},h.prototype.diff=function(t,e){if(this.ops===t.ops)return new h;var n=[this,t].map((function(e){return e.map((function(n){if(null!=n.insert)return"string"==typeof n.insert?n.insert:c;throw new Error("diff() called "+(e===t?"on":"with")+" non-document")})).join("")})),r=new h,s=i(n[0],n[1],e),l=a.iterator(this.ops),d=a.iterator(t.ops);return s.forEach((function(t){for(var e=t[1].length;e>0;){var n=0;switch(t[0]){case i.INSERT:n=Math.min(d.peekLength(),e),r.push(d.next(n));break;case i.DELETE:n=Math.min(e,l.peekLength()),l.next(n),r.delete(n);break;case i.EQUAL:n=Math.min(l.peekLength(),d.peekLength(),e);var s=l.next(n),c=d.next(n);o(s.insert,c.insert)?r.retain(n,a.attributes.diff(s.attributes,c.attributes)):r.push(c).delete(n)}e-=n}})),r.chop()},h.prototype.eachLine=function(t,e){e=e||"\n";for(var n=a.iterator(this.ops),r=new h,i=0;n.hasNext();){if("insert"!==n.peekType())return;var o=n.peek(),s=a.length(o)-n.peekLength(),c="string"==typeof o.insert?o.insert.indexOf(e,s)-s:-1;if(c<0)r.push(n.next());else if(c>0)r.push(n.next(c));else{if(!1===t(r,n.next(1).attributes||{},i))return;i+=1,r=new h}}r.length()>0&&t(r,{},i)},h.prototype.transform=function(t,e){if(e=!!e,"number"==typeof t)return this.transformPosition(t,e);for(var n=a.iterator(this.ops),r=a.iterator(t.ops),i=new h;n.hasNext()||r.hasNext();)if("insert"!==n.peekType()||!e&&"insert"===r.peekType())if("insert"===r.peekType())i.push(r.next());else{var o=Math.min(n.peekLength(),r.peekLength()),s=n.next(o),c=r.next(o);if(s.delete)continue;c.delete?i.push(c):i.retain(o,a.attributes.transform(s.attributes,c.attributes,e))}else i.retain(a.length(n.next()));return i.chop()},h.prototype.transformPosition=function(t,e){e=!!e;for(var n=a.iterator(this.ops),r=0;n.hasNext()&&r<=t;){var i=n.peekLength(),o=n.peekType();n.next(),"delete"!==o?("insert"===o&&(r<t||!e)&&(t+=i),r+=i):t-=Math.min(i,t-r)}return t},t.exports=h},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i=Object.prototype.hasOwnProperty,o=Object.prototype.toString,s=Object.defineProperty,a=Object.getOwnPropertyDescriptor,c=function(t){return"function"==typeof Array.isArray?Array.isArray(t):"[object Array]"===o.call(t)},h=function(t){if(!t||"[object Object]"!==o.call(t))return!1;var e,n=i.call(t,"constructor"),r=t.constructor&&t.constructor.prototype&&i.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!r)return!1;for(e in t);return void 0===e||i.call(t,e)},l=function(t,e){s&&"__proto__"===e.name?s(t,e.name,{enumerable:!0,configurable:!0,value:e.newValue,writable:!0}):t[e.name]=e.newValue},d=function(t,e){if("__proto__"===e){if(!i.call(t,e))return;if(a)return a(t,e).value}return t[e]};t.exports=function t(){var e,n,i,o,s,a,u=arguments[0],p=1,f=arguments.length,y=!1;for("boolean"==typeof u&&(y=u,u=arguments[1]||{},p=2),(null==u||"object"!==r(u)&&"function"!=typeof u)&&(u={});p<f;++p)if(null!=(e=arguments[p]))for(n in e)i=d(u,n),u!==(o=d(e,n))&&(y&&o&&(h(o)||(s=c(o)))?(s?(s=!1,a=i&&c(i)?i:[]):a=i&&h(i)?i:{},l(u,{name:n,newValue:t(y,a,o)})):void 0!==o&&l(u,{name:n,newValue:o}));return u}},function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.register=e.query=e.find=e.create=e.Scope=e.DATA_KEY=e.ParchmentError=void 0;var o=function(t){function e(e){var n=this;return e="[Parchment] "+e,(n=t.call(this,e)||this).message=e,n.name=n.constructor.name,n}return i(e,t),e}(Error);e.ParchmentError=o;var s,a={},c={},h={},l={};function d(t,e){var n;if(void 0===e&&(e=s.ANY),"string"==typeof t)n=l[t]||a[t];else if(t instanceof Text||t.nodeType===Node.TEXT_NODE)n=l.text;else if("number"==typeof t)t&s.LEVEL&s.BLOCK?n=l.block:t&s.LEVEL&s.INLINE&&(n=l.inline);else if(t instanceof HTMLElement){var r=(t.getAttribute("class")||"").split(/\s+/);for(var i in r)if(n=c[r[i]])break;n=n||h[t.tagName]}return null==n?null:e&s.LEVEL&n.scope&&e&s.TYPE&n.scope?n:null}e.DATA_KEY="__blot",function(t){t[t.TYPE=3]="TYPE",t[t.LEVEL=12]="LEVEL",t[t.ATTRIBUTE=13]="ATTRIBUTE",t[t.BLOT=14]="BLOT",t[t.INLINE=7]="INLINE",t[t.BLOCK=11]="BLOCK",t[t.BLOCK_BLOT=10]="BLOCK_BLOT",t[t.INLINE_BLOT=6]="INLINE_BLOT",t[t.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",t[t.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",t[t.ANY=15]="ANY"}(s=e.Scope||(e.Scope={})),e.create=function(t,e){var n=d(t);if(null==n)throw new o("Unable to create "+t+" blot");var r=n,i=t instanceof Node||t.nodeType===Node.TEXT_NODE?t:r.create(e);return new r(i,e)},e.find=function t(n,r){return void 0===r&&(r=!1),null==n?null:null!=n[e.DATA_KEY]?n[e.DATA_KEY].blot:r?t(n.parentNode,r):null},e.query=d,e.register=function t(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(e.length>1)return e.map((function(e){return t(e)}));var r=e[0];if("string"!=typeof r.blotName&&"string"!=typeof r.attrName)throw new o("Invalid definition");if("abstract"===r.blotName)throw new o("Cannot register abstract class");return l[r.blotName||r.attrName]=r,"string"==typeof r.keyName?a[r.keyName]=r:(null!=r.className&&(c[r.className]=r),null!=r.tagName&&(Array.isArray(r.tagName)?r.tagName=r.tagName.map((function(t){return t.toUpperCase()})):r.tagName=r.tagName.toUpperCase(),(Array.isArray(r.tagName)?r.tagName:[r.tagName]).forEach((function(t){null!=h[t]&&null!=r.className||(h[t]=r)})))),r}},function(t,e,n){(function(t,e){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var r=function(){"use strict";function e(t,e){return null!=e&&t instanceof e}var r,i,o;try{r=Map}catch(t){r=function(){}}try{i=Set}catch(t){i=function(){}}try{o=Promise}catch(t){o=function(){}}function s(a,h,l,d,u){"object"===n(h)&&(l=h.depth,d=h.prototype,u=h.includeNonEnumerable,h=h.circular);var p=[],f=[],y=void 0!==t;return void 0===h&&(h=!0),void 0===l&&(l=1/0),function a(l,g){if(null===l)return null;if(0===g)return l;var x,v;if("object"!=n(l))return l;if(e(l,r))x=new r;else if(e(l,i))x=new i;else if(e(l,o))x=new o((function(t,e){l.then((function(e){t(a(e,g-1))}),(function(t){e(a(t,g-1))}))}));else if(s.__isArray(l))x=[];else if(s.__isRegExp(l))x=new RegExp(l.source,c(l)),l.lastIndex&&(x.lastIndex=l.lastIndex);else if(s.__isDate(l))x=new Date(l.getTime());else{if(y&&t.isBuffer(l))return x=t.allocUnsafe?t.allocUnsafe(l.length):new t(l.length),l.copy(x),x;e(l,Error)?x=Object.create(l):void 0===d?(v=Object.getPrototypeOf(l),x=Object.create(v)):(x=Object.create(d),v=d)}if(h){var m=p.indexOf(l);if(-1!=m)return f[m];p.push(l),f.push(x)}for(var w in e(l,r)&&l.forEach((function(t,e){var n=a(e,g-1),r=a(t,g-1);x.set(n,r)})),e(l,i)&&l.forEach((function(t){var e=a(t,g-1);x.add(e)})),l){var b;v&&(b=Object.getOwnPropertyDescriptor(v,w)),b&&null==b.set||(x[w]=a(l[w],g-1))}if(Object.getOwnPropertySymbols){var P=Object.getOwnPropertySymbols(l);for(w=0;w<P.length;w++){var C=P[w];(!(j=Object.getOwnPropertyDescriptor(l,C))||j.enumerable||u)&&(x[C]=a(l[C],g-1),j.enumerable||Object.defineProperty(x,C,{enumerable:!1}))}}if(u){var A=Object.getOwnPropertyNames(l);for(w=0;w<A.length;w++){var j,T=A[w];(j=Object.getOwnPropertyDescriptor(l,T))&&j.enumerable||(x[T]=a(l[T],g-1),Object.defineProperty(x,T,{enumerable:!1}))}}return x}(a,l)}function a(t){return Object.prototype.toString.call(t)}function c(t){var e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),e}return s.clonePrototype=function(t){if(null===t)return null;var e=function(){};return e.prototype=t,new e},s.__objToStr=a,s.__isDate=function(t){return"object"===n(t)&&"[object Date]"===a(t)},s.__isArray=function(t){return"object"===n(t)&&"[object Array]"===a(t)},s.__isRegExp=function(t){return"object"===n(t)&&"[object RegExp]"===a(t)},s.__getRegExpFlags=c,s}();"object"===n(e)&&e.exports&&(e.exports=r)}).call(this,n(48).Buffer,n(53)(t))},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i=n(18),o=n(38),s=n(42),a=n(44),c=n(45),h=n(47),l=Date.prototype.getTime;function d(t){return null==t}function u(t){return!(!t||"object"!==r(t)||"number"!=typeof t.length||"function"!=typeof t.copy||"function"!=typeof t.slice||t.length>0&&"number"!=typeof t[0])}t.exports=function t(e,n,p){var f=p||{};return!!(f.strict?s(e,n):e===n)||(!e||!n||"object"!==r(e)&&"object"!==r(n)?f.strict?s(e,n):e==n:function(e,n,s){var p,f;if(r(e)!==r(n))return!1;if(d(e)||d(n))return!1;if(e.prototype!==n.prototype)return!1;if(o(e)!==o(n))return!1;var y=a(e),g=a(n);if(y!==g)return!1;if(y||g)return e.source===n.source&&c(e)===c(n);if(h(e)&&h(n))return l.call(e)===l.call(n);var x=u(e),v=u(n);if(x!==v)return!1;if(x||v){if(e.length!==n.length)return!1;for(p=0;p<e.length;p++)if(e[p]!==n[p])return!1;return!0}if(r(e)!==r(n))return!1;try{var m=i(e),w=i(n)}catch(e){return!1}if(m.length!==w.length)return!1;for(m.sort(),w.sort(),p=m.length-1;p>=0;p--)if(m[p]!=w[p])return!1;for(p=m.length-1;p>=0;p--)if(!t(e[f=m[p]],n[f],s))return!1;return!0}(e,n,f))}},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i=n(5),o=n(2),s={attributes:{compose:function(t,e,n){"object"!==r(t)&&(t={}),"object"!==r(e)&&(e={});var i=o(!0,{},e);for(var s in n||(i=Object.keys(i).reduce((function(t,e){return null!=i[e]&&(t[e]=i[e]),t}),{})),t)void 0!==t[s]&&void 0===e[s]&&(i[s]=t[s]);return Object.keys(i).length>0?i:void 0},diff:function(t,e){"object"!==r(t)&&(t={}),"object"!==r(e)&&(e={});var n=Object.keys(t).concat(Object.keys(e)).reduce((function(n,r){return i(t[r],e[r])||(n[r]=void 0===e[r]?null:e[r]),n}),{});return Object.keys(n).length>0?n:void 0},transform:function(t,e,n){if("object"!==r(t))return e;if("object"===r(e)){if(!n)return e;var i=Object.keys(e).reduce((function(n,r){return void 0===t[r]&&(n[r]=e[r]),n}),{});return Object.keys(i).length>0?i:void 0}}},iterator:function(t){return new a(t)},length:function(t){return"number"==typeof t.delete?t.delete:"number"==typeof t.retain?t.retain:"string"==typeof t.insert?t.insert.length:1}};function a(t){this.ops=t,this.index=0,this.offset=0}a.prototype.hasNext=function(){return this.peekLength()<1/0},a.prototype.next=function(t){t||(t=1/0);var e=this.ops[this.index];if(e){var n=this.offset,r=s.length(e);if(t>=r-n?(t=r-n,this.index+=1,this.offset=0):this.offset+=t,"number"==typeof e.delete)return{delete:t};var i={};return e.attributes&&(i.attributes=e.attributes),"number"==typeof e.retain?i.retain=t:"string"==typeof e.insert?i.insert=e.insert.substr(n,t):i.insert=e.insert,i}return{retain:1/0}},a.prototype.peek=function(){return this.ops[this.index]},a.prototype.peekLength=function(){return this.ops[this.index]?s.length(this.ops[this.index])-this.offset:1/0},a.prototype.peekType=function(){return this.ops[this.index]?"number"==typeof this.ops[this.index].delete?"delete":"number"==typeof this.ops[this.index].retain?"retain":"insert":"retain"},a.prototype.rest=function(){if(this.hasNext()){if(0===this.offset)return this.ops.slice(this.index);var t=this.offset,e=this.index,n=this.next(),r=this.ops.slice(this.index);return this.offset=t,this.index=e,[n].concat(r)}return[]},t.exports=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(3),i=function(){function t(t,e,n){void 0===n&&(n={}),this.attrName=t,this.keyName=e;var i=r.Scope.TYPE&r.Scope.ATTRIBUTE;null!=n.scope?this.scope=n.scope&r.Scope.LEVEL|i:this.scope=r.Scope.ATTRIBUTE,null!=n.whitelist&&(this.whitelist=n.whitelist)}return t.keys=function(t){return[].map.call(t.attributes,(function(t){return t.name}))},t.prototype.add=function(t,e){return!!this.canAdd(t,e)&&(t.setAttribute(this.keyName,e),!0)},t.prototype.canAdd=function(t,e){return null!=r.query(t,r.Scope.BLOT&(this.scope|r.Scope.TYPE))&&(null==this.whitelist||("string"==typeof e?this.whitelist.indexOf(e.replace(/["']/g,""))>-1:this.whitelist.indexOf(e)>-1))},t.prototype.remove=function(t){t.removeAttribute(this.keyName)},t.prototype.value=function(t){var e=t.getAttribute(this.keyName);return this.canAdd(t,e)&&e?e:""},t}();e.default=i},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i=n(18),o="function"==typeof Symbol&&"symbol"===r(Symbol("foo")),s=Object.prototype.toString,a=Array.prototype.concat,c=Object.defineProperty,h=c&&function(){var t={};try{for(var e in c(t,"x",{enumerable:!1,value:t}),t)return!1;return t.x===t}catch(t){return!1}}(),l=function(t,e,n,r){var i;(!(e in t)||"function"==typeof(i=r)&&"[object Function]"===s.call(i)&&r())&&(h?c(t,e,{configurable:!0,enumerable:!1,value:n,writable:!0}):t[e]=n)},d=function(t,e){var n=arguments.length>2?arguments[2]:{},r=i(e);o&&(r=a.call(r,Object.getOwnPropertySymbols(e)));for(var s=0;s<r.length;s+=1)l(t,r[s],e[r[s]],n[r[s]])};d.supportsDescriptors=!!h,t.exports=d},function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(29),s=n(14),a=n(3),c=function(t){function e(e){var n=t.call(this,e)||this;return n.build(),n}return i(e,t),e.prototype.appendChild=function(t){this.insertBefore(t)},e.prototype.attach=function(){t.prototype.attach.call(this),this.children.forEach((function(t){t.attach()}))},e.prototype.build=function(){var t=this;this.children=new o.default,[].slice.call(this.domNode.childNodes).reverse().forEach((function(e){try{var n=h(e);t.insertBefore(n,t.children.head||void 0)}catch(t){if(t instanceof a.ParchmentError)return;throw t}}))},e.prototype.deleteAt=function(t,e){if(0===t&&e===this.length())return this.remove();this.children.forEachAt(t,e,(function(t,e,n){t.deleteAt(e,n)}))},e.prototype.descendant=function(t,n){var r=this.children.find(n),i=r[0],o=r[1];return null==t.blotName&&t(i)||null!=t.blotName&&i instanceof t?[i,o]:i instanceof e?i.descendant(t,o):[null,-1]},e.prototype.descendants=function(t,n,r){void 0===n&&(n=0),void 0===r&&(r=Number.MAX_VALUE);var i=[],o=r;return this.children.forEachAt(n,r,(function(n,r,s){(null==t.blotName&&t(n)||null!=t.blotName&&n instanceof t)&&i.push(n),n instanceof e&&(i=i.concat(n.descendants(t,r,o))),o-=s})),i},e.prototype.detach=function(){this.children.forEach((function(t){t.detach()})),t.prototype.detach.call(this)},e.prototype.formatAt=function(t,e,n,r){this.children.forEachAt(t,e,(function(t,e,i){t.formatAt(e,i,n,r)}))},e.prototype.insertAt=function(t,e,n){var r=this.children.find(t),i=r[0],o=r[1];if(i)i.insertAt(o,e,n);else{var s=null==n?a.create("text",e):a.create(e,n);this.appendChild(s)}},e.prototype.insertBefore=function(t,e){if(null!=this.statics.allowedChildren&&!this.statics.allowedChildren.some((function(e){return t instanceof e})))throw new a.ParchmentError("Cannot insert "+t.statics.blotName+" into "+this.statics.blotName);t.insertInto(this,e)},e.prototype.length=function(){return this.children.reduce((function(t,e){return t+e.length()}),0)},e.prototype.moveChildren=function(t,e){this.children.forEach((function(n){t.insertBefore(n,e)}))},e.prototype.optimize=function(e){if(t.prototype.optimize.call(this,e),0===this.children.length)if(null!=this.statics.defaultChild){var n=a.create(this.statics.defaultChild);this.appendChild(n),n.optimize(e)}else this.remove()},e.prototype.path=function(t,n){void 0===n&&(n=!1);var r=this.children.find(t,n),i=r[0],o=r[1],s=[[this,t]];return i instanceof e?s.concat(i.path(o,n)):(null!=i&&s.push([i,o]),s)},e.prototype.removeChild=function(t){this.children.remove(t)},e.prototype.replace=function(n){n instanceof e&&n.moveChildren(this),t.prototype.replace.call(this,n)},e.prototype.split=function(t,e){if(void 0===e&&(e=!1),!e){if(0===t)return this;if(t===this.length())return this.next}var n=this.clone();return this.parent.insertBefore(n,this.next),this.children.forEachAt(t,this.length(),(function(t,r,i){t=t.split(r,e),n.appendChild(t)})),n},e.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},e.prototype.update=function(t,e){var n=this,r=[],i=[];t.forEach((function(t){t.target===n.domNode&&"childList"===t.type&&(r.push.apply(r,t.addedNodes),i.push.apply(i,t.removedNodes))})),i.forEach((function(t){if(!(null!=t.parentNode&&"IFRAME"!==t.tagName&&document.body.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var e=a.find(t);null!=e&&(null!=e.domNode.parentNode&&e.domNode.parentNode!==n.domNode||e.detach())}})),r.filter((function(t){return t.parentNode==n.domNode})).sort((function(t,e){return t===e?0:t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1})).forEach((function(t){var e=null;null!=t.nextSibling&&(e=a.find(t.nextSibling));var r=h(t);r.next==e&&null!=r.next||(null!=r.parent&&r.parent.removeChild(n),n.insertBefore(r,e||void 0))}))},e}(s.default);function h(t){var e=a.find(t);if(null==e)try{e=a.create(t)}catch(n){e=a.create(a.Scope.INLINE),[].slice.call(t.childNodes).forEach((function(t){e.domNode.appendChild(t)})),t.parentNode&&t.parentNode.replaceChild(e.domNode,t),e.attach()}return e}e.default=c},function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(7),s=n(15),a=n(9),c=n(3),h=function(t){function e(e){var n=t.call(this,e)||this;return n.attributes=new s.default(n.domNode),n}return i(e,t),e.formats=function(t){return"string"==typeof this.tagName||(Array.isArray(this.tagName)?t.tagName.toLowerCase():void 0)},e.prototype.format=function(t,e){var n=c.query(t);n instanceof o.default?this.attributes.attribute(n,e):e&&(null==n||t===this.statics.blotName&&this.formats()[t]===e||this.replaceWith(t,e))},e.prototype.formats=function(){var t=this.attributes.values(),e=this.statics.formats(this.domNode);return null!=e&&(t[this.statics.blotName]=e),t},e.prototype.replaceWith=function(e,n){var r=t.prototype.replaceWith.call(this,e,n);return this.attributes.copy(r),r},e.prototype.update=function(e,n){var r=this;t.prototype.update.call(this,e,n),e.some((function(t){return t.target===r.domNode&&"attributes"===t.type}))&&this.attributes.build()},e.prototype.wrap=function(n,r){var i=t.prototype.wrap.call(this,n,r);return i instanceof e&&i.statics.scope===this.statics.scope&&this.attributes.move(i),i},e}(a.default);e.default=h},function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(14),s=n(3),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.value=function(t){return!0},e.prototype.index=function(t,e){return this.domNode===t||this.domNode.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(e,1):-1},e.prototype.position=function(t,e){var n=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return t>0&&(n+=1),[this.parent.domNode,n]},e.prototype.value=function(){var t;return(t={})[this.statics.blotName]=this.statics.value(this.domNode)||!0,t},e.scope=s.Scope.INLINE_BLOT,e}(o.default);e.default=a},function(t,e,n){"use strict";var r=n(40);t.exports=Function.prototype.bind||r},function(t,e,n){"use strict";var r=n(12),i=n(21),o=i("%Function.prototype.apply%"),s=i("%Function.prototype.call%"),a=i("%Reflect.apply%",!0)||r.call(s,o),c=i("%Object.getOwnPropertyDescriptor%",!0),h=i("%Object.defineProperty%",!0),l=i("%Math.max%");if(h)try{h({},"a",{value:1})}catch(t){h=null}t.exports=function(t){var e=a(r,s,arguments);return c&&h&&c(e,"length").configurable&&h(e,"length",{value:1+l(0,t.length-(arguments.length-1))}),e};var d=function(){return a(r,o,arguments)};h?h(t.exports,"apply",{value:d}):t.exports.apply=d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(3),i=function(){function t(t){this.domNode=t,this.domNode[r.DATA_KEY]={blot:this}}return Object.defineProperty(t.prototype,"statics",{get:function(){return this.constructor},enumerable:!1,configurable:!0}),t.create=function(t){if(null==this.tagName)throw new r.ParchmentError("Blot definition missing tagName");var e;return Array.isArray(this.tagName)?("string"==typeof t&&(t=t.toUpperCase(),parseInt(t).toString()===t&&(t=parseInt(t))),e="number"==typeof t?document.createElement(this.tagName[t-1]):this.tagName.indexOf(t)>-1?document.createElement(t):document.createElement(this.tagName[0])):e=document.createElement(this.tagName),this.className&&e.classList.add(this.className),e},t.prototype.attach=function(){null!=this.parent&&(this.scroll=this.parent.scroll)},t.prototype.clone=function(){var t=this.domNode.cloneNode(!1);return r.create(t)},t.prototype.detach=function(){null!=this.parent&&this.parent.removeChild(this),delete this.domNode[r.DATA_KEY]},t.prototype.deleteAt=function(t,e){this.isolate(t,e).remove()},t.prototype.formatAt=function(t,e,n,i){var o=this.isolate(t,e);if(null!=r.query(n,r.Scope.BLOT)&&i)o.wrap(n,i);else if(null!=r.query(n,r.Scope.ATTRIBUTE)){var s=r.create(this.statics.scope);o.wrap(s),s.format(n,i)}},t.prototype.insertAt=function(t,e,n){var i=null==n?r.create("text",e):r.create(e,n),o=this.split(t);this.parent.insertBefore(i,o)},t.prototype.insertInto=function(t,e){void 0===e&&(e=null),null!=this.parent&&this.parent.children.remove(this);var n=null;t.children.insertBefore(this,e),null!=e&&(n=e.domNode),this.domNode.parentNode==t.domNode&&this.domNode.nextSibling==n||t.domNode.insertBefore(this.domNode,n),this.parent=t,this.attach()},t.prototype.isolate=function(t,e){var n=this.split(t);return n.split(e),n},t.prototype.length=function(){return 1},t.prototype.offset=function(t){return void 0===t&&(t=this.parent),null==this.parent||this==t?0:this.parent.children.offset(this)+this.parent.offset(t)},t.prototype.optimize=function(t){null!=this.domNode[r.DATA_KEY]&&delete this.domNode[r.DATA_KEY].mutations},t.prototype.remove=function(){null!=this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},t.prototype.replace=function(t){null!=t.parent&&(t.parent.insertBefore(this,t.next),t.remove())},t.prototype.replaceWith=function(t,e){var n="string"==typeof t?r.create(t,e):t;return n.replace(this),n},t.prototype.split=function(t,e){return 0===t?this:this.next},t.prototype.update=function(t,e){},t.prototype.wrap=function(t,e){var n="string"==typeof t?r.create(t,e):t;return null!=this.parent&&this.parent.insertBefore(n,this.next),n.appendChild(this),n},t.blotName="abstract",t}();e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(7),i=n(16),o=n(17),s=n(3),a=function(){function t(t){this.attributes={},this.domNode=t,this.build()}return t.prototype.attribute=function(t,e){e?t.add(this.domNode,e)&&(null!=t.value(this.domNode)?this.attributes[t.attrName]=t:delete this.attributes[t.attrName]):(t.remove(this.domNode),delete this.attributes[t.attrName])},t.prototype.build=function(){var t=this;this.attributes={};var e=r.default.keys(this.domNode),n=i.default.keys(this.domNode),a=o.default.keys(this.domNode);e.concat(n).concat(a).forEach((function(e){var n=s.query(e,s.Scope.ATTRIBUTE);n instanceof r.default&&(t.attributes[n.attrName]=n)}))},t.prototype.copy=function(t){var e=this;Object.keys(this.attributes).forEach((function(n){var r=e.attributes[n].value(e.domNode);t.format(n,r)}))},t.prototype.move=function(t){var e=this;this.copy(t),Object.keys(this.attributes).forEach((function(t){e.attributes[t].remove(e.domNode)})),this.attributes={}},t.prototype.values=function(){var t=this;return Object.keys(this.attributes).reduce((function(e,n){return e[n]=t.attributes[n].value(t.domNode),e}),{})},t}();e.default=a},function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});function o(t,e){return(t.getAttribute("class")||"").split(/\s+/).filter((function(t){return 0===t.indexOf(e+"-")}))}Object.defineProperty(e,"__esModule",{value:!0});var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.keys=function(t){return(t.getAttribute("class")||"").split(/\s+/).map((function(t){return t.split("-").slice(0,-1).join("-")}))},e.prototype.add=function(t,e){return!!this.canAdd(t,e)&&(this.remove(t),t.classList.add(this.keyName+"-"+e),!0)},e.prototype.remove=function(t){o(t,this.keyName).forEach((function(e){t.classList.remove(e)})),0===t.classList.length&&t.removeAttribute("class")},e.prototype.value=function(t){var e=(o(t,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(t,e)?e:""},e}(n(7).default);e.default=s},function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});function o(t){var e=t.split("-"),n=e.slice(1).map((function(t){return t[0].toUpperCase()+t.slice(1)})).join("");return e[0]+n}Object.defineProperty(e,"__esModule",{value:!0});var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.keys=function(t){return(t.getAttribute("style")||"").split(";").map((function(t){return t.split(":")[0].trim()}))},e.prototype.add=function(t,e){return!!this.canAdd(t,e)&&(t.style[o(this.keyName)]=e,!0)},e.prototype.remove=function(t){t.style[o(this.keyName)]="",t.getAttribute("style")||t.removeAttribute("style")},e.prototype.value=function(t){var e=t.style[o(this.keyName)];return this.canAdd(t,e)?e:""},e}(n(7).default);e.default=s},function(t,e,n){"use strict";var r=Array.prototype.slice,i=n(19),o=Object.keys,s=o?function(t){return o(t)}:n(37),a=Object.keys;s.shim=function(){return Object.keys?function(){var t=Object.keys(arguments);return t&&t.length===arguments.length}(1,2)||(Object.keys=function(t){return i(t)?a(r.call(t)):a(t)}):Object.keys=s,Object.keys||s},t.exports=s},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i=Object.prototype.toString;t.exports=function(t){var e=i.call(t),n="[object Arguments]"===e;return n||(n="[object Array]"!==e&&null!==t&&"object"===r(t)&&"number"==typeof t.length&&t.length>=0&&"[object Function]"===i.call(t.callee)),n}},function(t,e,n){"use strict";var r=n(21),i=n(13),o=i(r("String.prototype.indexOf"));t.exports=function(t,e){var n=r(t,!!e);return"function"==typeof n&&o(t,".prototype.")>-1?i(n):n}},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i=SyntaxError,o=Function,s=TypeError,a=function(t){try{return o('"use strict"; return ('+t+").constructor;")()}catch(t){}},c=Object.getOwnPropertyDescriptor;if(c)try{c({},"")}catch(t){c=null}var h=function(){throw new s},l=c?function(){try{return h}catch(t){try{return c(arguments,"callee").get}catch(t){return h}}}():h,d=n(22)(),u=Object.getPrototypeOf||function(t){return t.__proto__},p={},f="undefined"==typeof Uint8Array?void 0:u(Uint8Array),y={"%AggregateError%":"undefined"==typeof AggregateError?void 0:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?void 0:ArrayBuffer,"%ArrayIteratorPrototype%":d?u([][Symbol.iterator]()):void 0,"%AsyncFromSyncIteratorPrototype%":void 0,"%AsyncFunction%":p,"%AsyncGenerator%":p,"%AsyncGeneratorFunction%":p,"%AsyncIteratorPrototype%":p,"%Atomics%":"undefined"==typeof Atomics?void 0:Atomics,"%BigInt%":"undefined"==typeof BigInt?void 0:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?void 0:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?void 0:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?void 0:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?void 0:FinalizationRegistry,"%Function%":o,"%GeneratorFunction%":p,"%Int8Array%":"undefined"==typeof Int8Array?void 0:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?void 0:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?void 0:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":d?u(u([][Symbol.iterator]())):void 0,"%JSON%":"object"===("undefined"==typeof JSON?"undefined":r(JSON))?JSON:void 0,"%Map%":"undefined"==typeof Map?void 0:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&d?u((new Map)[Symbol.iterator]()):void 0,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?void 0:Promise,"%Proxy%":"undefined"==typeof Proxy?void 0:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?void 0:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?void 0:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&d?u((new Set)[Symbol.iterator]()):void 0,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?void 0:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":d?u(""[Symbol.iterator]()):void 0,"%Symbol%":d?Symbol:void 0,"%SyntaxError%":i,"%ThrowTypeError%":l,"%TypedArray%":f,"%TypeError%":s,"%Uint8Array%":"undefined"==typeof Uint8Array?void 0:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?void 0:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?void 0:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?void 0:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?void 0:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?void 0:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?void 0:WeakSet},g={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},x=n(12),v=n(41),m=x.call(Function.call,Array.prototype.concat),w=x.call(Function.apply,Array.prototype.splice),b=x.call(Function.call,String.prototype.replace),P=x.call(Function.call,String.prototype.slice),C=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,A=/\\(\\)?/g,j=function(t){var e=P(t,0,1),n=P(t,-1);if("%"===e&&"%"!==n)throw new i("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==e)throw new i("invalid intrinsic syntax, expected opening `%`");var r=[];return b(t,C,(function(t,e,n,i){r[r.length]=n?b(i,A,"$1"):e||t})),r},T=function(t,e){var n,r=t;if(v(g,r)&&(r="%"+(n=g[r])[0]+"%"),v(y,r)){var o=y[r];if(o===p&&(o=function t(e){var n;if("%AsyncFunction%"===e)n=a("async function () {}");else if("%GeneratorFunction%"===e)n=a("function* () {}");else if("%AsyncGeneratorFunction%"===e)n=a("async function* () {}");else if("%AsyncGenerator%"===e){var r=t("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if("%AsyncIteratorPrototype%"===e){var i=t("%AsyncGenerator%");i&&(n=u(i.prototype))}return y[e]=n,n}(r)),void 0===o&&!e)throw new s("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:n,name:r,value:o}}throw new i("intrinsic "+t+" does not exist!")};t.exports=function(t,e){if("string"!=typeof t||0===t.length)throw new s("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof e)throw new s('"allowMissing" argument must be a boolean');var n=j(t),r=n.length>0?n[0]:"",o=T("%"+r+"%",e),a=o.name,h=o.value,l=!1,d=o.alias;d&&(r=d[0],w(n,m([0,1],d)));for(var u=1,p=!0;u<n.length;u+=1){var f=n[u],g=P(f,0,1),x=P(f,-1);if(('"'===g||"'"===g||"`"===g||'"'===x||"'"===x||"`"===x)&&g!==x)throw new i("property names with quotes must have matching quotes");if("constructor"!==f&&p||(l=!0),v(y,a="%"+(r+="."+f)+"%"))h=y[a];else if(null!=h){if(!(f in h)){if(!e)throw new s("base intrinsic for "+t+" exists, but the property is not available.");return}if(c&&u+1>=n.length){var b=c(h,f);h=(p=!!b)&&"get"in b&&!("originalValue"in b.get)?b.get:h[f]}else p=v(h,f),h=h[f];p&&!l&&(y[a]=h)}}return h}},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i="undefined"!=typeof Symbol&&Symbol,o=n(39);t.exports=function(){return"function"==typeof i&&"function"==typeof Symbol&&"symbol"===r(i("foo"))&&"symbol"===r(Symbol("bar"))&&o()}},function(t,e,n){"use strict";var r=function(t){return t!=t};t.exports=function(t,e){return 0===t&&0===e?1/t==1/e:t===e||!(!r(t)||!r(e))}},function(t,e,n){"use strict";var r=n(23);t.exports=function(){return"function"==typeof Object.is?Object.is:r}},function(t,e,n){"use strict";var r=Object,i=TypeError;t.exports=function(){if(null!=this&&this!==r(this))throw new i("RegExp.prototype.flags getter called on non-object");var t="";return this.global&&(t+="g"),this.ignoreCase&&(t+="i"),this.multiline&&(t+="m"),this.dotAll&&(t+="s"),this.unicode&&(t+="u"),this.sticky&&(t+="y"),t}},function(t,e,n){"use strict";var r=n(25),i=n(8).supportsDescriptors,o=Object.getOwnPropertyDescriptor,s=TypeError;t.exports=function(){if(!i)throw new s("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");if("gim"===/a/gim.flags){var t=o(RegExp.prototype,"flags");if(t&&"function"==typeof t.get&&"boolean"==typeof/a/.dotAll)return t.get}return r}},function(t,e,n){"use strict";var r=Object.prototype.hasOwnProperty,i="~";function o(){}function s(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function a(){this._events=new o,this._eventsCount=0}Object.create&&(o.prototype=Object.create(null),(new o).__proto__||(i=!1)),a.prototype.eventNames=function(){var t,e,n=[];if(0===this._eventsCount)return n;for(e in t=this._events)r.call(t,e)&&n.push(i?e.slice(1):e);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(t)):n},a.prototype.listeners=function(t,e){var n=i?i+t:t,r=this._events[n];if(e)return!!r;if(!r)return[];if(r.fn)return[r.fn];for(var o=0,s=r.length,a=new Array(s);o<s;o++)a[o]=r[o].fn;return a},a.prototype.emit=function(t,e,n,r,o,s){var a=i?i+t:t;if(!this._events[a])return!1;var c,h,l=this._events[a],d=arguments.length;if(l.fn){switch(l.once&&this.removeListener(t,l.fn,void 0,!0),d){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,e),!0;case 3:return l.fn.call(l.context,e,n),!0;case 4:return l.fn.call(l.context,e,n,r),!0;case 5:return l.fn.call(l.context,e,n,r,o),!0;case 6:return l.fn.call(l.context,e,n,r,o,s),!0}for(h=1,c=new Array(d-1);h<d;h++)c[h-1]=arguments[h];l.fn.apply(l.context,c)}else{var u,p=l.length;for(h=0;h<p;h++)switch(l[h].once&&this.removeListener(t,l[h].fn,void 0,!0),d){case 1:l[h].fn.call(l[h].context);break;case 2:l[h].fn.call(l[h].context,e);break;case 3:l[h].fn.call(l[h].context,e,n);break;case 4:l[h].fn.call(l[h].context,e,n,r);break;default:if(!c)for(u=1,c=new Array(d-1);u<d;u++)c[u-1]=arguments[u];l[h].fn.apply(l[h].context,c)}}return!0},a.prototype.on=function(t,e,n){var r=new s(e,n||this),o=i?i+t:t;return this._events[o]?this._events[o].fn?this._events[o]=[this._events[o],r]:this._events[o].push(r):(this._events[o]=r,this._eventsCount++),this},a.prototype.once=function(t,e,n){var r=new s(e,n||this,!0),o=i?i+t:t;return this._events[o]?this._events[o].fn?this._events[o]=[this._events[o],r]:this._events[o].push(r):(this._events[o]=r,this._eventsCount++),this},a.prototype.removeListener=function(t,e,n,r){var s=i?i+t:t;if(!this._events[s])return this;if(!e)return 0==--this._eventsCount?this._events=new o:delete this._events[s],this;var a=this._events[s];if(a.fn)a.fn!==e||r&&!a.once||n&&a.context!==n||(0==--this._eventsCount?this._events=new o:delete this._events[s]);else{for(var c=0,h=[],l=a.length;c<l;c++)(a[c].fn!==e||r&&!a[c].once||n&&a[c].context!==n)&&h.push(a[c]);h.length?this._events[s]=1===h.length?h[0]:h:0==--this._eventsCount?this._events=new o:delete this._events[s]}return this},a.prototype.removeAllListeners=function(t){var e;return t?(e=i?i+t:t,this._events[e]&&(0==--this._eventsCount?this._events=new o:delete this._events[e])):(this._events=new o,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prototype.setMaxListeners=function(){return this},a.prefixed=i,a.EventEmitter=a,t.exports=a},function(t,e,n){var r=n(54),i=n(55);t.exports=function(t,e,n){var o=e&&n||0;"string"==typeof t&&(e="binary"===t?new Array(16):null,t=null);var s=(t=t||{}).random||(t.rng||r)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,e)for(var a=0;a<16;++a)e[o+a]=s[a];return e||i(s)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){this.head=this.tail=null,this.length=0}return t.prototype.append=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.insertBefore(t[0],null),t.length>1&&this.append.apply(this,t.slice(1))},t.prototype.contains=function(t){for(var e,n=this.iterator();e=n();)if(e===t)return!0;return!1},t.prototype.insertBefore=function(t,e){t&&(t.next=e,null!=e?(t.prev=e.prev,null!=e.prev&&(e.prev.next=t),e.prev=t,e===this.head&&(this.head=t)):null!=this.tail?(this.tail.next=t,t.prev=this.tail,this.tail=t):(t.prev=null,this.head=this.tail=t),this.length+=1)},t.prototype.offset=function(t){for(var e=0,n=this.head;null!=n;){if(n===t)return e;e+=n.length(),n=n.next}return-1},t.prototype.remove=function(t){this.contains(t)&&(null!=t.prev&&(t.prev.next=t.next),null!=t.next&&(t.next.prev=t.prev),t===this.head&&(this.head=t.next),t===this.tail&&(this.tail=t.prev),this.length-=1)},t.prototype.iterator=function(t){return void 0===t&&(t=this.head),function(){var e=t;return null!=t&&(t=t.next),e}},t.prototype.find=function(t,e){void 0===e&&(e=!1);for(var n,r=this.iterator();n=r();){var i=n.length();if(t<i||e&&t===i&&(null==n.next||0!==n.next.length()))return[n,t];t-=i}return[null,0]},t.prototype.forEach=function(t){for(var e,n=this.iterator();e=n();)t(e)},t.prototype.forEachAt=function(t,e,n){if(!(e<=0))for(var r,i=this.find(t),o=i[0],s=t-i[1],a=this.iterator(o);(r=a())&&s<t+e;){var c=r.length();t>s?n(r,t-s,Math.min(e,s+c-t)):n(r,0,Math.min(c,t+e-s)),s+=c}},t.prototype.map=function(t){return this.reduce((function(e,n){return e.push(t(n)),e}),[])},t.prototype.reduce=function(t,e){for(var n,r=this.iterator();n=r();)e=t(e,n);return e},t}();e.default=r},function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(9),s=n(3),a={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},c=function(t){function e(e){var n=t.call(this,e)||this;return n.scroll=n,n.observer=new MutationObserver((function(t){n.update(t)})),n.observer.observe(n.domNode,a),n.attach(),n}return i(e,t),e.prototype.detach=function(){t.prototype.detach.call(this),this.observer.disconnect()},e.prototype.deleteAt=function(e,n){this.update(),0===e&&n===this.length()?this.children.forEach((function(t){t.remove()})):t.prototype.deleteAt.call(this,e,n)},e.prototype.formatAt=function(e,n,r,i){this.update(),t.prototype.formatAt.call(this,e,n,r,i)},e.prototype.insertAt=function(e,n,r){this.update(),t.prototype.insertAt.call(this,e,n,r)},e.prototype.optimize=function(e,n){var r=this;void 0===e&&(e=[]),void 0===n&&(n={}),t.prototype.optimize.call(this,n);for(var i=[].slice.call(this.observer.takeRecords());i.length>0;)e.push(i.pop());for(var a=function(t,e){void 0===e&&(e=!0),null!=t&&t!==r&&null!=t.domNode.parentNode&&(null==t.domNode[s.DATA_KEY].mutations&&(t.domNode[s.DATA_KEY].mutations=[]),e&&a(t.parent))},c=function(t){null!=t.domNode[s.DATA_KEY]&&null!=t.domNode[s.DATA_KEY].mutations&&(t instanceof o.default&&t.children.forEach(c),t.optimize(n))},h=e,l=0;h.length>0;l+=1){if(l>=100)throw new Error("[Parchment] Maximum optimize iterations reached");for(h.forEach((function(t){var e=s.find(t.target,!0);null!=e&&(e.domNode===t.target&&("childList"===t.type?(a(s.find(t.previousSibling,!1)),[].forEach.call(t.addedNodes,(function(t){var e=s.find(t,!1);a(e,!1),e instanceof o.default&&e.children.forEach((function(t){a(t,!1)}))}))):"attributes"===t.type&&a(e.prev)),a(e))})),this.children.forEach(c),i=(h=[].slice.call(this.observer.takeRecords())).slice();i.length>0;)e.push(i.pop())}},e.prototype.update=function(e,n){var r=this;void 0===n&&(n={}),(e=e||this.observer.takeRecords()).map((function(t){var e=s.find(t.target,!0);return null==e?null:null==e.domNode[s.DATA_KEY].mutations?(e.domNode[s.DATA_KEY].mutations=[t],e):(e.domNode[s.DATA_KEY].mutations.push(t),null)})).forEach((function(t){null!=t&&t!==r&&null!=t.domNode[s.DATA_KEY]&&t.update(t.domNode[s.DATA_KEY].mutations||[],n)})),null!=this.domNode[s.DATA_KEY].mutations&&t.prototype.update.call(this,this.domNode[s.DATA_KEY].mutations,n),this.optimize(e,n)},e.blotName="scroll",e.defaultChild="block",e.scope=s.Scope.BLOCK_BLOT,e.tagName="DIV",e}(o.default);e.default=c},function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(10),s=n(3),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.formats=function(n){if(n.tagName!==e.tagName)return t.formats.call(this,n)},e.prototype.format=function(n,r){var i=this;n!==this.statics.blotName||r?t.prototype.format.call(this,n,r):(this.children.forEach((function(t){t instanceof o.default||(t=t.wrap(e.blotName,!0)),i.attributes.copy(t)})),this.unwrap())},e.prototype.formatAt=function(e,n,r,i){null!=this.formats()[r]||s.query(r,s.Scope.ATTRIBUTE)?this.isolate(e,n).format(r,i):t.prototype.formatAt.call(this,e,n,r,i)},e.prototype.optimize=function(n){t.prototype.optimize.call(this,n);var r=this.formats();if(0===Object.keys(r).length)return this.unwrap();var i=this.next;i instanceof e&&i.prev===this&&function(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(var n in t)if(t[n]!==e[n])return!1;return!0}(r,i.formats())&&(i.moveChildren(this),i.remove())},e.blotName="inline",e.scope=s.Scope.INLINE_BLOT,e.tagName="SPAN",e}(o.default);e.default=a},function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(10),s=n(3),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.formats=function(n){var r=s.query(e.blotName).tagName;if(n.tagName!==r)return t.formats.call(this,n)},e.prototype.format=function(n,r){null!=s.query(n,s.Scope.BLOCK)&&(n!==this.statics.blotName||r?t.prototype.format.call(this,n,r):this.replaceWith(e.blotName))},e.prototype.formatAt=function(e,n,r,i){null!=s.query(r,s.Scope.BLOCK)?this.format(r,i):t.prototype.formatAt.call(this,e,n,r,i)},e.prototype.insertAt=function(e,n,r){if(null==r||null!=s.query(n,s.Scope.INLINE))t.prototype.insertAt.call(this,e,n,r);else{var i=this.split(e),o=s.create(n,r);i.parent.insertBefore(o,i)}},e.prototype.update=function(e,n){navigator.userAgent.match(/Trident/)?this.build():t.prototype.update.call(this,e,n)},e.blotName="block",e.scope=s.Scope.BLOCK_BLOT,e.tagName="P",e}(o.default);e.default=a},function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.formats=function(t){},e.prototype.format=function(e,n){t.prototype.formatAt.call(this,0,this.length(),e,n)},e.prototype.formatAt=function(e,n,r,i){0===e&&n===this.length()?this.format(r,i):t.prototype.formatAt.call(this,e,n,r,i)},e.prototype.formats=function(){return this.statics.formats(this.domNode)},e}(n(11).default);e.default=o},function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(11),s=n(3),a=function(t){function e(e){var n=t.call(this,e)||this;return n.text=n.statics.value(n.domNode),n}return i(e,t),e.create=function(t){return document.createTextNode(t)},e.value=function(t){var e=t.data;return e.normalize&&(e=e.normalize()),e},e.prototype.deleteAt=function(t,e){this.domNode.data=this.text=this.text.slice(0,t)+this.text.slice(t+e)},e.prototype.index=function(t,e){return this.domNode===t?e:-1},e.prototype.insertAt=function(e,n,r){null==r?(this.text=this.text.slice(0,e)+n+this.text.slice(e),this.domNode.data=this.text):t.prototype.insertAt.call(this,e,n,r)},e.prototype.length=function(){return this.text.length},e.prototype.optimize=function(n){t.prototype.optimize.call(this,n),this.text=this.statics.value(this.domNode),0===this.text.length?this.remove():this.next instanceof e&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},e.prototype.position=function(t,e){return void 0===e&&(e=!1),[this.domNode,t]},e.prototype.split=function(t,e){if(void 0===e&&(e=!1),!e){if(0===t)return this;if(t===this.length())return this.next}var n=s.create(this.domNode.splitText(t));return this.parent.insertBefore(n,this.next),this.text=this.statics.value(this.domNode),n},e.prototype.update=function(t,e){var n=this;t.some((function(t){return"characterData"===t.type&&t.target===n.domNode}))&&(this.text=this.statics.value(this.domNode))},e.prototype.value=function(){return this.text},e.blotName="text",e.scope=s.Scope.INLINE_BLOT,e}(o.default);e.default=a},function(t,e){var n=document.createElement("div");if(n.classList.toggle("test-class",!1),n.classList.contains("test-class")){var r=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(t,e){return arguments.length>1&&!this.contains(t)==!e?e:r.call(this,t)}}String.prototype.startsWith||(String.prototype.startsWith=function(t,e){return e=e||0,this.substr(e,t.length)===t}),String.prototype.endsWith||(String.prototype.endsWith=function(t,e){var n=this.toString();("number"!=typeof e||!isFinite(e)||Math.floor(e)!==e||e>n.length)&&(e=n.length),e-=t.length;var r=n.indexOf(t,e);return-1!==r&&r===e}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(t){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof t)throw new TypeError("predicate must be a function");for(var e,n=Object(this),r=n.length>>>0,i=arguments[1],o=0;o<r;o++)if(e=n[o],t.call(i,e,o,n))return e}}),document.addEventListener("DOMContentLoaded",(function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)}))},function(t,e){function n(t,e,s){if(t==e)return t?[[0,t]]:[];(s<0||t.length<s)&&(s=null);var c=i(t,e),h=t.substring(0,c);c=o(t=t.substring(c),e=e.substring(c));var l=t.substring(t.length-c),d=function(t,e){var s;if(!t)return[[1,e]];if(!e)return[[-1,t]];var a=t.length>e.length?t:e,c=t.length>e.length?e:t,h=a.indexOf(c);if(-1!=h)return s=[[1,a.substring(0,h)],[0,c],[1,a.substring(h+c.length)]],t.length>e.length&&(s[0][0]=s[2][0]=-1),s;if(1==c.length)return[[-1,t],[1,e]];var l=function(t,e){var n=t.length>e.length?t:e,r=t.length>e.length?e:t;if(n.length<4||2*r.length<n.length)return null;function s(t,e,n){for(var r,s,a,c,h=t.substring(n,n+Math.floor(t.length/4)),l=-1,d="";-1!=(l=e.indexOf(h,l+1));){var u=i(t.substring(n),e.substring(l)),p=o(t.substring(0,n),e.substring(0,l));d.length<p+u&&(d=e.substring(l-p,l)+e.substring(l,l+u),r=t.substring(0,n-p),s=t.substring(n+u),a=e.substring(0,l-p),c=e.substring(l+u))}return 2*d.length>=t.length?[r,s,a,c,d]:null}var a,c,h,l,d,u=s(n,r,Math.ceil(n.length/4)),p=s(n,r,Math.ceil(n.length/2));return u||p?(a=p?u&&u[4].length>p[4].length?u:p:u,t.length>e.length?(c=a[0],h=a[1],l=a[2],d=a[3]):(l=a[0],d=a[1],c=a[2],h=a[3]),[c,h,l,d,a[4]]):null}(t,e);if(l){var d=l[0],u=l[1],p=l[2],f=l[3],y=l[4],g=n(d,p),x=n(u,f);return g.concat([[0,y]],x)}return function(t,e){for(var n=t.length,i=e.length,o=Math.ceil((n+i)/2),s=o,a=2*o,c=new Array(a),h=new Array(a),l=0;l<a;l++)c[l]=-1,h[l]=-1;c[s+1]=0,h[s+1]=0;for(var d=n-i,u=d%2!=0,p=0,f=0,y=0,g=0,x=0;x<o;x++){for(var v=-x+p;v<=x-f;v+=2){for(var m=s+v,w=(j=v==-x||v!=x&&c[m-1]<c[m+1]?c[m+1]:c[m-1]+1)-v;j<n&&w<i&&t.charAt(j)==e.charAt(w);)j++,w++;if(c[m]=j,j>n)f+=2;else if(w>i)p+=2;else if(u&&(C=s+d-v)>=0&&C<a&&-1!=h[C]){var b=n-h[C];if(j>=b)return r(t,e,j,w)}}for(var P=-x+y;P<=x-g;P+=2){for(var C=s+P,A=(b=P==-x||P!=x&&h[C-1]<h[C+1]?h[C+1]:h[C-1]+1)-P;b<n&&A<i&&t.charAt(n-b-1)==e.charAt(i-A-1);)b++,A++;if(h[C]=b,b>n)g+=2;else if(A>i)y+=2;else if(!u&&(m=s+d-P)>=0&&m<a&&-1!=c[m]){var j=c[m];if(w=s+j-m,j>=(b=n-b))return r(t,e,j,w)}}}return[[-1,t],[1,e]]}(t,e)}(t=t.substring(0,t.length-c),e=e.substring(0,e.length-c));return h&&d.unshift([0,h]),l&&d.push([0,l]),function t(e){e.push([0,""]);for(var n,r=0,s=0,a=0,c="",h="";r<e.length;)switch(e[r][0]){case 1:a++,h+=e[r][1],r++;break;case-1:s++,c+=e[r][1],r++;break;case 0:s+a>1?(0!==s&&0!==a&&(0!==(n=i(h,c))&&(r-s-a>0&&0==e[r-s-a-1][0]?e[r-s-a-1][1]+=h.substring(0,n):(e.splice(0,0,[0,h.substring(0,n)]),r++),h=h.substring(n),c=c.substring(n)),0!==(n=o(h,c))&&(e[r][1]=h.substring(h.length-n)+e[r][1],h=h.substring(0,h.length-n),c=c.substring(0,c.length-n))),0===s?e.splice(r-a,s+a,[1,h]):0===a?e.splice(r-s,s+a,[-1,c]):e.splice(r-s-a,s+a,[-1,c],[1,h]),r=r-s-a+(s?1:0)+(a?1:0)+1):0!==r&&0==e[r-1][0]?(e[r-1][1]+=e[r][1],e.splice(r,1)):r++,a=0,s=0,c="",h=""}""===e[e.length-1][1]&&e.pop();var l=!1;for(r=1;r<e.length-1;)0==e[r-1][0]&&0==e[r+1][0]&&(e[r][1].substring(e[r][1].length-e[r-1][1].length)==e[r-1][1]?(e[r][1]=e[r-1][1]+e[r][1].substring(0,e[r][1].length-e[r-1][1].length),e[r+1][1]=e[r-1][1]+e[r+1][1],e.splice(r-1,1),l=!0):e[r][1].substring(0,e[r+1][1].length)==e[r+1][1]&&(e[r-1][1]+=e[r+1][1],e[r][1]=e[r][1].substring(e[r+1][1].length)+e[r+1][1],e.splice(r+1,1),l=!0)),r++;l&&t(e)}(d),null!=s&&(d=function(t,e){var n=function(t,e){if(0===e)return[0,t];for(var n=0,r=0;r<t.length;r++){var i=t[r];if(-1===i[0]||0===i[0]){var o=n+i[1].length;if(e===o)return[r+1,t];if(e<o){t=t.slice();var s=e-n,a=[i[0],i[1].slice(0,s)],c=[i[0],i[1].slice(s)];return t.splice(r,1,a,c),[r+1,t]}n=o}}throw new Error("cursor_pos is out of bounds!")}(t,e),r=n[1],i=n[0],o=r[i],s=r[i+1];if(null==o)return t;if(0!==o[0])return t;if(null!=s&&o[1]+s[1]===s[1]+o[1])return r.splice(i,2,s,o),a(r,i,2);if(null!=s&&0===s[1].indexOf(o[1])){r.splice(i,2,[s[0],o[1]],[0,o[1]]);var c=s[1].slice(o[1].length);return c.length>0&&r.splice(i+2,0,[s[0],c]),a(r,i,3)}return t}(d,s)),function(t){for(var e=!1,n=function(t){return t.charCodeAt(0)>=56320&&t.charCodeAt(0)<=57343},r=2;r<t.length;r+=1)0===t[r-2][0]&&(i=t[r-2][1]).charCodeAt(i.length-1)>=55296&&i.charCodeAt(i.length-1)<=56319&&-1===t[r-1][0]&&n(t[r-1][1])&&1===t[r][0]&&n(t[r][1])&&(e=!0,t[r-1][1]=t[r-2][1].slice(-1)+t[r-1][1],t[r][1]=t[r-2][1].slice(-1)+t[r][1],t[r-2][1]=t[r-2][1].slice(0,-1));var i;if(!e)return t;var o=[];for(r=0;r<t.length;r+=1)t[r][1].length>0&&o.push(t[r]);return o}(d)}function r(t,e,r,i){var o=t.substring(0,r),s=e.substring(0,i),a=t.substring(r),c=e.substring(i),h=n(o,s),l=n(a,c);return h.concat(l)}function i(t,e){if(!t||!e||t.charAt(0)!=e.charAt(0))return 0;for(var n=0,r=Math.min(t.length,e.length),i=r,o=0;n<i;)t.substring(o,i)==e.substring(o,i)?o=n=i:r=i,i=Math.floor((r-n)/2+n);return i}function o(t,e){if(!t||!e||t.charAt(t.length-1)!=e.charAt(e.length-1))return 0;for(var n=0,r=Math.min(t.length,e.length),i=r,o=0;n<i;)t.substring(t.length-i,t.length-o)==e.substring(e.length-i,e.length-o)?o=n=i:r=i,i=Math.floor((r-n)/2+n);return i}var s=n;function a(t,e,n){for(var r=e+n-1;r>=0&&r>=e-1;r--)if(r+1<t.length){var i=t[r],o=t[r+1];i[0]===o[1]&&t.splice(r,2,[i[0],i[1]+o[1]])}return t}s.INSERT=1,s.DELETE=-1,s.EQUAL=0,t.exports=s},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i;if(!Object.keys){var o=Object.prototype.hasOwnProperty,s=Object.prototype.toString,a=n(19),c=Object.prototype.propertyIsEnumerable,h=!c.call({toString:null},"toString"),l=c.call((function(){}),"prototype"),d=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],u=function(t){var e=t.constructor;return e&&e.prototype===t},p={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},f=function(){if("undefined"==typeof window)return!1;for(var t in window)try{if(!p["$"+t]&&o.call(window,t)&&null!==window[t]&&"object"===r(window[t]))try{u(window[t])}catch(t){return!0}}catch(t){return!0}return!1}();i=function(t){var e=null!==t&&"object"===r(t),n="[object Function]"===s.call(t),i=a(t),c=e&&"[object String]"===s.call(t),p=[];if(!e&&!n&&!i)throw new TypeError("Object.keys called on a non-object");var y=l&&n;if(c&&t.length>0&&!o.call(t,0))for(var g=0;g<t.length;++g)p.push(String(g));if(i&&t.length>0)for(var x=0;x<t.length;++x)p.push(String(x));else for(var v in t)y&&"prototype"===v||!o.call(t,v)||p.push(String(v));if(h)for(var m=function(t){if("undefined"==typeof window||!f)return u(t);try{return u(t)}catch(t){return!1}}(t),w=0;w<d.length;++w)m&&"constructor"===d[w]||!o.call(t,d[w])||p.push(d[w]);return p}}t.exports=i},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i="function"==typeof Symbol&&"symbol"===r(Symbol.toStringTag),o=n(20)("Object.prototype.toString"),s=function(t){return!(i&&t&&"object"===r(t)&&Symbol.toStringTag in t)&&"[object Arguments]"===o(t)},a=function(t){return!!s(t)||null!==t&&"object"===r(t)&&"number"==typeof t.length&&t.length>=0&&"[object Array]"!==o(t)&&"[object Function]"===o(t.callee)},c=function(){return s(arguments)}();s.isLegacyArguments=a,t.exports=c?s:a},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}t.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"===r(Symbol.iterator))return!0;var t={},e=Symbol("test"),n=Object(e);if("string"==typeof e)return!1;if("[object Symbol]"!==Object.prototype.toString.call(e))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(e in t[e]=42,t)return!1;if("function"==typeof Object.keys&&0!==Object.keys(t).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(t).length)return!1;var i=Object.getOwnPropertySymbols(t);if(1!==i.length||i[0]!==e)return!1;if(!Object.prototype.propertyIsEnumerable.call(t,e))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(t,e);if(42!==o.value||!0!==o.enumerable)return!1}return!0}},function(t,e,n){"use strict";var r="Function.prototype.bind called on incompatible ",i=Array.prototype.slice,o=Object.prototype.toString;t.exports=function(t){var e=this;if("function"!=typeof e||"[object Function]"!==o.call(e))throw new TypeError(r+e);for(var n,s=i.call(arguments,1),a=function(){if(this instanceof n){var r=e.apply(this,s.concat(i.call(arguments)));return Object(r)===r?r:this}return e.apply(t,s.concat(i.call(arguments)))},c=Math.max(0,e.length-s.length),h=[],l=0;l<c;l++)h.push("$"+l);if(n=Function("binder","return function ("+h.join(",")+"){ return binder.apply(this,arguments); }")(a),e.prototype){var d=function(){};d.prototype=e.prototype,n.prototype=new d,d.prototype=null}return n}},function(t,e,n){"use strict";var r=n(12);t.exports=r.call(Function.call,Object.prototype.hasOwnProperty)},function(t,e,n){"use strict";var r=n(8),i=n(13),o=n(23),s=n(24),a=n(43),c=i(s(),Object);r(c,{getPolyfill:s,implementation:o,shim:a}),t.exports=c},function(t,e,n){"use strict";var r=n(24),i=n(8);t.exports=function(){var t=r();return i(Object,{is:t},{is:function(){return Object.is!==t}}),t}},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i,o,s,a,c=n(20),h=n(22)()&&"symbol"===r(Symbol.toStringTag);if(h){i=c("Object.prototype.hasOwnProperty"),o=c("RegExp.prototype.exec"),s={};var l=function(){throw s};a={toString:l,valueOf:l},"symbol"===r(Symbol.toPrimitive)&&(a[Symbol.toPrimitive]=l)}var d=c("Object.prototype.toString"),u=Object.getOwnPropertyDescriptor;t.exports=h?function(t){if(!t||"object"!==r(t))return!1;var e=u(t,"lastIndex");if(!e||!i(e,"value"))return!1;try{o(t,a)}catch(t){return t===s}}:function(t){return!(!t||"object"!==r(t)&&"function"!=typeof t)&&"[object RegExp]"===d(t)}},function(t,e,n){"use strict";var r=n(8),i=n(13),o=n(25),s=n(26),a=n(46),c=i(o);r(c,{getPolyfill:s,implementation:o,shim:a}),t.exports=c},function(t,e,n){"use strict";var r=n(8).supportsDescriptors,i=n(26),o=Object.getOwnPropertyDescriptor,s=Object.defineProperty,a=TypeError,c=Object.getPrototypeOf,h=/a/;t.exports=function(){if(!r||!c)throw new a("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var t=i(),e=c(h),n=o(e,"flags");return n&&n.get===t||s(e,"flags",{configurable:!0,enumerable:!1,get:t}),t}},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i=Date.prototype.getDay,o=Object.prototype.toString,s="function"==typeof Symbol&&"symbol"===r(Symbol.toStringTag);t.exports=function(t){return"object"===r(t)&&null!==t&&(s?function(t){try{return i.call(t),!0}catch(t){return!1}}(t):"[object Date]"===o.call(t))}},function(t,e,n){"use strict";(function(t){var r=n(50),i=n(51),o=n(52);function s(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(t,e){if(s()<e)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=c.prototype:(null===t&&(t=new c(e)),t.length=e),t}function c(t,e,n){if(!(c.TYPED_ARRAY_SUPPORT||this instanceof c))return new c(t,e,n);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return d(this,t)}return h(this,t,e,n)}function h(t,e,n,r){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,n,r){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return e=void 0===n&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,n):new Uint8Array(e,n,r),c.TYPED_ARRAY_SUPPORT?(t=e).__proto__=c.prototype:t=u(t,e),t}(t,e,n,r):"string"==typeof e?function(t,e,n){if("string"==typeof n&&""!==n||(n="utf8"),!c.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|f(e,n),i=(t=a(t,r)).write(e,n);return i!==r&&(t=t.slice(0,i)),t}(t,e,n):function(t,e){if(c.isBuffer(e)){var n=0|p(e.length);return 0===(t=a(t,n)).length||e.copy(t,0,0,n),t}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(r=e.length)!=r?a(t,0):u(t,e);if("Buffer"===e.type&&o(e.data))return u(t,e.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function l(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function d(t,e){if(l(e),t=a(t,e<0?0:0|p(e)),!c.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function u(t,e){var n=e.length<0?0:0|p(e.length);t=a(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function p(t){if(t>=s())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s().toString(16)+" bytes");return 0|t}function f(t,e){if(c.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return L(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return q(t).length;default:if(r)return L(t).length;e=(""+e).toLowerCase(),r=!0}}function y(t,e,n){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return E(this,e,n);case"utf8":case"utf-8":return T(this,e,n);case"ascii":return S(this,e,n);case"latin1":case"binary":return R(this,e,n);case"base64":return j(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function g(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function x(t,e,n,r,i){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof e&&(e=c.from(e,r)),c.isBuffer(e))return 0===e.length?-1:v(t,e,n,r,i);if("number"==typeof e)return e&=255,c.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):v(t,[e],n,r,i);throw new TypeError("val must be string, number or Buffer")}function v(t,e,n,r,i){var o,s=1,a=t.length,c=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;s=2,a/=2,c/=2,n/=2}function h(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(i){var l=-1;for(o=n;o<a;o++)if(h(t,o)===h(e,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===c)return l*s}else-1!==l&&(o-=o-l),l=-1}else for(n+c>a&&(n=a-c),o=n;o>=0;o--){for(var d=!0,u=0;u<c;u++)if(h(t,o+u)!==h(e,u)){d=!1;break}if(d)return o}return-1}function m(t,e,n,r){n=Number(n)||0;var i=t.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=e.length;if(o%2!=0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var s=0;s<r;++s){var a=parseInt(e.substr(2*s,2),16);if(isNaN(a))return s;t[n+s]=a}return s}function w(t,e,n,r){return z(L(e,t.length-n),t,n,r)}function b(t,e,n,r){return z(function(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,r)}function P(t,e,n,r){return b(t,e,n,r)}function C(t,e,n,r){return z(q(e),t,n,r)}function A(t,e,n,r){return z(function(t,e){for(var n,r,i,o=[],s=0;s<t.length&&!((e-=2)<0);++s)r=(n=t.charCodeAt(s))>>8,i=n%256,o.push(i),o.push(r);return o}(e,t.length-n),t,n,r)}function j(t,e,n){return 0===e&&n===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(e,n))}function T(t,e,n){n=Math.min(t.length,n);for(var r=[],i=e;i<n;){var o,s,a,c,h=t[i],l=null,d=h>239?4:h>223?3:h>191?2:1;if(i+d<=n)switch(d){case 1:h<128&&(l=h);break;case 2:128==(192&(o=t[i+1]))&&(c=(31&h)<<6|63&o)>127&&(l=c);break;case 3:o=t[i+1],s=t[i+2],128==(192&o)&&128==(192&s)&&(c=(15&h)<<12|(63&o)<<6|63&s)>2047&&(c<55296||c>57343)&&(l=c);break;case 4:o=t[i+1],s=t[i+2],a=t[i+3],128==(192&o)&&128==(192&s)&&128==(192&a)&&(c=(15&h)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&c<1114112&&(l=c)}null===l?(l=65533,d=1):l>65535&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|1023&l),r.push(l),i+=d}return function(t){var e=t.length;if(e<=4096)return String.fromCharCode.apply(String,t);for(var n="",r=0;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=4096));return n}(r)}function S(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(127&t[i]);return r}function R(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}function E(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=e;o<n;++o)i+=U(t[o]);return i}function M(t,e,n){for(var r=t.slice(e,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function O(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function k(t,e,n,r,i,o){if(!c.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function I(t,e,n,r){e<0&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-n,2);i<o;++i)t[n+i]=(e&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function B(t,e,n,r){e<0&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-n,4);i<o;++i)t[n+i]=e>>>8*(r?i:3-i)&255}function _(t,e,n,r,i,o){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function D(t,e,n,r,o){return o||_(t,0,n,4),i.write(t,e,n,r,23,4),n+4}function F(t,e,n,r,o){return o||_(t,0,n,8),i.write(t,e,n,r,52,8),n+8}e.Buffer=c,e.SlowBuffer=function(t){return+t!=t&&(t=0),c.alloc(+t)},e.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=s(),c.poolSize=8192,c._augment=function(t){return t.__proto__=c.prototype,t},c.from=function(t,e,n){return h(null,t,e,n)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0})),c.alloc=function(t,e,n){return function(t,e,n,r){return l(e),e<=0?a(t,e):void 0!==n?"string"==typeof r?a(t,e).fill(n,r):a(t,e).fill(n):a(t,e)}(null,t,e,n)},c.allocUnsafe=function(t){return d(null,t)},c.allocUnsafeSlow=function(t){return d(null,t)},c.isBuffer=function(t){return!(null==t||!t._isBuffer)},c.compare=function(t,e){if(!c.isBuffer(t)||!c.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,r=e.length,i=0,o=Math.min(n,r);i<o;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0},c.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(t,e){if(!o(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return c.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var r=c.allocUnsafe(e),i=0;for(n=0;n<t.length;++n){var s=t[n];if(!c.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(r,i),i+=s.length}return r},c.byteLength=f,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)g(this,e,e+1);return this},c.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)g(this,e,e+3),g(this,e+1,e+2);return this},c.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)g(this,e,e+7),g(this,e+1,e+6),g(this,e+2,e+5),g(this,e+3,e+4);return this},c.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?T(this,0,t):y.apply(this,arguments)},c.prototype.equals=function(t){if(!c.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===c.compare(this,t)},c.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},c.prototype.compare=function(t,e,n,r,i){if(!c.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),e<0||n>t.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&e>=n)return 0;if(r>=i)return-1;if(e>=n)return 1;if(this===t)return 0;for(var o=(i>>>=0)-(r>>>=0),s=(n>>>=0)-(e>>>=0),a=Math.min(o,s),h=this.slice(r,i),l=t.slice(e,n),d=0;d<a;++d)if(h[d]!==l[d]){o=h[d],s=l[d];break}return o<s?-1:s<o?1:0},c.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},c.prototype.indexOf=function(t,e,n){return x(this,t,e,n,!0)},c.prototype.lastIndexOf=function(t,e,n){return x(this,t,e,n,!1)},c.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-e;if((void 0===n||n>i)&&(n=i),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return m(this,t,e,n);case"utf8":case"utf-8":return w(this,t,e,n);case"ascii":return b(this,t,e,n);case"latin1":case"binary":return P(this,t,e,n);case"base64":return C(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},c.prototype.slice=function(t,e){var n,r=this.length;if((t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t),c.TYPED_ARRAY_SUPPORT)(n=this.subarray(t,e)).__proto__=c.prototype;else{var i=e-t;n=new c(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+t]}return n},c.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||O(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r},c.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||O(t,e,this.length);for(var r=this[t+--e],i=1;e>0&&(i*=256);)r+=this[t+--e]*i;return r},c.prototype.readUInt8=function(t,e){return e||O(t,1,this.length),this[t]},c.prototype.readUInt16LE=function(t,e){return e||O(t,2,this.length),this[t]|this[t+1]<<8},c.prototype.readUInt16BE=function(t,e){return e||O(t,2,this.length),this[t]<<8|this[t+1]},c.prototype.readUInt32LE=function(t,e){return e||O(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},c.prototype.readUInt32BE=function(t,e){return e||O(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},c.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||O(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*e)),r},c.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||O(t,e,this.length);for(var r=e,i=1,o=this[t+--r];r>0&&(i*=256);)o+=this[t+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*e)),o},c.prototype.readInt8=function(t,e){return e||O(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},c.prototype.readInt16LE=function(t,e){e||O(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt16BE=function(t,e){e||O(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt32LE=function(t,e){return e||O(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},c.prototype.readInt32BE=function(t,e){return e||O(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},c.prototype.readFloatLE=function(t,e){return e||O(t,4,this.length),i.read(this,t,!0,23,4)},c.prototype.readFloatBE=function(t,e){return e||O(t,4,this.length),i.read(this,t,!1,23,4)},c.prototype.readDoubleLE=function(t,e){return e||O(t,8,this.length),i.read(this,t,!0,52,8)},c.prototype.readDoubleBE=function(t,e){return e||O(t,8,this.length),i.read(this,t,!1,52,8)},c.prototype.writeUIntLE=function(t,e,n,r){t=+t,e|=0,n|=0,r||k(this,t,e,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[e]=255&t;++o<n&&(i*=256);)this[e+o]=t/i&255;return e+n},c.prototype.writeUIntBE=function(t,e,n,r){t=+t,e|=0,n|=0,r||k(this,t,e,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+n},c.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||k(this,t,e,1,255,0),c.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},c.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||k(this,t,e,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):I(this,t,e,!0),e+2},c.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||k(this,t,e,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):I(this,t,e,!1),e+2},c.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||k(this,t,e,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):B(this,t,e,!0),e+4},c.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||k(this,t,e,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):B(this,t,e,!1),e+4},c.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);k(this,t,e,n,i-1,-i)}var o=0,s=1,a=0;for(this[e]=255&t;++o<n&&(s*=256);)t<0&&0===a&&0!==this[e+o-1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+n},c.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);k(this,t,e,n,i-1,-i)}var o=n-1,s=1,a=0;for(this[e+o]=255&t;--o>=0&&(s*=256);)t<0&&0===a&&0!==this[e+o+1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+n},c.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||k(this,t,e,1,127,-128),c.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},c.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||k(this,t,e,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):I(this,t,e,!0),e+2},c.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||k(this,t,e,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):I(this,t,e,!1),e+2},c.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||k(this,t,e,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):B(this,t,e,!0),e+4},c.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||k(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):B(this,t,e,!1),e+4},c.prototype.writeFloatLE=function(t,e,n){return D(this,t,e,!0,n)},c.prototype.writeFloatBE=function(t,e,n){return D(this,t,e,!1,n)},c.prototype.writeDoubleLE=function(t,e,n){return F(this,t,e,!0,n)},c.prototype.writeDoubleBE=function(t,e,n){return F(this,t,e,!1,n)},c.prototype.copy=function(t,e,n,r){if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var i,o=r-n;if(this===t&&n<e&&e<r)for(i=o-1;i>=0;--i)t[i+e]=this[i+n];else if(o<1e3||!c.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)t[i+e]=this[i+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+o),e);return o},c.prototype.fill=function(t,e,n,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!c.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var o;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(o=e;o<n;++o)this[o]=t;else{var s=c.isBuffer(t)?t:L(new c(t,r).toString()),a=s.length;for(o=0;o<n-e;++o)this[o+e]=s[o%a]}return this};var N=/[^+\/0-9A-Za-z-_]/g;function U(t){return t<16?"0"+t.toString(16):t.toString(16)}function L(t,e){var n;e=e||1/0;for(var r=t.length,i=null,o=[],s=0;s<r;++s){if((n=t.charCodeAt(s))>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(s+1===r){(e-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function q(t){return r.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(N,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function z(t,e,n,r){for(var i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}}).call(this,n(49))},function(t,e){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(t){"object"===("undefined"==typeof window?"undefined":n(window))&&(r=window)}t.exports=r},function(t,e,n){"use strict";e.byteLength=function(t){var e=h(t),n=e[0],r=e[1];return 3*(n+r)/4-r},e.toByteArray=function(t){var e,n,r=h(t),s=r[0],a=r[1],c=new o(function(t,e,n){return 3*(e+n)/4-n}(0,s,a)),l=0,d=a>0?s-4:s;for(n=0;n<d;n+=4)e=i[t.charCodeAt(n)]<<18|i[t.charCodeAt(n+1)]<<12|i[t.charCodeAt(n+2)]<<6|i[t.charCodeAt(n+3)],c[l++]=e>>16&255,c[l++]=e>>8&255,c[l++]=255&e;return 2===a&&(e=i[t.charCodeAt(n)]<<2|i[t.charCodeAt(n+1)]>>4,c[l++]=255&e),1===a&&(e=i[t.charCodeAt(n)]<<10|i[t.charCodeAt(n+1)]<<4|i[t.charCodeAt(n+2)]>>2,c[l++]=e>>8&255,c[l++]=255&e),c},e.fromByteArray=function(t){for(var e,n=t.length,i=n%3,o=[],s=0,a=n-i;s<a;s+=16383)o.push(l(t,s,s+16383>a?a:s+16383));return 1===i?(e=t[n-1],o.push(r[e>>2]+r[e<<4&63]+"==")):2===i&&(e=(t[n-2]<<8)+t[n-1],o.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"=")),o.join("")};for(var r=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,c=s.length;a<c;++a)r[a]=s[a],i[s.charCodeAt(a)]=a;function h(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function l(t,e,n){for(var i,o,s=[],a=e;a<n;a+=3)i=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(255&t[a+2]),s.push(r[(o=i)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return s.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(t,e){e.read=function(t,e,n,r,i){var o,s,a=8*i-r-1,c=(1<<a)-1,h=c>>1,l=-7,d=n?i-1:0,u=n?-1:1,p=t[e+d];for(d+=u,o=p&(1<<-l)-1,p>>=-l,l+=a;l>0;o=256*o+t[e+d],d+=u,l-=8);for(s=o&(1<<-l)-1,o>>=-l,l+=r;l>0;s=256*s+t[e+d],d+=u,l-=8);if(0===o)o=1-h;else{if(o===c)return s?NaN:1/0*(p?-1:1);s+=Math.pow(2,r),o-=h}return(p?-1:1)*s*Math.pow(2,o-r)},e.write=function(t,e,n,r,i,o){var s,a,c,h=8*o-i-1,l=(1<<h)-1,d=l>>1,u=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:o-1,f=r?1:-1,y=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=l):(s=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-s))<1&&(s--,c*=2),(e+=s+d>=1?u/c:u*Math.pow(2,1-d))*c>=2&&(s++,c/=2),s+d>=l?(a=0,s=l):s+d>=1?(a=(e*c-1)*Math.pow(2,i),s+=d):(a=e*Math.pow(2,d-1)*Math.pow(2,i),s=0));i>=8;t[n+p]=255&a,p+=f,a/=256,i-=8);for(s=s<<i|a,h+=i;h>0;t[n+p]=255&s,p+=f,s/=256,h-=8);t[n+p-f]|=128*y}},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var r=new Uint8Array(16);t.exports=function(){return n(r),r}}else{var i=new Array(16);t.exports=function(){for(var t,e=0;e<16;e++)0==(3&e)&&(t=4294967296*Math.random()),i[e]=t>>>((3&e)<<3)&255;return i}}},function(t,e){for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);t.exports=function(t,e){var r=e||0,i=n;return[i[t[r++]],i[t[r++]],i[t[r++]],i[t[r++]],"-",i[t[r++]],i[t[r++]],"-",i[t[r++]],i[t[r++]],"-",i[t[r++]],i[t[r++]],"-",i[t[r++]],i[t[r++]],i[t[r++]],i[t[r++]],i[t[r++]],i[t[r++]]].join("")}},function(t,e,n){"use strict";n.r(e);var r=n(0),i=n.n(r),o=(n(35),n(1)),s=n.n(o),a=n(6),c=n.n(a),h=n(2),l=n.n(h);function d(t){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function f(t,e,n){return(f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=x(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function y(t,e){return(y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function g(t,e){return!e||"object"!==d(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function x(t){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var v=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&y(t,e)}(o,t);var e,n,r,i=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=x(t);if(e){var i=x(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return g(this,n)}}(o);function o(){return u(this,o),i.apply(this,arguments)}return e=o,r=[{key:"value",value:function(){}}],(n=[{key:"insertInto",value:function(t,e){0===t.children.length?f(x(o.prototype),"insertInto",this).call(this,t,e):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}])&&p(e.prototype,n),r&&p(e,r),o}(i.a.Embed);v.blotName="break",v.tagName="BR";var m=v;function w(t){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function b(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function P(t,e){return(P=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function C(t,e){return!e||"object"!==w(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function A(t){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var j=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&P(t,e)}(n,t);var e=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=A(t);if(e){var i=A(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return C(this,n)}}(n);function n(){return b(this,n),e.apply(this,arguments)}return n}(i.a.Text);function T(t){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function S(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function R(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function E(t,e,n){return(E="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=k(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function M(t,e){return(M=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function O(t,e){return!e||"object"!==T(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function k(t){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var I=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&M(t,e)}(s,t);var e,n,r,o=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=k(t);if(e){var i=k(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return O(this,n)}}(s);function s(){return S(this,s),o.apply(this,arguments)}return e=s,r=[{key:"compare",value:function(t,e){var n=s.order.indexOf(t),r=s.order.indexOf(e);return n>=0||r>=0?n-r:t===e?0:t<e?-1:1}}],(n=[{key:"formatAt",value:function(t,e,n,r){if(s.compare(this.statics.blotName,n)<0&&i.a.query(n,i.a.Scope.BLOT)){var o=this.isolate(t,e);r&&o.wrap(n,r)}else E(k(s.prototype),"formatAt",this).call(this,t,e,n,r)}},{key:"optimize",value:function(t){if(E(k(s.prototype),"optimize",this).call(this,t),this.parent instanceof s&&s.compare(this.statics.blotName,this.parent.statics.blotName)>0){var e=this.parent.isolate(this.offset(),this.length());this.moveChildren(e),e.wrap(this)}}}])&&R(e.prototype,n),r&&R(e,r),s}(i.a.Inline);I.allowedChildren=[I,i.a.Embed,j],I.order=["cursor","inline","underline","strike","italic","bold","script","link","code"];var B=I;function _(t){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function D(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function F(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function N(t,e,n){return e&&F(t.prototype,e),n&&F(t,n),t}function U(t,e,n){return(U="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=H(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function L(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&q(t,e)}function q(t,e){return(q=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function z(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=H(t);if(e){var i=H(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return $(this,n)}}function $(t,e){return!e||"object"!==_(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function H(t){return(H=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var V=function(t){L(n,t);var e=z(n);function n(){return D(this,n),e.apply(this,arguments)}return N(n,[{key:"attach",value:function(){U(H(n.prototype),"attach",this).call(this),this.attributes=new i.a.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return(new s.a).insert(this.value(),l()(this.formats(),this.attributes.values()))}},{key:"format",value:function(t,e){var n=i.a.query(t,i.a.Scope.BLOCK_ATTRIBUTE);null!=n&&this.attributes.attribute(n,e)}},{key:"formatAt",value:function(t,e,n,r){this.format(n,r)}},{key:"insertAt",value:function(t,e,r){if("string"==typeof e&&e.endsWith("\n")){var o=i.a.create(W.blotName);this.parent.insertBefore(o,0===t?this:this.next),o.insertAt(0,e.slice(0,-1))}else U(H(n.prototype),"insertAt",this).call(this,t,e,r)}}]),n}(i.a.Embed);V.scope=i.a.Scope.BLOCK_BLOT;var W=function(t){L(n,t);var e=z(n);function n(t){var r;return D(this,n),(r=e.call(this,t)).cache={},r}return N(n,[{key:"delta",value:function(){return null==this.cache.delta&&(this.cache.delta=this.descendants(i.a.Leaf).reduce((function(t,e){return 0===e.length()?t:t.insert(e.value(),G(e))}),new s.a).insert("\n",G(this))),this.cache.delta}},{key:"deleteAt",value:function(t,e){U(H(n.prototype),"deleteAt",this).call(this,t,e),this.cache={}}},{key:"formatAt",value:function(t,e,r,o){e<=0||(i.a.query(r,i.a.Scope.BLOCK)?t+e===this.length()&&this.format(r,o):U(H(n.prototype),"formatAt",this).call(this,t,Math.min(e,this.length()-t-1),r,o),this.cache={})}},{key:"insertAt",value:function(t,e,r){if(null!=r)return U(H(n.prototype),"insertAt",this).call(this,t,e,r);if(0!==e.length){var i=e.split("\n"),o=i.shift();o.length>0&&(t<this.length()-1||null==this.children.tail?U(H(n.prototype),"insertAt",this).call(this,Math.min(t,this.length()-1),o):this.children.tail.insertAt(this.children.tail.length(),o),this.cache={});var s=this;i.reduce((function(t,e){return(s=s.split(t,!0)).insertAt(0,e),e.length}),t+o.length)}}},{key:"insertBefore",value:function(t,e){var r=this.children.head;U(H(n.prototype),"insertBefore",this).call(this,t,e),r instanceof m&&r.remove(),this.cache={}}},{key:"length",value:function(){return null==this.cache.length&&(this.cache.length=U(H(n.prototype),"length",this).call(this)+1),this.cache.length}},{key:"moveChildren",value:function(t,e){U(H(n.prototype),"moveChildren",this).call(this,t,e),this.cache={}}},{key:"optimize",value:function(t){U(H(n.prototype),"optimize",this).call(this,t),this.cache={}}},{key:"path",value:function(t){return U(H(n.prototype),"path",this).call(this,t,!0)}},{key:"removeChild",value:function(t){U(H(n.prototype),"removeChild",this).call(this,t),this.cache={}}},{key:"split",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e&&(0===t||t>=this.length()-1)){var r=this.clone();return 0===t?(this.parent.insertBefore(r,this),this):(this.parent.insertBefore(r,this.next),r)}var i=U(H(n.prototype),"split",this).call(this,t,e);return this.cache={},i}}]),n}(i.a.Block);function G(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return null==t?e:("function"==typeof t.formats&&(e=l()(e,t.formats())),null==t.parent||"scroll"==t.parent.blotName||t.parent.statics.scope!==t.statics.scope?e:G(t.parent,e))}function K(t){return(K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Q(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return n}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Y(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Y(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Y(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function J(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function X(t,e,n){return(X="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=it(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function Z(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tt(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&et(t,e)}function et(t,e){return(et=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function nt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=it(t);if(e){var i=it(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return rt(this,n)}}function rt(t,e){return!e||"object"!==K(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function it(t){return(it=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}W.blotName="block",W.tagName="P",W.defaultChild="break",W.allowedChildren=[B,i.a.Embed,j];var ot=function(t){tt(n,t);var e=nt(n);function n(){return Z(this,n),e.apply(this,arguments)}return n}(B);ot.blotName="code",ot.tagName="CODE";var st=function(t){tt(a,t);var e,n,r,o=nt(a);function a(){return Z(this,a),o.apply(this,arguments)}return e=a,r=[{key:"create",value:function(t){var e=X(it(a),"create",this).call(this,t);return e.setAttribute("spellcheck",!1),e}},{key:"formats",value:function(){return!0}}],(n=[{key:"delta",value:function(){var t=this,e=this.domNode.textContent;return e.endsWith("\n")&&(e=e.slice(0,-1)),e.split("\n").reduce((function(e,n){return e.insert(n).insert("\n",t.formats())}),new s.a)}},{key:"format",value:function(t,e){if(t!==this.statics.blotName||!e){var n=Q(this.descendant(j,this.length()-1),1)[0];null!=n&&n.deleteAt(n.length()-1,1),X(it(a.prototype),"format",this).call(this,t,e)}}},{key:"formatAt",value:function(t,e,n,r){if(0!==e&&null!=i.a.query(n,i.a.Scope.BLOCK)&&(n!==this.statics.blotName||r!==this.statics.formats(this.domNode))){var o=this.newlineIndex(t);if(!(o<0||o>=t+e)){var s=this.newlineIndex(t,!0)+1,c=o-s+1,h=this.isolate(s,c),l=h.next;h.format(n,r),l instanceof a&&l.formatAt(0,t-s+e-c,n,r)}}}},{key:"insertAt",value:function(t,e,n){if(null==n){var r=Q(this.descendant(j,t),2),i=r[0],o=r[1];i.insertAt(o,e)}}},{key:"length",value:function(){var t=this.domNode.textContent.length;return this.domNode.textContent.endsWith("\n")?t:t+1}},{key:"newlineIndex",value:function(t){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1])return this.domNode.textContent.slice(0,t).lastIndexOf("\n");var e=this.domNode.textContent.slice(t).indexOf("\n");return e>-1?t+e:-1}},{key:"optimize",value:function(t){this.domNode.textContent.endsWith("\n")||this.appendChild(i.a.create("text","\n")),X(it(a.prototype),"optimize",this).call(this,t);var e=this.next;null!=e&&e.prev===this&&e.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===e.statics.formats(e.domNode)&&(e.optimize(t),e.moveChildren(this),e.remove())}},{key:"replace",value:function(t){X(it(a.prototype),"replace",this).call(this,t),[].slice.call(this.domNode.querySelectorAll("*")).forEach((function(t){var e=i.a.find(t);null==e?t.parentNode.removeChild(t):e instanceof i.a.Embed?e.remove():e.unwrap()}))}}])&&J(e.prototype,n),r&&J(e,r),a}(W);function at(t){return(at="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ct(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ht(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function lt(t,e,n){return(lt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=pt(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function dt(t,e){return(dt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ut(t,e){return!e||"object"!==at(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function pt(t){return(pt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}st.blotName="code-block",st.tagName="PRE",st.TAB="  ";var ft=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&dt(t,e)}(s,t);var e,n,r,o=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=pt(t);if(e){var i=pt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ut(this,n)}}(s);function s(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(n=o.call(this,t)).selection=e,n.textNode=document.createTextNode(s.CONTENTS),n.domNode.appendChild(n.textNode),n._length=0,n}return e=s,r=[{key:"value",value:function(){}}],(n=[{key:"detach",value:function(){null!=this.parent&&this.parent.removeChild(this)}},{key:"format",value:function(t,e){if(0!==this._length)return lt(pt(s.prototype),"format",this).call(this,t,e);for(var n=this,r=0;null!=n&&n.statics.scope!==i.a.Scope.BLOCK_BLOT;)r+=n.offset(n.parent),n=n.parent;null!=n&&(this._length=s.CONTENTS.length,n.optimize(),n.formatAt(r,s.CONTENTS.length,t,e),this._length=0)}},{key:"index",value:function(t,e){return t===this.textNode?0:lt(pt(s.prototype),"index",this).call(this,t,e)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){lt(pt(s.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!this.selection.composing&&null!=this.parent){var t,e,n,r=this.textNode,o=this.selection.getNativeRange();if(null!=o&&o.start.node===r&&o.end.node===r){var a=[r,o.start.offset,o.end.offset];t=a[0],e=a[1],n=a[2]}for(;null!=this.domNode.lastChild&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==s.CONTENTS){var c=this.textNode.data.split(s.CONTENTS).join("");this.next instanceof j?(t=this.next.domNode,this.next.insertAt(0,c),this.textNode.data=s.CONTENTS):(this.textNode.data=c,this.parent.insertBefore(i.a.create(this.textNode),this),this.textNode=document.createTextNode(s.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),null!=e){var h=function(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return n}}(t,e)||function(t,e){if(t){if("string"==typeof t)return ct(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ct(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}([e,n].map((function(e){return Math.max(0,Math.min(t.data.length,e-1))})),2);return e=h[0],n=h[1],{startNode:t,startOffset:e,endNode:t,endOffset:n}}}}},{key:"update",value:function(t,e){var n=this;if(t.some((function(t){return"characterData"===t.type&&t.target===n.textNode}))){var r=this.restore();r&&(e.range=r)}}},{key:"value",value:function(){return""}}])&&ht(e.prototype,n),r&&ht(e,r),s}(i.a.Embed);ft.blotName="cursor",ft.className="ql-cursor",ft.tagName="span",ft.CONTENTS="\ufeff";var yt=ft,gt=n(4),xt=n.n(gt),vt=n(5),mt=n.n(vt);function wt(t){return(wt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function bt(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return n}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Pt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Pt(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ct(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var At=/^[ -~]*$/;function jt(t,e){return Object.keys(e).reduce((function(n,r){return null==t[r]||(e[r]===t[r]?n[r]=e[r]:Array.isArray(e[r])?e[r].indexOf(t[r])<0&&(n[r]=e[r].concat([t[r]])):n[r]=[e[r],t[r]]),n}),{})}var Tt=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.scroll=e,this.delta=this.getDelta()}var e,n;return e=t,(n=[{key:"applyDelta",value:function(t){var e=this,n=!1;this.scroll.update();var r=this.scroll.length();return this.scroll.batchStart(),(t=function(t){return t.reduce((function(t,e){if(1===e.insert){var n=xt()(e.attributes);return delete n.image,t.insert({image:e.attributes.image},n)}if(null==e.attributes||!0!==e.attributes.list&&!0!==e.attributes.bullet||((e=xt()(e)).attributes.list?e.attributes.list="ordered":(e.attributes.list="bullet",delete e.attributes.bullet)),"string"==typeof e.insert){var r=e.insert.replace(/\r\n/g,"\n").replace(/\r/g,"\n");return t.insert(r,e.attributes)}return t.push(e)}),new s.a)}(t)).reduce((function(t,o){var s=o.retain||o.delete||o.insert.length||1,a=o.attributes||{};if(null!=o.insert){if("string"==typeof o.insert){var h=o.insert;h.endsWith("\n")&&n&&(n=!1,h=h.slice(0,-1)),t>=r&&!h.endsWith("\n")&&(n=!0),e.scroll.insertAt(t,h);var d=bt(e.scroll.line(t),2),u=d[0],p=d[1],f=l()({},G(u));if(u instanceof W){var y=bt(u.descendant(i.a.Leaf,p),1)[0];f=l()(f,G(y))}a=c.a.attributes.diff(f,a)||{}}else if("object"===wt(o.insert)){var g=Object.keys(o.insert)[0];if(null==g)return t;e.scroll.insertAt(t,g,o.insert[g])}r+=s}return Object.keys(a).forEach((function(n){e.scroll.formatAt(t,s,n,a[n])})),t+s}),0),t.reduce((function(t,n){return"number"==typeof n.delete?(e.scroll.deleteAt(t,n.delete),t):t+(n.retain||n.insert.length||1)}),0),this.scroll.batchEnd(),this.update(t)}},{key:"deleteText",value:function(t,e){return this.scroll.deleteAt(t,e),this.update((new s.a).retain(t).delete(e))}},{key:"formatLine",value:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.scroll.update(),Object.keys(r).forEach((function(i){if(null==n.scroll.whitelist||n.scroll.whitelist[i]){var o=n.scroll.lines(t,Math.max(e,1)),s=e;o.forEach((function(e){var o=e.length();if(e instanceof st){var a=t-e.offset(n.scroll),c=e.newlineIndex(a+s)-a+1;e.formatAt(a,c,i,r[i])}else e.format(i,r[i]);s-=o}))}})),this.scroll.optimize(),this.update((new s.a).retain(t).retain(e,xt()(r)))}},{key:"formatText",value:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object.keys(r).forEach((function(i){n.scroll.formatAt(t,e,i,r[i])})),this.update((new s.a).retain(t).retain(e,xt()(r)))}},{key:"getContents",value:function(t,e){return this.delta.slice(t,t+e)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce((function(t,e){return t.concat(e.delta())}),new s.a)}},{key:"getFormat",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=[],r=[];0===e?this.scroll.path(t).forEach((function(t){var e=bt(t,1)[0];e instanceof W?n.push(e):e instanceof i.a.Leaf&&r.push(e)})):(n=this.scroll.lines(t,e),r=this.scroll.descendants(i.a.Leaf,t,e));var o=[n,r].map((function(t){if(0===t.length)return{};for(var e=G(t.shift());Object.keys(e).length>0;){var n=t.shift();if(null==n)return e;e=jt(G(n),e)}return e}));return l.a.apply(l.a,o)}},{key:"getText",value:function(t,e){return this.getContents(t,e).filter((function(t){return"string"==typeof t.insert})).map((function(t){return t.insert})).join("")}},{key:"insertEmbed",value:function(t,e,n){return this.scroll.insertAt(t,e,n),this.update((new s.a).retain(t).insert(function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},e,n)))}},{key:"insertText",value:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e=e.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),this.scroll.insertAt(t,e),Object.keys(r).forEach((function(i){n.scroll.formatAt(t,e.length,i,r[i])})),this.update((new s.a).retain(t).insert(e,xt()(r)))}},{key:"isBlank",value:function(){if(0==this.scroll.children.length)return!0;if(this.scroll.children.length>1)return!1;var t=this.scroll.children.head;return t.statics.blotName===W.blotName&&!(t.children.length>1)&&t.children.head instanceof m}},{key:"removeFormat",value:function(t,e){var n=this.getText(t,e),r=bt(this.scroll.line(t+e),2),i=r[0],o=r[1],a=0,c=new s.a;null!=i&&(a=i instanceof st?i.newlineIndex(o)-o+1:i.length()-o,c=i.delta().slice(o,o+a-1).insert("\n"));var h=this.getContents(t,e+a).diff((new s.a).insert(n).concat(c)),l=(new s.a).retain(t).concat(h);return this.applyDelta(l)}},{key:"update",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r=this.delta;if(1===e.length&&"characterData"===e[0].type&&e[0].target.data.match(At)&&i.a.find(e[0].target)){var o=i.a.find(e[0].target),a=G(o),c=o.offset(this.scroll),h=e[0].oldValue.replace(yt.CONTENTS,""),l=(new s.a).insert(h),d=(new s.a).insert(o.value());t=(new s.a).retain(c).concat(l.diff(d,n)).reduce((function(t,e){return e.insert?t.insert(e.insert,a):t.push(e)}),new s.a),this.delta=r.compose(t)}else this.delta=this.getDelta(),t&&mt()(r.compose(t),this.delta)||(t=r.diff(this.delta,n));return t}}])&&Ct(e.prototype,n),t}(),St=n(27),Rt=n.n(St),Et=["error","warn","log","info"],Mt="warn";function Ot(t){if(Et.indexOf(t)<=Et.indexOf(Mt)){for(var e,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];(e=console)[t].apply(e,r)}}function kt(t){return Et.reduce((function(e,n){return e[n]=Ot.bind(console,n,t),e}),{})}Ot.level=kt.level=function(t){Mt=t};var It=kt;function Bt(t){return(Bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Dt(t,e,n){return(Dt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Ut(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function Ft(t,e){return(Ft=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Nt(t,e){return!e||"object"!==Bt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ut(t){return(Ut=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Lt=It("quill:events");["selectionchange","mousedown","mouseup","click"].forEach((function(t){document.addEventListener(t,(function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];[].slice.call(document.querySelectorAll(".ql-container")).forEach((function(t){var n;t.__quill&&t.__quill.emitter&&(n=t.__quill.emitter).handleDOM.apply(n,e)}))}))}));var qt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ft(t,e)}(i,t);var e,n,r=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ut(t);if(e){var i=Ut(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Nt(this,n)}}(i);function i(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(t=r.call(this)).listeners={},t.on("error",Lt.error),t}return e=i,(n=[{key:"emit",value:function(){Lt.log.apply(Lt,arguments),Dt(Ut(i.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];(this.listeners[t.type]||[]).forEach((function(e){var r=e.node,i=e.handler;(t.target===r||r.contains(t.target))&&i.apply(void 0,[t].concat(n))}))}},{key:"listenDOM",value:function(t,e,n){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push({node:e,handler:n})}}])&&_t(e.prototype,n),i}(Rt.a);qt.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},qt.sources={API:"api",SILENT:"silent",USER:"user"};var zt=qt;function $t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var Ht=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};$t(this,t),this.quill=e,this.options=n};Ht.DEFAULTS={};var Vt=Ht;function Wt(t){return function(t){if(Array.isArray(t))return Qt(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||Kt(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Gt(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return n}}(t,e)||Kt(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Kt(t,e){if(t){if("string"==typeof t)return Qt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Qt(t,e):void 0}}function Qt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Yt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Jt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var Xt=It("quill:selection"),Zt=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;Jt(this,t),this.index=e,this.length=n},te=function(){function t(e,n){var r=this;Jt(this,t),this.emitter=n,this.scroll=e,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=i.a.create("cursor",this),this.lastRange=this.savedRange=new Zt(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,(function(){r.mouseDown||setTimeout(r.update.bind(r,zt.sources.USER),1)})),this.emitter.on(zt.events.EDITOR_CHANGE,(function(t,e){t===zt.events.TEXT_CHANGE&&e.length()>0&&r.update(zt.sources.SILENT)})),this.emitter.on(zt.events.SCROLL_BEFORE_UPDATE,(function(){if(r.hasFocus()){var t=r.getNativeRange();null!=t&&t.start.node!==r.cursor.textNode&&r.emitter.once(zt.events.SCROLL_UPDATE,(function(){try{r.setNativeRange(t.start.node,t.start.offset,t.end.node,t.end.offset)}catch(t){}}))}})),this.emitter.on(zt.events.SCROLL_OPTIMIZE,(function(t,e){if(e.range){var n=e.range,i=n.startNode,o=n.startOffset,s=n.endNode,a=n.endOffset;r.setNativeRange(i,o,s,a)}})),this.update(zt.sources.SILENT)}var e,n;return e=t,(n=[{key:"handleComposition",value:function(){var t=this;this.root.addEventListener("compositionstart",(function(){t.composing=!0})),this.root.addEventListener("compositionend",(function(){if(t.composing=!1,t.cursor.parent){var e=t.cursor.restore();if(!e)return;setTimeout((function(){t.setNativeRange(e.startNode,e.startOffset,e.endNode,e.endOffset)}),1)}}))}},{key:"handleDragging",value:function(){var t=this;this.emitter.listenDOM("mousedown",document.body,(function(){t.mouseDown=!0})),this.emitter.listenDOM("mouseup",document.body,(function(){t.mouseDown=!1,t.update(zt.sources.USER)}))}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(t,e){if(null==this.scroll.whitelist||this.scroll.whitelist[t]){this.scroll.update();var n=this.getNativeRange();if(null!=n&&n.native.collapsed&&!i.a.query(t,i.a.Scope.BLOCK)){if(n.start.node!==this.cursor.textNode){var r=i.a.find(n.start.node,!1);if(null==r)return;if(r instanceof i.a.Leaf){var o=r.split(n.start.offset);r.parent.insertBefore(this.cursor,o)}else r.insertBefore(this.cursor,n.start.node);this.cursor.attach()}this.cursor.format(t,e),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.scroll.length();t=Math.min(t,n-1),e=Math.min(t+e,n-1)-t;var r,i=Gt(this.scroll.leaf(t),2),o=i[0],s=i[1];if(null==o)return null;var a=Gt(o.position(s,!0),2);r=a[0],s=a[1];var c=document.createRange();if(e>0){c.setStart(r,s);var h=Gt(this.scroll.leaf(t+e),2);if(o=h[0],s=h[1],null==o)return null;var l=Gt(o.position(s,!0),2);return r=l[0],s=l[1],c.setEnd(r,s),c.getBoundingClientRect()}var d,u="left";return r instanceof Text?(s<r.data.length?(c.setStart(r,s),c.setEnd(r,s+1)):(c.setStart(r,s-1),c.setEnd(r,s),u="right"),d=c.getBoundingClientRect()):(d=o.domNode.getBoundingClientRect(),s>0&&(u="right")),{bottom:d.top+d.height,height:d.height,left:d[u],right:d[u],top:d.top,width:0}}},{key:"getNativeRange",value:function(){var t=document.getSelection();if(null==t||t.rangeCount<=0)return null;var e=t.getRangeAt(0);if(null==e)return null;var n=this.normalizeNative(e);return Xt.info("getNativeRange",n),n}},{key:"getRange",value:function(){var t=this.getNativeRange();return null==t?[null,null]:[this.normalizedToRange(t),t]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(t){var e=this,n=[[t.start.node,t.start.offset]];t.native.collapsed||n.push([t.end.node,t.end.offset]);var r=n.map((function(t){var n=Gt(t,2),r=n[0],o=n[1],s=i.a.find(r,!0),a=s.offset(e.scroll);return 0===o?a:s instanceof i.a.Container?a+s.length():a+s.index(r,o)})),o=Math.min(Math.max.apply(Math,Wt(r)),this.scroll.length()-1),s=Math.min.apply(Math,[o].concat(Wt(r)));return new Zt(s,o-s)}},{key:"normalizeNative",value:function(t){if(!ee(this.root,t.startContainer)||!t.collapsed&&!ee(this.root,t.endContainer))return null;var e={start:{node:t.startContainer,offset:t.startOffset},end:{node:t.endContainer,offset:t.endOffset},native:t};return[e.start,e.end].forEach((function(t){for(var e=t.node,n=t.offset;!(e instanceof Text)&&e.childNodes.length>0;)if(e.childNodes.length>n)e=e.childNodes[n],n=0;else{if(e.childNodes.length!==n)break;n=(e=e.lastChild)instanceof Text?e.data.length:e.childNodes.length+1}t.node=e,t.offset=n})),e}},{key:"rangeToNative",value:function(t){var e=this,n=t.collapsed?[t.index]:[t.index,t.index+t.length],r=[],i=this.scroll.length();return n.forEach((function(t,n){t=Math.min(i-1,t);var o,s=Gt(e.scroll.leaf(t),2),a=s[0],c=s[1],h=Gt(a.position(c,0!==n),2);o=h[0],c=h[1],r.push(o,c)})),r.length<2&&(r=r.concat(r)),r}},{key:"scrollIntoView",value:function(t){var e=this.lastRange;if(null!=e){var n=this.getBounds(e.index,e.length);if(null!=n){var r=this.scroll.length()-1,i=Gt(this.scroll.line(Math.min(e.index,r)),1)[0],o=i;if(e.length>0&&(o=Gt(this.scroll.line(Math.min(e.index+e.length,r)),1)[0]),null!=i&&null!=o){var s=t.getBoundingClientRect();n.top<s.top?t.scrollTop-=s.top-n.top:n.bottom>s.bottom&&(t.scrollTop+=n.bottom-s.bottom)}}}}},{key:"setNativeRange",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(Xt.info("setNativeRange",t,e,n,r),null==t||null!=this.root.parentNode&&null!=t.parentNode&&null!=n.parentNode){var o=document.getSelection();if(null!=o)if(null!=t){this.hasFocus()||this.root.focus();var s=(this.getNativeRange()||{}).native;if(null==s||i||t!==s.startContainer||e!==s.startOffset||n!==s.endContainer||r!==s.endOffset){"BR"==t.tagName&&(e=[].indexOf.call(t.parentNode.childNodes,t),t=t.parentNode),"BR"==n.tagName&&(r=[].indexOf.call(n.parentNode.childNodes,n),n=n.parentNode);var a=document.createRange();a.setStart(t,e),a.setEnd(n,r),o.removeAllRanges(),o.addRange(a)}}else o.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:zt.sources.API;if("string"==typeof e&&(n=e,e=!1),Xt.info("setRange",t),null!=t){var r=this.rangeToNative(t);this.setNativeRange.apply(this,Wt(r).concat([e]))}else this.setNativeRange(null);this.update(n)}},{key:"update",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zt.sources.USER,e=this.lastRange,n=Gt(this.getRange(),2),r=n[0],i=n[1];if(this.lastRange=r,null!=this.lastRange&&(this.savedRange=this.lastRange),!mt()(e,this.lastRange)){var o;!this.composing&&null!=i&&i.native.collapsed&&i.start.node!==this.cursor.textNode&&this.cursor.restore();var s,a=[zt.events.SELECTION_CHANGE,xt()(this.lastRange),xt()(e),t];(o=this.emitter).emit.apply(o,[zt.events.EDITOR_CHANGE].concat(a)),t!==zt.sources.SILENT&&(s=this.emitter).emit.apply(s,a)}}}])&&Yt(e.prototype,n),t}();function ee(t,e){try{e.parentNode}catch(t){return!1}return e instanceof Text&&(e=e.parentNode),t.contains(e)}function ne(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var re=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.quill=e,this.options=n,this.modules={}}var e,n;return e=t,(n=[{key:"init",value:function(){var t=this;Object.keys(this.options.modules).forEach((function(e){null==t.modules[e]&&t.addModule(e)}))}},{key:"addModule",value:function(t){var e=this.quill.constructor.import("modules/".concat(t));return this.modules[t]=new e(this.quill,this.options.modules[t]||{}),this.modules[t]}}])&&ne(e.prototype,n),t}();re.DEFAULTS={modules:{}},re.themes={default:re};var ie=re;function oe(t){return(oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function se(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ae(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return n}}(t,e)||function(t,e){if(t){if("string"==typeof t)return ce(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ce(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ce(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function he(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function le(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var de=It("quill"),ue=function(){function t(e){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(he(this,t),this.options=pe(e,r),this.container=this.options.container,null==this.container)return de.error("Invalid Quill container",e);this.options.debug&&t.debug(this.options.debug);var o=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new zt,this.scroll=i.a.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new Tt(this.scroll),this.selection=new te(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(zt.events.EDITOR_CHANGE,(function(t){t===zt.events.TEXT_CHANGE&&n.root.classList.toggle("ql-blank",n.editor.isBlank())})),this.emitter.on(zt.events.SCROLL_UPDATE,(function(t,e){var r=n.selection.lastRange,i=r&&0===r.length?r.index:void 0;fe.call(n,(function(){return n.editor.update(null,e,i)}),t)}));var s=this.clipboard.convert("<div class='ql-editor' style=\"white-space: normal;\">".concat(o,"<p><br></p></div>"));this.setContents(s),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}var e,n,r;return e=t,r=[{key:"debug",value:function(t){!0===t&&(t="log"),It.level(t)}},{key:"find",value:function(t){return t.__quill||i.a.find(t)}},{key:"import",value:function(t){return null==this.imports[t]&&de.error("Cannot import ".concat(t,". Are you sure it was registered?")),this.imports[t]}},{key:"register",value:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("string"!=typeof t){var o=t.attrName||t.blotName;"string"==typeof o?this.register("formats/"+o,t,e):Object.keys(t).forEach((function(r){n.register(r,t[r],e)}))}else null==this.imports[t]||r||de.warn("Overwriting ".concat(t," with"),e),this.imports[t]=e,(t.startsWith("blots/")||t.startsWith("formats/"))&&"abstract"!==e.blotName?i.a.register(e):t.startsWith("modules")&&"function"==typeof e.register&&e.register()}}],(n=[{key:"addContainer",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("string"==typeof t){var n=t;(t=document.createElement("div")).classList.add(n)}return this.container.insertBefore(t,e),t}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(t,e,n){var r=this,i=ae(ye(t,e,n),4);return t=i[0],e=i[1],n=i[3],fe.call(this,(function(){return r.editor.deleteText(t,e)}),n,t,-1*e)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.scroll.enable(t),this.container.classList.toggle("ql-disabled",!t)}},{key:"focus",value:function(){var t=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=t,this.scrollIntoView()}},{key:"format",value:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:zt.sources.API;return fe.call(this,(function(){var r=n.getSelection(!0),o=new s.a;if(null==r)return o;if(i.a.query(t,i.a.Scope.BLOCK))o=n.editor.formatLine(r.index,r.length,se({},t,e));else{if(0===r.length)return n.selection.format(t,e),o;o=n.editor.formatText(r.index,r.length,se({},t,e))}return n.setSelection(r,zt.sources.SILENT),o}),r)}},{key:"formatLine",value:function(t,e,n,r,i){var o,s=this,a=ae(ye(t,e,n,r,i),4);return t=a[0],e=a[1],o=a[2],i=a[3],fe.call(this,(function(){return s.editor.formatLine(t,e,o)}),i,t,0)}},{key:"formatText",value:function(t,e,n,r,i){var o,s=this,a=ae(ye(t,e,n,r,i),4);return t=a[0],e=a[1],o=a[2],i=a[3],fe.call(this,(function(){return s.editor.formatText(t,e,o)}),i,t,0)}},{key:"getBounds",value:function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;e="number"==typeof t?this.selection.getBounds(t,n):this.selection.getBounds(t.index,t.length);var r=this.container.getBoundingClientRect();return{bottom:e.bottom-r.top,height:e.height,left:e.left-r.left,right:e.right-r.left,top:e.top-r.top,width:e.width}}},{key:"getContents",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-t,n=ae(ye(t,e),2);return t=n[0],e=n[1],this.editor.getContents(t,e)}},{key:"getFormat",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getSelection(!0),e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return"number"==typeof t?this.editor.getFormat(t,e):this.editor.getFormat(t.index,t.length)}},{key:"getIndex",value:function(t){return t.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(t){return this.scroll.leaf(t)}},{key:"getLine",value:function(t){return this.scroll.line(t)}},{key:"getLines",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE;return"number"!=typeof t?this.scroll.lines(t.index,t.length):this.scroll.lines(t,e)}},{key:"getModule",value:function(t){return this.theme.modules[t]}},{key:"getSelection",value:function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-t,n=ae(ye(t,e),2);return t=n[0],e=n[1],this.editor.getText(t,e)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(e,n,r){var i=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.sources.API;return fe.call(this,(function(){return i.editor.insertEmbed(e,n,r)}),o,e)}},{key:"insertText",value:function(t,e,n,r,i){var o,s=this,a=ae(ye(t,0,n,r,i),4);return t=a[0],o=a[2],i=a[3],fe.call(this,(function(){return s.editor.insertText(t,e,o)}),i,t,e.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(t,e,n){this.clipboard.dangerouslyPasteHTML(t,e,n)}},{key:"removeFormat",value:function(t,e,n){var r=this,i=ae(ye(t,e,n),4);return t=i[0],e=i[1],n=i[3],fe.call(this,(function(){return r.editor.removeFormat(t,e)}),n,t)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:zt.sources.API;return fe.call(this,(function(){t=new s.a(t);var n=e.getLength(),r=e.editor.deleteText(0,n),i=e.editor.applyDelta(t),o=i.ops[i.ops.length-1];return null!=o&&"string"==typeof o.insert&&"\n"===o.insert[o.insert.length-1]&&(e.editor.deleteText(e.getLength()-1,1),i.delete(1)),r.compose(i)}),n)}},{key:"setSelection",value:function(e,n,r){if(null==e)this.selection.setRange(null,n||t.sources.API);else{var i=ae(ye(e,n,r),4);e=i[0],n=i[1],r=i[3],this.selection.setRange(new Zt(e,n),r),r!==zt.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:zt.sources.API,n=(new s.a).insert(t);return this.setContents(n,e)}},{key:"update",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zt.sources.USER,e=this.scroll.update(t);return this.selection.update(t),e}},{key:"updateContents",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:zt.sources.API;return fe.call(this,(function(){return t=new s.a(t),e.editor.applyDelta(t,n)}),n,!0)}}])&&le(e.prototype,n),r&&le(e,r),t}();function pe(t,e){if((e=l()(!0,{container:t,modules:{clipboard:!0,keyboard:!0,history:!0}},e)).theme&&e.theme!==ue.DEFAULTS.theme){if(e.theme=ue.import("themes/".concat(e.theme)),null==e.theme)throw new Error("Invalid theme ".concat(e.theme,". Did you register it?"))}else e.theme=ie;var n=l()(!0,{},e.theme.DEFAULTS);[n,e].forEach((function(t){t.modules=t.modules||{},Object.keys(t.modules).forEach((function(e){!0===t.modules[e]&&(t.modules[e]={})}))}));var r=Object.keys(n.modules).concat(Object.keys(e.modules)).reduce((function(t,e){var n=ue.import("modules/".concat(e));return null==n?de.error("Cannot load ".concat(e," module. Are you sure you registered it?")):t[e]=n.DEFAULTS||{},t}),{});return null!=e.modules&&e.modules.toolbar&&e.modules.toolbar.constructor!==Object&&(e.modules.toolbar={container:e.modules.toolbar}),e=l()(!0,{},ue.DEFAULTS,{modules:r},n,e),["bounds","container","scrollingContainer"].forEach((function(t){"string"==typeof e[t]&&(e[t]=document.querySelector(e[t]))})),e.modules=Object.keys(e.modules).reduce((function(t,n){return e.modules[n]&&(t[n]=e.modules[n]),t}),{}),e}function fe(t,e,n,r){if(this.options.strict&&!this.isEnabled()&&e===zt.sources.USER)return new s.a;var i=null==n?null:this.getSelection(),o=this.editor.delta,a=t();if(null!=i&&(!0===n&&(n=i.index),null==r?i=ge(i,a,e):0!==r&&(i=ge(i,n,r,e)),this.setSelection(i,zt.sources.SILENT)),a.length()>0){var c,h,l=[zt.events.TEXT_CHANGE,a,o,e];(c=this.emitter).emit.apply(c,[zt.events.EDITOR_CHANGE].concat(l)),e!==zt.sources.SILENT&&(h=this.emitter).emit.apply(h,l)}return a}function ye(t,e,n,r,i){var o={};return"number"==typeof t.index&&"number"==typeof t.length?"number"!=typeof e?(i=r,r=n,n=e,e=t.length,t=t.index):(e=t.length,t=t.index):"number"!=typeof e&&(i=r,r=n,n=e,e=0),"object"===oe(n)?(o=n,i=r):"string"==typeof n&&(null!=r?o[n]=r:i=n),[t,e,o,i=i||zt.sources.API]}function ge(t,e,n,r){if(null==t)return null;var i,o;if(e instanceof s.a){var a=ae([t.index,t.index+t.length].map((function(t){return e.transformPosition(t,r!==zt.sources.USER)})),2);i=a[0],o=a[1]}else{var c=ae([t.index,t.index+t.length].map((function(t){return t<e||t===e&&r===zt.sources.USER?t:n>=0?t+n:Math.max(e,t+n)})),2);i=c[0],o=c[1]}return new Zt(i,o-i)}function xe(t){return(xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function me(t,e){return(me=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function we(t,e){return!e||"object"!==xe(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function be(t){return(be=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}ue.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},ue.events=zt.events,ue.sources=zt.sources,ue.version="undefined"==typeof QUILL_VERSION?"dev":QUILL_VERSION,ue.imports={delta:s.a,parchment:i.a,"core/module":Vt,"core/theme":ie};var Pe=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&me(t,e)}(n,t);var e=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=be(t);if(e){var i=be(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return we(this,n)}}(n);function n(){return ve(this,n),e.apply(this,arguments)}return n}(i.a.Container);Pe.allowedChildren=[W,V,Pe];var Ce=Pe;function Ae(t){return(Ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function je(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Te(t,e,n){return(Te="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Ee(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function Se(t,e){return(Se=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Re(t,e){return!e||"object"!==Ae(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ee(t){return(Ee=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Me=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Se(t,e)}(o,t);var e,n,r=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ee(t);if(e){var i=Ee(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Re(this,n)}}(o);function o(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(e=r.call(this,t)).contentNode=document.createElement("span"),e.contentNode.setAttribute("contenteditable",!1),[].slice.call(e.domNode.childNodes).forEach((function(t){e.contentNode.appendChild(t)})),e.leftGuard=document.createTextNode("\ufeff"),e.rightGuard=document.createTextNode("\ufeff"),e.domNode.appendChild(e.leftGuard),e.domNode.appendChild(e.contentNode),e.domNode.appendChild(e.rightGuard),e}return e=o,(n=[{key:"index",value:function(t,e){return t===this.leftGuard?0:t===this.rightGuard?1:Te(Ee(o.prototype),"index",this).call(this,t,e)}},{key:"restore",value:function(t){var e,n,r=t.data.split("\ufeff").join("");if(t===this.leftGuard)if(this.prev instanceof j){var o=this.prev.length();this.prev.insertAt(o,r),e={startNode:this.prev.domNode,startOffset:o+r.length}}else n=document.createTextNode(r),this.parent.insertBefore(i.a.create(n),this),e={startNode:n,startOffset:r.length};else t===this.rightGuard&&(this.next instanceof j?(this.next.insertAt(0,r),e={startNode:this.next.domNode,startOffset:r.length}):(n=document.createTextNode(r),this.parent.insertBefore(i.a.create(n),this.next),e={startNode:n,startOffset:r.length}));return t.data="\ufeff",e}},{key:"update",value:function(t,e){var n=this;t.forEach((function(t){if("characterData"===t.type&&(t.target===n.leftGuard||t.target===n.rightGuard)){var r=n.restore(t.target);r&&(e.range=r)}}))}}])&&je(e.prototype,n),o}(i.a.Embed);function Oe(t){return(Oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ke(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ie(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Be(t,e,n){return(Be="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Fe(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function _e(t,e){return(_e=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function De(t,e){return!e||"object"!==Oe(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Fe(t){return(Fe=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ne=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_e(t,e)}(i,t);var e,n,r=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Fe(t);if(e){var i=Fe(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return De(this,n)}}(i);function i(){return ke(this,i),r.apply(this,arguments)}return e=i,(n=[{key:"value",value:function(t){var e=Be(Fe(i.prototype),"value",this).call(this,t);return e.startsWith("rgb(")?"#"+(e=e.replace(/^[^\d]+/,"").replace(/[^\d]+$/,"")).split(",").map((function(t){return("00"+parseInt(t).toString(16)).slice(-2)})).join(""):e}}])&&Ie(e.prototype,n),i}(i.a.Attributor.Style),Ue=(new i.a.Attributor.Class("color","ql-color",{scope:i.a.Scope.INLINE}),new Ne("color","color",{scope:i.a.Scope.INLINE})),Le=(new i.a.Attributor.Class("background","ql-bg",{scope:i.a.Scope.INLINE}),new Ne("background","background-color",{scope:i.a.Scope.INLINE}));function qe(t){return(qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ze(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function He(t,e,n){return(He="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Ge(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function Ve(t,e){return(Ve=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function We(t,e){return!e||"object"!==qe(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ge(t){return(Ge=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ke=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ve(t,e)}(o,t);var e,n,r,i=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ge(t);if(e){var i=Ge(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return We(this,n)}}(o);function o(){return ze(this,o),i.apply(this,arguments)}return e=o,r=[{key:"create",value:function(){return He(Ge(o),"create",this).call(this)}},{key:"formats",value:function(){return!0}}],(n=[{key:"optimize",value:function(t){He(Ge(o.prototype),"optimize",this).call(this,t),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}])&&$e(e.prototype,n),r&&$e(e,r),o}(B);Ke.blotName="bold",Ke.tagName=["STRONG","B"];var Qe=Ke;function Ye(t){return(Ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Je(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Xe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ze(t,e,n){return(Ze="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=nn(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function tn(t,e){return(tn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function en(t,e){return!e||"object"!==Ye(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function nn(t){return(nn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var rn={scope:i.a.Scope.INLINE,whitelist:["serif","monospace"]},on=(new i.a.Attributor.Class("font","ql-font",rn),new(function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&tn(t,e)}(i,t);var e,n,r=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=nn(t);if(e){var i=nn(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return en(this,n)}}(i);function i(){return Je(this,i),r.apply(this,arguments)}return e=i,(n=[{key:"value",value:function(t){return Ze(nn(i.prototype),"value",this).call(this,t).replace(/["']/g,"")}}])&&Xe(e.prototype,n),i}(i.a.Attributor.Style))("font","font-family",rn));function sn(t){return(sn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function an(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cn(t,e){return(cn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function hn(t,e){return!e||"object"!==sn(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ln(t){return(ln=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var dn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&cn(t,e)}(n,t);var e=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=ln(t);if(e){var i=ln(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return hn(this,n)}}(n);function n(){return an(this,n),e.apply(this,arguments)}return n}(Qe);dn.blotName="italic",dn.tagName=["EM","I"];var un=dn;function pn(t){return(pn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function fn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function gn(t,e,n){return(gn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=mn(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function xn(t,e){return(xn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function vn(t,e){return!e||"object"!==pn(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function mn(t){return(mn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var wn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&xn(t,e)}(o,t);var e,n,r,i=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=mn(t);if(e){var i=mn(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return vn(this,n)}}(o);function o(){return fn(this,o),i.apply(this,arguments)}return e=o,r=[{key:"create",value:function(t){var e=gn(mn(o),"create",this).call(this,t);return t=this.sanitize(t),e.setAttribute("href",t),e.setAttribute("rel","noopener noreferrer"),e.setAttribute("target","_blank"),e}},{key:"formats",value:function(t){return t.getAttribute("href")}},{key:"sanitize",value:function(t){return function(t,e){var n=document.createElement("a");n.href=t;var r=n.href.slice(0,n.href.indexOf(":"));return e.indexOf(r)>-1}(t,this.PROTOCOL_WHITELIST)?t:this.SANITIZED_URL}}],(n=[{key:"format",value:function(t,e){if(t!==this.statics.blotName||!e)return gn(mn(o.prototype),"format",this).call(this,t,e);e=this.constructor.sanitize(e),this.domNode.setAttribute("href",e)}}])&&yn(e.prototype,n),r&&yn(e,r),o}(B);function bn(t){return(bn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Pn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Cn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function An(t,e,n){return(An="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Sn(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function jn(t,e){return(jn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Tn(t,e){return!e||"object"!==bn(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Sn(t){return(Sn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}wn.blotName="link",wn.tagName="A",wn.SANITIZED_URL="about:blank",wn.PROTOCOL_WHITELIST=["http","https","mailto","tel"];var Rn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&jn(t,e)}(i,t);var e,n,r=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Sn(t);if(e){var i=Sn(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Tn(this,n)}}(i);function i(){return Pn(this,i),r.apply(this,arguments)}return e=i,n=[{key:"create",value:function(t){return"super"===t?document.createElement("sup"):"sub"===t?document.createElement("sub"):An(Sn(i),"create",this).call(this,t)}},{key:"formats",value:function(t){return"SUB"===t.tagName?"sub":"SUP"===t.tagName?"super":void 0}}],null&&Cn(e.prototype,null),n&&Cn(e,n),i}(B);Rn.blotName="script",Rn.tagName=["SUB","SUP"];var En=Rn,Mn=(new i.a.Attributor.Class("size","ql-size",{scope:i.a.Scope.INLINE,whitelist:["small","large","huge"]}),new i.a.Attributor.Style("size","font-size",{scope:i.a.Scope.INLINE,whitelist:["10px","18px","32px"]}));function On(t){return(On="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function kn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function In(t,e){return(In=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Bn(t,e){return!e||"object"!==On(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function _n(t){return(_n=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Dn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&In(t,e)}(n,t);var e=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=_n(t);if(e){var i=_n(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Bn(this,n)}}(n);function n(){return kn(this,n),e.apply(this,arguments)}return n}(B);Dn.blotName="strike",Dn.tagName="S";var Fn=Dn;function Nn(t){return(Nn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Un(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ln(t,e){return(Ln=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function qn(t,e){return!e||"object"!==Nn(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function zn(t){return(zn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var $n=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ln(t,e)}(n,t);var e=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=zn(t);if(e){var i=zn(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return qn(this,n)}}(n);function n(){return Un(this,n),e.apply(this,arguments)}return n}(B);$n.blotName="underline",$n.tagName="U";var Hn=$n,Vn={scope:i.a.Scope.BLOCK,whitelist:["right","center","justify"]},Wn=new i.a.Attributor.Attribute("align","align",Vn),Gn=(new i.a.Attributor.Class("align","ql-align",Vn),new i.a.Attributor.Style("align","text-align",Vn)),Kn={scope:i.a.Scope.BLOCK,whitelist:["rtl"]},Qn=new i.a.Attributor.Attribute("direction","dir",Kn),Yn=(new i.a.Attributor.Class("direction","ql-direction",Kn),new i.a.Attributor.Style("direction","direction",Kn));function Jn(t){return(Jn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Xn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zn(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return n}}(t,e)||function(t,e){if(t){if("string"==typeof t)return tr(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?tr(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tr(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function er(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function nr(t,e){return(nr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function rr(t,e){return!e||"object"!==Jn(e)&&"function"!=typeof e?ir(t):e}function ir(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function or(t){return(or=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var sr=It("quill:clipboard"),ar="__ql-matcher",cr=[[Node.TEXT_NODE,function(t,e){var n=t.data;if("O:P"===t.parentNode.tagName)return e.insert(n.trim());if(0===n.trim().length&&t.parentNode.classList.contains("ql-clipboard"))return e;if(!pr(t.parentNode).whiteSpace.startsWith("pre")){var r=function(t,e){return(e=e.replace(/[^\u00a0]/g,"")).length<1&&t?" ":e};n=(n=n.replace(/\r\n/g," ").replace(/\n/g," ")).replace(/\s\s+/g,r.bind(r,!0)),(null==t.previousSibling&&yr(t.parentNode)||null!=t.previousSibling&&yr(t.previousSibling))&&(n=n.replace(/^\s+/,r.bind(r,!1))),(null==t.nextSibling&&yr(t.parentNode)||null!=t.nextSibling&&yr(t.nextSibling))&&(n=n.replace(/\s+$/,r.bind(r,!1)))}return e.insert(n)}],[Node.TEXT_NODE,xr],["br",function(t,e){return fr(e,"\n")||e.insert("\n"),e}],[Node.ELEMENT_NODE,xr],[Node.ELEMENT_NODE,function(t,e){var n=i.a.query(t);if(null==n)return e;if(n.prototype instanceof i.a.Embed){var r={},o=n.value(t);null!=o&&(r[n.blotName]=o,e=(new s.a).insert(r,n.formats(t)))}else"function"==typeof n.formats&&(e=ur(e,n.blotName,n.formats(t)));return e}],[Node.ELEMENT_NODE,vr],[Node.ELEMENT_NODE,function(t,e){var n=i.a.Attributor.Attribute.keys(t),r=i.a.Attributor.Class.keys(t),o=i.a.Attributor.Style.keys(t),s={};return n.concat(r).concat(o).forEach((function(e){var n=i.a.query(e,i.a.Scope.ATTRIBUTE);null!=n&&(s[n.attrName]=n.value(t),s[n.attrName])||(null==(n=hr[e])||n.attrName!==e&&n.keyName!==e||(s[n.attrName]=n.value(t)||void 0),null==(n=lr[e])||n.attrName!==e&&n.keyName!==e||(n=lr[e],s[n.attrName]=n.value(t)||void 0))})),Object.keys(s).length>0&&(e=ur(e,s)),e}],[Node.ELEMENT_NODE,function(t,e){var n={},r=t.style||{};return r.fontStyle&&"italic"===pr(t).fontStyle&&(n.italic=!0),r.fontWeight&&(pr(t).fontWeight.startsWith("bold")||parseInt(pr(t).fontWeight)>=700)&&(n.bold=!0),Object.keys(n).length>0&&(e=ur(e,n)),parseFloat(r.textIndent||0)>0&&(e=(new s.a).insert("\t").concat(e)),e}],["li",function(t,e){var n=i.a.query(t);if(null==n||"list-item"!==n.blotName||!fr(e,"\n"))return e;for(var r=-1,o=t.parentNode;!o.classList.contains("ql-clipboard");)"list"===(i.a.query(o)||{}).blotName&&(r+=1),o=o.parentNode;return r<=0?e:e.compose((new s.a).retain(e.length()-1).retain(1,{indent:r}))}],["b",gr.bind(gr,"bold")],["i",gr.bind(gr,"italic")],["style",function(){return new s.a}]],hr=[Wn,Qn].reduce((function(t,e){return t[e.keyName]=e,t}),{}),lr=[Gn,Le,Ue,Yn,on,Mn].reduce((function(t,e){return t[e.keyName]=e,t}),{}),dr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&nr(t,e)}(i,t);var e,n,r=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=or(t);if(e){var i=or(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return rr(this,n)}}(i);function i(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(n=r.call(this,t,e)).quill.root.addEventListener("paste",n.onPaste.bind(ir(n))),n.container=n.quill.addContainer("ql-clipboard"),n.container.setAttribute("contenteditable",!0),n.container.setAttribute("tabindex",-1),n.matchers=[],cr.concat(n.options.matchers).forEach((function(t){var r=Zn(t,2),i=r[0],o=r[1];(e.matchVisual||o!==vr)&&n.addMatcher(i,o)})),n}return e=i,(n=[{key:"addMatcher",value:function(t,e){this.matchers.push([t,e])}},{key:"convert",value:function(t){if("string"==typeof t)return this.container.innerHTML=t.replace(/\>\r?\n +\</g,"><"),this.convert();var e=this.quill.getFormat(this.quill.selection.savedRange.index);if(e[st.blotName]){var n=this.container.innerText;return this.container.innerHTML="",(new s.a).insert(n,Xn({},st.blotName,e[st.blotName]))}var r=Zn(this.prepareMatching(),2),i=r[0],o=r[1],a=function t(e,n,r){return e.nodeType===e.TEXT_NODE?r.reduce((function(t,n){return n(e,t)}),new s.a):e.nodeType===e.ELEMENT_NODE?[].reduce.call(e.childNodes||[],(function(i,o){var s=t(o,n,r);return o.nodeType===e.ELEMENT_NODE&&(s=n.reduce((function(t,e){return e(o,t)}),s),s=(o[ar]||[]).reduce((function(t,e){return e(o,t)}),s)),i.concat(s)}),new s.a):new s.a}(this.container,i,o);return fr(a,"\n")&&null==a.ops[a.ops.length-1].attributes&&(a=a.compose((new s.a).retain(a.length()-1).delete(1))),sr.log("convert",this.container.innerHTML,a),this.container.innerHTML="",a}},{key:"dangerouslyPasteHTML",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ue.sources.API;if("string"==typeof t)this.quill.setContents(this.convert(t),e),this.quill.setSelection(0,ue.sources.SILENT);else{var r=this.convert(e);this.quill.updateContents((new s.a).retain(t).concat(r),n),this.quill.setSelection(t+r.length(),ue.sources.SILENT)}}},{key:"onPaste",value:function(t){var e=this;if(!t.defaultPrevented&&this.quill.isEnabled()){var n=this.quill.getSelection(),r=(new s.a).retain(n.index),i=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(ue.sources.SILENT),setTimeout((function(){r=r.concat(e.convert()).delete(n.length),e.quill.updateContents(r,ue.sources.USER),e.quill.setSelection(r.length()-n.length,ue.sources.SILENT),e.quill.scrollingContainer.scrollTop=i,e.quill.focus()}),1)}}},{key:"prepareMatching",value:function(){var t=this,e=[],n=[];return this.matchers.forEach((function(r){var i=Zn(r,2),o=i[0],s=i[1];switch(o){case Node.TEXT_NODE:n.push(s);break;case Node.ELEMENT_NODE:e.push(s);break;default:[].forEach.call(t.container.querySelectorAll(o),(function(t){t[ar]=t[ar]||[],t[ar].push(s)}))}})),[e,n]}}])&&er(e.prototype,n),i}(Vt);function ur(t,e,n){return"object"===Jn(e)?Object.keys(e).reduce((function(t,n){return ur(t,n,e[n])}),t):t.reduce((function(t,r){return r.attributes&&r.attributes[e]?t.push(r):t.insert(r.insert,l()({},Xn({},e,n),r.attributes))}),new s.a)}function pr(t){return t.nodeType!==Node.ELEMENT_NODE?{}:t["__ql-computed-style"]||(t["__ql-computed-style"]=window.getComputedStyle(t))}function fr(t,e){for(var n="",r=t.ops.length-1;r>=0&&n.length<e.length;--r){var i=t.ops[r];if("string"!=typeof i.insert)break;n=i.insert+n}return n.slice(-1*e.length)===e}function yr(t){if(0===t.childNodes.length)return!1;var e=pr(t);return["block","list-item"].indexOf(e.display)>-1}function gr(t,e,n){return ur(n,t,!0)}function xr(t,e){return fr(e,"\n")||(yr(t)||e.length()>0&&t.nextSibling&&yr(t.nextSibling))&&e.insert("\n"),e}function vr(t,e){if(yr(t)&&null!=t.nextElementSibling&&!fr(e,"\n\n")){var n=t.offsetHeight+parseFloat(pr(t).marginTop)+parseFloat(pr(t).marginBottom);t.nextElementSibling.offsetTop>t.offsetTop+1.5*n&&e.insert("\n")}return e}function mr(t){return(mr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function wr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function br(t,e){return(br=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Pr(t,e){return!e||"object"!==mr(e)&&"function"!=typeof e?Cr(t):e}function Cr(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ar(t){return(Ar=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}dr.DEFAULTS={matchers:[],matchVisual:!0};var jr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&br(t,e)}(o,t);var e,n,r=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ar(t);if(e){var i=Ar(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Pr(this,n)}}(o);function o(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(n=r.call(this,t,e)).lastRecorded=0,n.ignoreChange=!1,n.clear(),n.quill.on(ue.events.EDITOR_CHANGE,(function(t,e,r,i){t!==ue.events.TEXT_CHANGE||n.ignoreChange||(n.options.userOnly&&i!==ue.sources.USER?n.transform(e):n.record(e,r))})),n.quill.keyboard.addBinding({key:"Z",shortKey:!0},n.undo.bind(Cr(n))),n.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},n.redo.bind(Cr(n))),/Win/i.test(navigator.platform)&&n.quill.keyboard.addBinding({key:"Y",shortKey:!0},n.redo.bind(Cr(n))),n}return e=o,(n=[{key:"change",value:function(t,e){if(0!==this.stack[t].length){var n=this.stack[t].pop();this.stack[e].push(n),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(n[t],ue.sources.USER),this.ignoreChange=!1;var r=function(t){var e=t.reduce((function(t,e){return t+(e.delete||0)}),0),n=t.length()-e;return function(t){var e=t.ops[t.ops.length-1];return null!=e&&(null!=e.insert?"string"==typeof e.insert&&e.insert.endsWith("\n"):null!=e.attributes&&Object.keys(e.attributes).some((function(t){return null!=i.a.query(t,i.a.Scope.BLOCK)})))}(t)&&(n-=1),n}(n[t]);this.quill.setSelection(r)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(t,e){if(0!==t.ops.length){this.stack.redo=[];var n=this.quill.getContents().diff(e),r=Date.now();if(this.lastRecorded+this.options.delay>r&&this.stack.undo.length>0){var i=this.stack.undo.pop();n=n.compose(i.undo),t=i.redo.compose(t)}else this.lastRecorded=r;this.stack.undo.push({redo:t,undo:n}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(t){this.stack.undo.forEach((function(e){e.undo=t.transform(e.undo,!0),e.redo=t.transform(e.redo,!0)})),this.stack.redo.forEach((function(e){e.undo=t.transform(e.undo,!0),e.redo=t.transform(e.redo,!0)}))}},{key:"undo",value:function(){this.change("undo","redo")}}])&&wr(e.prototype,n),o}(Vt);function Tr(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sr(t){return(Sr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Rr(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return n}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Er(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Er(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Er(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Mr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Or(t,e){return(Or=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function kr(t,e){return!e||"object"!==Sr(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ir(t){return(Ir=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}jr.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};var Br=It("quill:keyboard"),_r=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",Dr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Or(t,e)}(s,t);var e,n,r,o=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ir(t);if(e){var i=Ir(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return kr(this,n)}}(s);function s(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(n=o.call(this,t,e)).bindings={},Object.keys(n.options.bindings).forEach((function(e){("list autofill"!==e||null==t.scroll.whitelist||t.scroll.whitelist.list)&&n.options.bindings[e]&&n.addBinding(n.options.bindings[e])})),n.addBinding({key:s.keys.ENTER,shiftKey:null},qr),n.addBinding({key:s.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},(function(){})),/Firefox/i.test(navigator.userAgent)?(n.addBinding({key:s.keys.BACKSPACE},{collapsed:!0},Nr),n.addBinding({key:s.keys.DELETE},{collapsed:!0},Ur)):(n.addBinding({key:s.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},Nr),n.addBinding({key:s.keys.DELETE},{collapsed:!0,suffix:/^.?$/},Ur)),n.addBinding({key:s.keys.BACKSPACE},{collapsed:!1},Lr),n.addBinding({key:s.keys.DELETE},{collapsed:!1},Lr),n.addBinding({key:s.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},Nr),n.listen(),n}return e=s,r=[{key:"match",value:function(t,e){return e=Hr(e),!["altKey","ctrlKey","metaKey","shiftKey"].some((function(n){return!!e[n]!==t[n]&&null!==e[n]}))&&e.key===(t.which||t.keyCode)}}],(n=[{key:"addBinding",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Hr(t);if(null==r||null==r.key)return Br.warn("Attempted to add invalid keyboard binding",r);"function"==typeof e&&(e={handler:e}),"function"==typeof n&&(n={handler:n}),r=l()(r,e,n),this.bindings[r.key]=this.bindings[r.key]||[],this.bindings[r.key].push(r)}},{key:"listen",value:function(){var t=this;this.quill.root.addEventListener("keydown",(function(e){if(!e.defaultPrevented){var n=e.which||e.keyCode,r=(t.bindings[n]||[]).filter((function(t){return s.match(e,t)}));if(0!==r.length){var o=t.quill.getSelection();if(null!=o&&t.quill.hasFocus()){var a=Rr(t.quill.getLine(o.index),2),c=a[0],h=a[1],l=Rr(t.quill.getLeaf(o.index),2),d=l[0],u=l[1],p=Rr(0===o.length?[d,u]:t.quill.getLeaf(o.index+o.length),2),f=p[0],y=p[1],g=d instanceof i.a.Text?d.value().slice(0,u):"",x=f instanceof i.a.Text?f.value().slice(y):"",v={collapsed:0===o.length,empty:0===o.length&&c.length()<=1,format:t.quill.getFormat(o),offset:h,prefix:g,suffix:x};r.some((function(e){if(null!=e.collapsed&&e.collapsed!==v.collapsed)return!1;if(null!=e.empty&&e.empty!==v.empty)return!1;if(null!=e.offset&&e.offset!==v.offset)return!1;if(Array.isArray(e.format)){if(e.format.every((function(t){return null==v.format[t]})))return!1}else if("object"===Sr(e.format)&&!Object.keys(e.format).every((function(t){return!0===e.format[t]?null!=v.format[t]:!1===e.format[t]?null==v.format[t]:mt()(e.format[t],v.format[t])})))return!1;return!(null!=e.prefix&&!e.prefix.test(v.prefix)||null!=e.suffix&&!e.suffix.test(v.suffix)||!0===e.handler.call(t,o,v))}))&&e.preventDefault()}}}}))}}])&&Mr(e.prototype,n),r&&Mr(e,r),s}(Vt);function Fr(t,e){var n,r=t===Dr.keys.LEFT?"prefix":"suffix";return Tr(n={key:t,shiftKey:e,altKey:null},r,/^$/),Tr(n,"handler",(function(n){var r=n.index;return t===Dr.keys.RIGHT&&(r+=n.length+1),!(Rr(this.quill.getLeaf(r),1)[0]instanceof i.a.Embed&&(t===Dr.keys.LEFT?e?this.quill.setSelection(n.index-1,n.length+1,ue.sources.USER):this.quill.setSelection(n.index-1,ue.sources.USER):e?this.quill.setSelection(n.index,n.length+1,ue.sources.USER):this.quill.setSelection(n.index+n.length+1,ue.sources.USER),1))})),n}function Nr(t,e){if(!(0===t.index||this.quill.getLength()<=1)){var n=Rr(this.quill.getLine(t.index),1)[0],r={};if(0===e.offset){var i=Rr(this.quill.getLine(t.index-1),1)[0];if(null!=i&&i.length()>1){var o=n.formats(),s=this.quill.getFormat(t.index-1,1);r=c.a.attributes.diff(o,s)||{}}}var a=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(e.prefix)?2:1;this.quill.deleteText(t.index-a,a,ue.sources.USER),Object.keys(r).length>0&&this.quill.formatLine(t.index-a,a,r,ue.sources.USER),this.quill.focus()}}function Ur(t,e){var n=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(e.suffix)?2:1;if(!(t.index>=this.quill.getLength()-n)){var r={},i=0,o=Rr(this.quill.getLine(t.index),1)[0];if(e.offset>=o.length()-1){var s=Rr(this.quill.getLine(t.index+1),1)[0];if(s){var a=o.formats(),h=this.quill.getFormat(t.index,1);r=c.a.attributes.diff(a,h)||{},i=s.length()}}this.quill.deleteText(t.index,n,ue.sources.USER),Object.keys(r).length>0&&this.quill.formatLine(t.index+i-1,n,r,ue.sources.USER)}}function Lr(t){var e=this.quill.getLines(t),n={};if(e.length>1){var r=e[0].formats(),i=e[e.length-1].formats();n=c.a.attributes.diff(i,r)||{}}this.quill.deleteText(t,ue.sources.USER),Object.keys(n).length>0&&this.quill.formatLine(t.index,1,n,ue.sources.USER),this.quill.setSelection(t.index,ue.sources.SILENT),this.quill.focus()}function qr(t,e){var n=this;t.length>0&&this.quill.scroll.deleteAt(t.index,t.length);var r=Object.keys(e.format).reduce((function(t,n){return i.a.query(n,i.a.Scope.BLOCK)&&!Array.isArray(e.format[n])&&(t[n]=e.format[n]),t}),{});this.quill.insertText(t.index,"\n",r,ue.sources.USER),this.quill.setSelection(t.index+1,ue.sources.SILENT),this.quill.focus(),Object.keys(e.format).forEach((function(t){null==r[t]&&(Array.isArray(e.format[t])||"link"!==t&&n.quill.format(t,e.format[t],ue.sources.USER))}))}function zr(t){return{key:Dr.keys.TAB,shiftKey:!t,format:{"code-block":!0},handler:function(e){var n=i.a.query("code-block"),r=e.index,o=e.length,s=Rr(this.quill.scroll.descendant(n,r),2),a=s[0],c=s[1];if(null!=a){var h=this.quill.getIndex(a),l=a.newlineIndex(c,!0)+1,d=a.newlineIndex(h+c+o),u=a.domNode.textContent.slice(l,d).split("\n");c=0,u.forEach((function(e,i){t?(a.insertAt(l+c,n.TAB),c+=n.TAB.length,0===i?r+=n.TAB.length:o+=n.TAB.length):e.startsWith(n.TAB)&&(a.deleteAt(l+c,n.TAB.length),c-=n.TAB.length,0===i?r-=n.TAB.length:o-=n.TAB.length),c+=e.length+1})),this.quill.update(ue.sources.USER),this.quill.setSelection(r,o,ue.sources.SILENT)}}}}function $r(t){return{key:t[0].toUpperCase(),shortKey:!0,handler:function(e,n){this.quill.format(t,!n.format[t],ue.sources.USER)}}}function Hr(t){if("string"==typeof t||"number"==typeof t)return Hr({key:t});if("object"===Sr(t)&&(t=xt()(t,!1)),"string"==typeof t.key)if(null!=Dr.keys[t.key.toUpperCase()])t.key=Dr.keys[t.key.toUpperCase()];else{if(1!==t.key.length)return null;t.key=t.key.toUpperCase().charCodeAt(0)}return t.shortKey&&(t[_r]=t.shortKey,delete t.shortKey),t}Dr.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},Dr.DEFAULTS={bindings:{bold:$r("bold"),italic:$r("italic"),underline:$r("underline"),indent:{key:Dr.keys.TAB,format:["blockquote","indent","list"],handler:function(t,e){if(e.collapsed&&0!==e.offset)return!0;this.quill.format("indent","+1",ue.sources.USER)}},outdent:{key:Dr.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(t,e){if(e.collapsed&&0!==e.offset)return!0;this.quill.format("indent","-1",ue.sources.USER)}},"outdent backspace":{key:Dr.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(t,e){null!=e.format.indent?this.quill.format("indent","-1",ue.sources.USER):null!=e.format.list&&this.quill.format("list",!1,ue.sources.USER)}},"indent code-block":zr(!0),"outdent code-block":zr(!1),"remove tab":{key:Dr.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(t){this.quill.deleteText(t.index-1,1,ue.sources.USER)}},tab:{key:Dr.keys.TAB,handler:function(t){this.quill.history.cutoff();var e=(new s.a).retain(t.index).delete(t.length).insert("\t");this.quill.updateContents(e,ue.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(t.index+1,ue.sources.SILENT)}},"list empty enter":{key:Dr.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(t,e){this.quill.format("list",!1,ue.sources.USER),e.format.indent&&this.quill.format("indent",!1,ue.sources.USER)}},"checklist enter":{key:Dr.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(t){var e=Rr(this.quill.getLine(t.index),2),n=e[0],r=e[1],i=l()({},n.formats(),{list:"checked"}),o=(new s.a).retain(t.index).insert("\n",i).retain(n.length()-r-1).retain(1,{list:"unchecked"});this.quill.updateContents(o,ue.sources.USER),this.quill.setSelection(t.index+1,ue.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:Dr.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(t,e){var n=Rr(this.quill.getLine(t.index),2),r=n[0],i=n[1],o=(new s.a).retain(t.index).insert("\n",e.format).retain(r.length()-i-1).retain(1,{header:null});this.quill.updateContents(o,ue.sources.USER),this.quill.setSelection(t.index+1,ue.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(t,e){var n,r=e.prefix.length,i=Rr(this.quill.getLine(t.index),2),o=i[0],a=i[1];if(a>r)return!0;switch(e.prefix.trim()){case"[]":case"[ ]":n="unchecked";break;case"[x]":n="checked";break;case"-":case"*":n="bullet";break;default:n="ordered"}this.quill.insertText(t.index," ",ue.sources.USER),this.quill.history.cutoff();var c=(new s.a).retain(t.index-a).delete(r+1).retain(o.length()-2-a).retain(1,{list:n});this.quill.updateContents(c,ue.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(t.index-r,ue.sources.SILENT)}},"code exit":{key:Dr.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(t){var e=Rr(this.quill.getLine(t.index),2),n=e[0],r=e[1],i=(new s.a).retain(t.index+n.length()-r-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(i,ue.sources.USER)}},"embed left":Fr(Dr.keys.LEFT,!1),"embed left shift":Fr(Dr.keys.LEFT,!0),"embed right":Fr(Dr.keys.RIGHT,!1),"embed right shift":Fr(Dr.keys.RIGHT,!0)}};var Vr=function(t,e){return(Vr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function Wr(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function Gr(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Wr(arguments[e]));return t}!function(){function t(){this.valueStruct={hasValue:!1},this.callbacks=[]}t.prototype.set=function(t){this.valueStruct={value:t,hasValue:!0},this.callbacks.forEach((function(e){e(t)})),this.callbacks=[]},t.prototype.getValue=function(t){var e=this;if(this.valueStruct.hasValue)try{return Promise.resolve(t(this.valueStruct.value))}catch(t){return Promise.reject(t)}return new Promise((function(n,r){e.callbacks.push((function(e){try{n(t(e))}catch(t){r(t)}}))}))}}(),function(){function t(){var t=this;this.promise=new Promise((function(e,n){t.onResolve=e,t.onReject=n}))}Object.defineProperty(t.prototype,"resolve",{get:function(){return this.onResolve},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"reject",{get:function(){return this.onReject},enumerable:!1,configurable:!0})}(),function(){function t(t){var e=this;this.internalHandler=t,this.eventQueue=[],this._isProcessingEvents=!1,this.handler=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e._isProcessingEvents?e.internalHandler.apply(e,Gr(t)):e.eventQueue.push(t)}}Object.defineProperty(t.prototype,"isProcessingEvents",{get:function(){return this._isProcessingEvents},enumerable:!1,configurable:!0}),t.prototype.pauseProcessing=function(){this._isProcessingEvents=!1},t.prototype.startProcessing=function(){var t,e;if(!this._isProcessingEvents){this._isProcessingEvents=!0;try{for(var n=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(this.eventQueue),r=n.next();!r.done;r=n.next()){var i=r.value;this.handler.apply(this,Gr(i))}}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.eventQueue=[]}}}();var Kr,Qr=Boolean,Yr=n(28);n.n(Yr).a,function(t){t[t.None=0]="None",t[t.Redux=1]="Redux",t[t.Comments=2]="Comments"}(Kr||(Kr={}));var Jr=function t(e,n,r){var i=function(t,e,n){return new Error(t)}(e);return i.name="StructuredError",i.innerException=r,i.tag=n,Object.setPrototypeOf(i,Object.getPrototypeOf(this)),Error.captureStackTrace&&Error.captureStackTrace(i,t),i};function Xr(t){return function(t,e){return!(!t||!(t instanceof Jr||void 0!==t.isStructuredError))}(t)?t.stringify():t instanceof Error?t.name+":\n"+(Jr.enableStackLogging?function(t,e){return void 0===e&&(e=0),t?t.split("\n").slice(1+e,2+e).join("\n"):"<unable to get stack>"}(t.stack):""):"Unknown error"}function Zr(t){return(Zr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ti(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return n}}(t,e)||function(t,e){if(t){if("string"==typeof t)return ei(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ei(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ei(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ni(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ri(t,e,n){return(ri="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=si(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function ii(t,e){return(ii=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function oi(t,e){return!e||"object"!==Zr(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function si(t){return(si=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ai(t){return t instanceof W||t instanceof V}Jr.enableStackLogging=!1,Jr.enableMessageLogging=!1,Jr.prototype=Object.create(Error.prototype,{constructor:{value:Error,enumerable:!1,writable:!0,configurable:!0},stringify:{value:function(){return t=this.tag,e=this.stack,void 0,n=this.innerException,[void 0,"Tag: "+t,Jr.enableStackLogging?e:void 0,n?"----------\nInner exception: "+Xr(n):void 0].filter(Qr).join("\n");var t,e,n},enumerable:!1,writable:!0,configurable:!0},isStructuredError:{value:!0,enumerable:!1,writable:!1,configurable:!1}}),Object.setPrototypeOf?Object.setPrototypeOf(Jr,Error):Jr.__proto__=Error;var ci=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ii(t,e)}(o,t);var e,n,r=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=si(t);if(e){var i=si(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return oi(this,n)}}(o);function o(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(n=r.call(this,t)).emitter=e.emitter,Array.isArray(e.whitelist)&&(n.whitelist=e.whitelist.reduce((function(t,e){return t[e]=!0,t}),{})),n.domNode.addEventListener("DOMNodeInserted",(function(){})),n.optimize(),n.enable(),n}return e=o,(n=[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(t,e){var n=ti(this.line(t),2),r=n[0],i=n[1],s=ti(this.line(t+e),1)[0];if(ri(si(o.prototype),"deleteAt",this).call(this,t,e),null!=s&&r!==s&&i>0){if(r instanceof V||s instanceof V)return void this.optimize();if(r instanceof st){var a=r.newlineIndex(r.length(),!0);if(a>-1&&(r=r.split(a+1))===s)return void this.optimize()}else if(s instanceof st){var c=s.newlineIndex(0);c>-1&&s.split(c+1)}var h=s.children.head instanceof m?null:s.children.head;r.moveChildren(s,h),r.remove()}this.optimize()}},{key:"enable",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.domNode.setAttribute("contenteditable",t)}},{key:"formatAt",value:function(t,e,n,r){(null==this.whitelist||this.whitelist[n])&&(ri(si(o.prototype),"formatAt",this).call(this,t,e,n,r),this.optimize())}},{key:"insertAt",value:function(t,e,n){if(null==n||null==this.whitelist||this.whitelist[e]){if(t>=this.length())if(null==n||null==i.a.query(e,i.a.Scope.BLOCK)){var r=i.a.create(this.statics.defaultChild);this.appendChild(r),null==n&&e.endsWith("\n")&&(e=e.slice(0,-1)),r.insertAt(0,e,n)}else{var s=i.a.create(e,n);this.appendChild(s)}else ri(si(o.prototype),"insertAt",this).call(this,t,e,n);this.optimize()}}},{key:"insertBefore",value:function(t,e){if(t.statics.scope===i.a.Scope.INLINE_BLOT){var n=i.a.create(this.statics.defaultChild);n.appendChild(t),t=n}ri(si(o.prototype),"insertBefore",this).call(this,t,e)}},{key:"leaf",value:function(t){return this.path(t).pop()||[null,-1]}},{key:"line",value:function(t){return t===this.length()?this.line(t-1):this.descendant(ai,t)}},{key:"lines",value:function(){var t=function t(e,n,r){var o=[],s=r;return e.children.forEachAt(n,r,(function(e,n,r){ai(e)?o.push(e):e instanceof i.a.Container&&(o=o.concat(t(e,n,s))),s-=r})),o};return t(this,arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE)}},{key:"optimize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!0!==this.batch&&(ri(si(o.prototype),"optimize",this).call(this,t,e),t.length>0&&this.emitter.emit(zt.events.SCROLL_OPTIMIZE,t,e))}},{key:"path",value:function(t){return ri(si(o.prototype),"path",this).call(this,t).slice(1)}},{key:"update",value:function(t){if(!0!==this.batch){var e=zt.sources.USER;"string"==typeof t&&(e=t),Array.isArray(t)||(t=this.observer.takeRecords()),t.length>0&&this.emitter.emit(zt.events.SCROLL_BEFORE_UPDATE,e,t),ri(si(o.prototype),"update",this).call(this,t.concat([])),t.length>0&&this.emitter.emit(zt.events.SCROLL_UPDATE,e,t)}}}])&&ni(e.prototype,n),o}(i.a.Scroll);ci.blotName="scroll",ci.className="ql-editor",ci.tagName="DIV",ci.defaultChild="block",ci.allowedChildren=[W,V,Ce];var hi=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return function(t,e){function n(){this.constructor=t}Vr(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.create=function(e){t.create.call(this,e)},e.prototype.deleteAt=function(e,n){try{t.prototype.deleteAt.call(this,e,n)}catch(t){t.message}},e.prototype.formatAt=function(e,n,r,i){try{t.prototype.formatAt.call(this,e,n,r,i)}catch(t){t.message}},e.prototype.update=function(e,n){try{t.prototype.update.call(this,e,n)}catch(t){t.message}},e}(ci);ue.register({"blots/block":W,"blots/block/embed":V,"blots/break":m,"blots/container":Ce,"blots/cursor":yt,"blots/embed":Me,"blots/inline":B,"blots/scroll":hi,"blots/text":j,"formats/link":wn,"formats/color":Ue,"formats/font":on,"formats/size":Mn,"formats/background":Le,"formats/bold":Qe,"formats/italic":un,"formats/underline":Hn,"formats/strike":Fn,"formats/script":En,"modules/clipboard":dr,"modules/history":jr,"modules/keyboard":Dr}),i.a.register(W,m,yt,B,hi,j),e.default=ue}])}},e={};function n(r){var i=e[r];if(void 0!==i)return i.exports;var o=e[r]={exports:{}};return t[r](o,o.exports,n),o.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var r={};(()=>{"use strict";n.r(r),n.d(r,{excelChartHostFactoryGlobal:()=>jl,excelPictureHostFactoryGlobal:()=>Tx,excelShapeHostFactoryGlobal:()=>lw});class t{constructor(){this.listeners=[]}on(t){this.listeners.push(t)}off(t){const e=this.listeners.indexOf(t);-1!==e&&this.listeners.splice(e,1)}use(t){return this.on(t),()=>{this.off(t)}}emit(...t){this.listeners.forEach((e=>{e(...t)}))}}class e{}class i{constructor(t=[],n=[],r=[]){this.type=e,this.added=t,this.removed=n,this.changed=r}}class o{}class s{constructor(t){this.type=a,this.graphics=[],this.selections=[];for(const e of t)this.graphics.push(e);for(const e of t.selections)this.selections.push(e.save())}restore(t){t.setGraphics(this.graphics);for(let e=0;e<this.selections.length;e+=1){const n=this.selections[e];void 0!==n&&t.selections[e].restore(n)}}}class a{}class c{constructor(n,r){this.type=a,this.selectionUpdated=new t,this.childSelectionUpdated=new t,this._selections=[],this.graphics=[],this.idsToSelections=new Map,this.onGraphicCollectionChanged=t=>{(function(t){return void 0!==t&&t.type===e})(t)&&this.removeGraphics(t.removed)},this.onChildSelectionUpdated=()=>{this.childSelectionUpdated.emit()},this.graphic=n,this.selectionCreator=r,this.graphic.model.modelUpdated.on(this.onGraphicCollectionChanged)}get selections(){return this._selections}get length(){return this.graphics.length}teardown(){this.graphic.model.modelUpdated.off(this.onGraphicCollectionChanged),this.clear()}hasGraphic(t){return void 0!==this.idsToSelections.get(t.id)}addGraphics(t){for(const e of t){if(this.idsToSelections.has(e.id))continue;const t=this.graphic.model.getGraphic(e.id);if(void 0===t)continue;const n=this.createSelection(t);this.graphics.push(t),this._selections.push(n),this.idsToSelections.set(t.id,n)}this.selectionUpdated.emit()}removeGraphics(t){const[e,n]=[new Set,new Set];for(const r of t){const t=r.id,i=this.idsToSelections.get(t);void 0!==i&&(e.add(t),n.add(i),this.idsToSelections.delete(t))}if(!(e.size<=0)){for(const t of n)this.removeSelection(t);this.graphics=this.graphics.filter((t=>!e.has(t.id))),this._selections=this._selections.filter((t=>!n.has(t))),this.selectionUpdated.emit()}}setGraphics(t){if(0===t.length)return void this.clear();const e=[],n=[];for(const r of t){const t=r.id,i=this.graphic.model.getGraphic(t);if(void 0===i)continue;const o=this.idsToSelections.get(t);void 0!==o?(this.idsToSelections.delete(t),e.push(o)):e.push(this.createSelection(i)),n.push(i)}this.idsToSelections.forEach((t=>{this.removeSelection(t)})),this._selections=e,this.graphics=n,this.idsToSelections.clear();for(const t of this._selections)this.idsToSelections.set(t.graphic.id,t);this.selectionUpdated.emit()}clear(){this.selections.length<=0||(this._selections.forEach((t=>{this.removeSelection(t)})),this._selections=[],this.graphics=[],this.idsToSelections.clear(),this.selectionUpdated.emit())}[Symbol.iterator](){return this.graphics[Symbol.iterator]()}save(){return new s(this)}restore(t){(function(t){return t.type===a})(t)&&t.restore(this)}clone(t){const e=new c(t,this.selectionCreator);for(const[n,r]of this.idsToSelections){const i=t.model.getGraphic(n);if(void 0!==i){const t=r.clone(i);e.graphics.push(i),e._selections.push(t),e.idsToSelections.set(i.id,t)}}return e}createSelection(t){const e=this.selectionCreator.createSelection(t);return e.selectionUpdated.on(this.onChildSelectionUpdated),e}removeSelection(t){var e;null===(e=t.deselected)||void 0===e||e.emit(),t.selectionUpdated.off(this.onChildSelectionUpdated),t.teardown()}}function h(t){t.registerForType(o,(e=>new c(e,t)))}let l={logOperation(t){},logTrace(t){}};function d(t){l=t}function u(t,e){l.logTrace({level:0,id:t,message:e})}function p(t,e){l.logTrace({level:1,id:t,message:e})}function f(t,e){l.logTrace({level:2,id:t,message:e})}class y{constructor(){this.extendedProperties=new Map}}let g={logVeto(){}};function x(t){g=t}function v(t,e,n){g.logVeto(t,e,n)}function m(t,e){throw u(t,e),new Error(`Error: ${e}`)}function w(t,e,n){const r=new y;throw r.extendedProperties.set("message",n),v(t,e,r),new Error(`Veto: ${t}, Error: ${e}`)}function b(t){m(0,`Unreachable ${t}`)}class P{constructor(e){this.type=o,this.modelUpdated=new t,this.graphics=[],this._backIndex=0,this.idToGraphic=new Map,this.hostContext=e}get length(){return this.graphics.length}get backIndex(){return this._backIndex}set backIndex(t){this._backIndex=t}getGraphic(t){return this.idToGraphic.get(t)}getGraphicAt(t){return this.graphics[t]}addGraphicsAt(t){const e=[];for(const[n,r]of t)this.idToGraphic.has(n.id)||(this.graphics.splice(r,0,n),this.idToGraphic.set(n.id,n),e.push(n));this.modelUpdated.emit(new i(e))}addGraphics(t){const e=t.filter((t=>!this.idToGraphic.has(t.id)));if(!(e.length<=0)){for(const t of e)this.graphics.push(t),this.idToGraphic.set(t.id,t);this.modelUpdated.emit(new i(e))}}removeGraphics(t){const e=t.filter((t=>this.idToGraphic.delete(t.id)));if(e.length<=0)return;const n=new Set(e);this.graphics=this.graphics.filter((t=>!n.has(t))),this.modelUpdated.emit(new i([],e))}setGraphics(t){const e=this.graphics;this.graphics=[],this.idToGraphic.clear();for(const e of t)this.graphics.push(e),this.idToGraphic.set(e.id,e);return(e.length>0||t.length>0)&&this.modelUpdated.emit(new i([...t],e)),e}changeGraphicOrder(t,e){const n=this.getGraphicOrder(t);if(void 0===n)return;let r;switch(e){case 0:r=Math.min(n+1,this.graphics.length-1);break;case 1:r=this.graphics.length-1;break;case 2:r=Math.max(n-1,this._backIndex);break;case 3:r=this._backIndex;break;default:b(e)}return n!==r&&(this.graphics.splice(n,1),this.graphics.splice(r,0,t),this.modelUpdated.emit(new i([],[],[t]))),n}getGraphicOrder(t){if(this.idToGraphic.has(t.id))return this.graphics.indexOf(t)}setGraphicOrder(t,e){const n=this.getGraphicOrder(t);if(void 0!==n)return n!==e&&(this.graphics.splice(n,1),this.graphics.splice(e,0,t),this.modelUpdated.emit(new i([],[],[t]))),n}[Symbol.iterator](){return this.graphics[Symbol.iterator]()}clone(t=(t=>t.id)){const e=new P(this.hostContext);return e.graphics=this.graphics.map((e=>e.clone(t(e)))),e._backIndex=this._backIndex,e.graphics.forEach((t=>{e.idToGraphic.set(t.id,t)})),e}}const C=Math.PI,A=2*Math.PI,j=A/3,T=3*Math.PI,S=1.5*Math.PI,R=Math.PI/2,E=Math.PI/3,M=Math.PI/4,O=Math.PI/6,k=Math.PI/12;function I(t){return t*C/180}function B(t){const e=t%360;return e<0?e+360:e}class _{constructor(t,e){this.x=t,this.y=e}normalize(){const t=Math.sqrt(this.x*this.x+this.y*this.y);this.x=this.x/t,this.y=this.y/t}multiply(t){const e=this.x*t.m11+this.y*t.m21+t.m31,n=this.x*t.m12+this.y*t.m22+t.m32;this.x=e,this.y=n}add(t){return this.x+=t.x,this.y+=t.y,this}rotate(t,e=new _(0,0)){const n=I(t),r=Math.cos(n),i=Math.sin(n),o=this.x-e.x,s=this.y-e.y;this.x=o*r-s*i+e.x,this.y=o*i+s*r+e.y}transform(t){const e=new _(this.x,this.y);return e.multiply(t),e}distanceTo(t){return Math.sqrt(Math.pow(this.x-t.x,2)+Math.pow(this.y-t.y,2))}}function D(t,e,n,r){const i=t.clone();switch(e.type){case 0:(null==r?void 0:r.move)||(i.pos.x+=e.x,i.pos.y+=e.y);break;case 1:(null==r?void 0:r.resize)||function(t,e,n){const{width:r,height:i}=t.size;let{scaleX:o,scaleY:s}=e;const{originX:a,originY:c}=e;if((n||e.lockAspectRatio)&&0!==a&&0!==c){const t=Math.max(Math.abs(o),Math.abs(s));o=Math.sign(o)*t,s=Math.sign(s)*t}const h=o*r,l=s*i;t.size.width=Math.abs(h),t.size.height=Math.abs(l);const d=new _((h-r)*a/2,(l-i)*c/2);d.rotate(t.rot),t.pos.x+=r/2+d.x-h/2,t.pos.y+=i/2+d.y-l/2,h<0&&(t.pos.x+=h,t.flip.x=!t.flip.x),l<0&&(t.pos.y+=l,t.flip.y=!t.flip.y)}(i,e,n||!0===(null==r?void 0:r.aspectRatio));break;case 2:(null==r?void 0:r.rotate)||(i.rot+=e.rotation);break;case 3:e.x&&(i.flip.x=!i.flip.x),e.y&&(i.flip.y=!i.flip.y),e.mirrorRotation&&(i.rot=B(-i.rot));break;case 4:void 0!==e.offset&&i.pos.add(e.offset),void 0!==e.sizeDiff&&i.size.add(e.sizeDiff),void 0!==e.flip&&(e.flip.x&&(i.flip.x=!i.flip.x),e.flip.y&&(i.flip.y=!i.flip.y)),void 0!==e.rotation&&(i.rot+=e.rotation);break;default:b(e)}return i}function F(t,e){return t.equals(e)}function N(t,e){return void 0===t&&void 0===e||void 0!==t&&void 0!==e&&t.equals(e)}function U(...t){return()=>{for(let e=t.pop();void 0!==e;e=t.pop())e()}}class L{constructor(e,n){this.transformUpdated=new t,this.onTransformUpdated=(...t)=>{this.previewTransform=void 0,this.transformUpdated.emit(...t)},this.anchor=e.anchor,this.presenter=n,this.teardown=U(this.presenter.transformUpdated.use(this.onTransformUpdated))}get transform(){var t;return null!==(t=this.previewTransform)&&void 0!==t?t:this.presenter.transform}applyTransform(t,e=!0){const n=D(this.presenter.transform,t,!1,e?this.anchor.locks:void 0);N(n,this.previewTransform)||(this.previewTransform=n,this.transformUpdated.emit())}setTransform(t){N(t,this.previewTransform)||(this.previewTransform=t,this.transformUpdated.emit())}}class q{constructor(t){this.initializer=t}get value(){return void 0===this.instance&&(this.instance=this.initializer()),this.instance}get valid(){return void 0!==this.instance}}function z(){const e=()=>new t;return{pointerdown:new q(e),pointermove:new q(e),pointerup:new q(e),pointercancel:new q(e),pointerover:new q(e),pointerout:new q(e)}}class ${}class H{constructor(t=[],e,n){this.type=$,this.pointerEventNotifiers=z(),this.hitTestSlop=0,this.children=t,this.nodeId=e,this.setSourceOnChildren=n}teardown(){}}function V(t){return t.type===$}class W{constructor(e,n,r,i,o,s){this.viewModelUpdated=new t,this.childPresenters=new Map,this.updateViewModel=(t,e)=>{const n=this.childPresenters;this.childPresenters=new Map;const r=[];for(const t of this.graphicCollection){const e=n.get(t);if(void 0!==e){n.delete(t),this.childPresenters.set(t,e),e.update(),r.push(e.container);continue}const i=this.createChildPresenter(t);this.childPresenters.set(t,i),r.push(i.container)}for(const[t,e]of n)e.teardown();this.viewModel.children=r,this.viewModelUpdated.emit(e)},this.graphicCollection=e.model,this.presenterCreator=n,this.anchorPresenterCreator=void 0!==(null==s?void 0:s.previewInfo)?function(t){return{createAnchorPresenter:e=>{const n=t.createAnchorPresenter(e);return new L(e,n)}}}(r):r,this.site=i,this.presenterContext=o,this.editContext=s,this.viewModel=new H([],{nodeType:this.site.rootNodeType}),this.updateViewModel(),this.graphicCollection.modelUpdated.on(this.updateViewModel)}getPresenters(t){const e=this.childPresenters.get(t);return void 0===e&&m(0,`Child presenters not found for graphic: ${t.id}`),[e.presenter,e.anchorPresenter]}reset(){this.clearChildPresenters(),this.updateViewModel()}teardown(){this.graphicCollection.modelUpdated.off(this.updateViewModel),this.clearChildPresenters()}clearChildPresenters(){for(const[t,e]of this.childPresenters)e.teardown();this.childPresenters.clear()}createChildPresenter(t){const e=this.anchorPresenterCreator.createAnchorPresenter(t),n=this.presenterCreator.createPresenter(t,Object.assign(Object.assign({},this.presenterContext),{anchorPresenter:e}),this.editContext);return new G(n,e,this.site.graphicNodeType,t.id,this)}}class G{constructor(t,e,n,r,i){this.onViewModelUpdated=(...t)=>{this.update(),this.parent.viewModelUpdated.emit(...t)},this.presenter=t,this.anchorPresenter=e,this.container=new H([t.viewModel],{nodeType:n,nodeKey:r}),this.parent=i,this.presenter.viewModelUpdated.on(this.onViewModelUpdated)}update(){this.container.children=[this.presenter.viewModel]}teardown(){this.presenter.viewModelUpdated.off(this.onViewModelUpdated),this.presenter.teardown(),this.anchorPresenter.teardown()}}function K(t,e,n){return(r,i,o)=>new W(r,e,n,t,i,o)}class Q{constructor(){this.rootNodeType="grCollR",this.graphicNodeType="grCollCh"}}class Y{constructor(e){this.modelHostContextUpdated=new t,this.themeInfo=e}get themeInfo(){return this._themeInfo}set themeInfo(t){this._themeInfo=t,this.modelHostContextUpdated.emit([0])}}function J(t){return Math.round(t)}function X(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n+=1)if(!F(t[n],e[n]))return!1;return!0}function Z(t){return t.map((t=>t))}class tt{constructor(t,e,n,r,i=[]){this.type=0,this.r=t,this.g=e,this.b=n,this.a=r,this.transforms=i}clone(){return new tt(this.r,this.g,this.b,this.a,Z(this.transforms))}equals(t){return et(t)&&this.r===t.r&&this.g===t.g&&this.b===t.b&&this.a===t.a&&X(this.transforms,t.transforms)}}function et(t){return 0===t.type}function nt(t){return new tt(J(t.r),J(t.g),J(t.b),t.a)}function rt(t){return`rgba(${t.r}, ${t.g}, ${t.b}, ${t.a})`}function it(t){const e=function(t){if(t.startsWith("rgb(")){const[e,n,r]=t.slice(4).split(",").map(parseFloat);return new tt(e,n,r,1)}if(t.startsWith("rgba(")){const[e,n,r,i]=t.slice(5).split(",").map(parseFloat);return new tt(e,n,r,i)}if(t.startsWith("#")){const e=parseInt(t.slice(1),16);if(7===t.length)return new tt(e>>16&255,e>>8&255,255&e,1);if(9===t.length)return new tt(e>>24&255,e>>16&255,e>>8&255,(255&e)/255)}}(t);if(void 0!==e)return e;throw new Error(`Unsupported CSS color: ${t}`)}const ot=new tt(0,0,0,1);class st extends tt{constructor(){super(...arguments),this.type=3}}function at(t){return 3===t.type}const ct={0:1,1:0,2:3,3:2,4:4,5:5,6:6,7:7,8:8,9:9,10:10,11:11,13:0,14:1,15:2,16:3};class ht{constructor(t){this.type=1,this.color=t}clone(){return new ht(this.color)}equals(t){return lt(t)&&this.color.equals(t.color)}}function lt(t){return 1===t.type}class dt{constructor(t=[]){this.type=2,this.transforms=t}clone(){return new dt(Z(this.transforms))}equals(t){return ut(t)&&X(this.transforms,t.transforms)}}function ut(t){return 2===t.type}class pt{constructor(){this.type=2}clone(){return new pt}equals(t){return ft(t)}}function ft(t){return 2===t.type}class yt{constructor(t,e,n,r,i,o,s,a){this.fill=t,this.weight=e,this.dash=n,this.headEnd=r,this.tailEnd=i,this.join=o,this.compound=s,this.cap=a}clone(){var t,e,n,r,i;return new yt(null===(t=this.fill)||void 0===t?void 0:t.clone(),this.weight,null===(e=this.dash)||void 0===e?void 0:e.clone(),null===(n=this.headEnd)||void 0===n?void 0:n.clone(),null===(r=this.tailEnd)||void 0===r?void 0:r.clone(),null===(i=this.join)||void 0===i?void 0:i.clone(),this.compound,this.cap)}equals(t){return N(this.fill,t.fill)&&this.weight===t.weight&&N(this.dash,t.dash)&&N(this.headEnd,t.headEnd)&&N(this.tailEnd,t.tailEnd)&&N(this.join,t.join)&&this.compound===t.compound&&this.cap===t.cap}resolveFrom(t){void 0!==this.fill&&!ft(this.fill)||void 0===t.fill||(this.fill=t.fill.clone()),void 0===this.weight&&void 0!==t.weight&&(this.weight=t.weight),void 0===this.dash&&void 0!==t.dash&&(this.dash=t.dash.clone()),void 0===this.headEnd&&void 0!==t.headEnd&&(this.headEnd=t.headEnd.clone()),void 0===this.tailEnd&&void 0!==t.tailEnd&&(this.tailEnd=t.tailEnd.clone()),void 0===this.join&&void 0!==t.join&&(this.join=t.join.clone()),void 0===this.compound&&void 0!==t.compound&&(this.compound=t.compound),void 0===this.cap&&void 0!==t.cap&&(this.cap=t.cap)}}class gt{constructor(t=0){this.joinType=t}clone(){return new gt(this.joinType)}equals(t){return this.joinType===t.joinType}}const xt={name:"Office",fills:[new ht(new dt),new ht(new dt),new ht(new dt)],lines:[new yt(new ht(new dt),.5,void 0,void 0,void 0,new gt(0)),new yt(new ht(new dt),1,void 0,void 0,void 0,new gt(0)),new yt(new ht(new dt),1.5,void 0,void 0,void 0,new gt(0))]},vt={theme:{colorScheme:{name:"Scheme1",presets:{0:new tt(0,0,0,1),1:new tt(255,255,255,1),2:new tt(68,84,106,1),3:new tt(231,230,230,1),4:new tt(68,114,196,1),5:new tt(237,125,49,1),6:new tt(165,165,165,1),7:new tt(255,192,0,1),8:new tt(91,155,213,1),9:new tt(112,173,71,1),10:new tt(5,99,193,1),11:new tt(149,79,114,1)}},styles:xt,fontScheme:{name:"Office",major:{latin:{typeface:"Calibri Light"},eastAsian:{typeface:""},complexScript:{typeface:""},fontList:[]},minor:{latin:{typeface:"Calibri"},eastAsian:{typeface:""},complexScript:{typeface:""},fontList:[]}}},schemeMapping:ct};class mt{constructor(t){this.registry=new Map(t)}register(t,e){return this.registry.set(t,e),this}get(t){return this.registry.get(t)}}class wt extends mt{constructor(t){super(t),this.values=new Set(t.map((t=>t[1])))}register(t,e){return super.register(t,e),this.values.add(e),this}[Symbol.iterator](){return this.values[Symbol.iterator]()}}class bt extends mt{createRenderDataPresenter(t,e,n){void 0===t.model.fallbackRenderData&&m(0,"Trying to create RenderDataPresenter without fallback RenderData.");const r=this.get(t.model.fallbackRenderData.type);return void 0===r&&m(0,`No RenderDataPresenterCreator for render data type: ${t.model.fallbackRenderData.type}`),r(t,e,n)}}class Pt{constructor(){this.viewReady=new t,this.pendingPresenters=new Set}addPending(t){const e=0===this.pendingPresenters.size;this.pendingPresenters.add(t),e&&this.viewReady.emit(!1)}removePending(t){this.pendingPresenters.delete(t),0===this.pendingPresenters.size&&this.viewReady.emit(!0)}teardown(){this.pendingPresenters.clear()}}class Ct extends mt{createPresenter(t,e,n){const r=this.get(t.model.type);return void 0===r&&m(0,`No PresenterCreator for modeltype: ${t.model.type}`),r(t,e,n)}}class At extends mt{createAnchorPresenter(t){const e=this.get(t.anchor.type);return void 0===e&&m(0,`No AnchorPresenterCreator for AnchorType: ${t.anchor.type}`),e(t)}}class jt extends wt{beginRender(){for(const t of this)t.beginRender()}endRender(t){for(const e of this)e.endRender(t)}addViewModel(t,e){var n;if(null===(n=this.filter)||void 0===n?void 0:n.filter(t))return;const r=this.get(t.type);void 0===r&&m(0,`No registered RenderTarget for ViewModel type: ${t.type}`),r.addViewModel(t,e)}beginGroup(t){for(const e of this)e.beginGroup(t)}endGroup(){for(const t of this)t.endGroup()}hitTest(t,e){for(const n of this){const r=n.hitTest(t,e);if(void 0!==r)return r}}}class Tt extends mt{createSelection(t){const e=this.get(t.model.type);if(void 0===e)throw new Error(`Can't create selection for graphic: ${t.model.type}`);return e(t)}registerForType(t,e){this.register(t,e)}}class St extends mt{createSelectionPresenter(t,e,n){const r=this.get(t.type);if(void 0===r)throw new Error(`Can't create presenter for selection: ${t.type}`);return r(t,e,n)}}class Rt{constructor(t,e=[]){this.performed=t,this.editOps=e}}class Et extends mt{constructor(){super(...arguments),this.defaultDispatcher=new Mt}register(t,e){return super.register(t,e)}processKeyboardEvent(t,e,n){var r;const i=this.get(e.type);return void 0===i?{isHandled:!1}:(null!==(r=i.dispatcher)&&void 0!==r?r:this.defaultDispatcher).dispatchKeyboardEvent(t,e,n,i.keyboardShortcuts)}performAction(t,e,n){var r;const i=this.get(e.type);return void 0===i?new Rt(!1):(null!==(r=i.dispatcher)&&void 0!==r?r:this.defaultDispatcher).dispatchAction(t,e,n,i.actions)}}class Mt{dispatchAction(t,e,n,r){return r.performAction(t,e,n)}dispatchKeyboardEvent(t,e,n,r){return"keydown"===t.type?r.performShortcut(t,e,n):{isHandled:!1}}}class Ot extends mt{createAriaLabel(t){const e=this.get(t.model.type);if(void 0!==e)return e(t)}}class kt extends mt{createAccessibleNode(t){const e=this.get(t.model.type);if(void 0!==e)return e(t)}}class It{constructor(t=!1,e=!1){this.x=t,this.y=e}clone(){return new It(this.x,this.y)}equals(t){return this.x===t.x&&this.y===t.y}}class Bt{constructor(t=0,e=0){this.x=t,this.y=e}clone(){return new Bt(this.x,this.y)}equals(t){return this.x===t.x&&this.y===t.y}multiply(t){const e=this.x*t.m11+this.y*t.m21+t.m31,n=this.x*t.m12+this.y*t.m22+t.m32;return this.x=e,this.y=n,this}add(t){return this.x+=t.x,this.y+=t.y,this}subtract(t){return this.x-=t.x,this.y-=t.y,this}scale(t,e){return this.x*=t,this.y*=e,this}set(t){return this.x=t.x,this.y=t.y,this}}class _t{constructor(t=0,e=0){this.width=t,this.height=e}clone(){return new _t(this.width,this.height)}equals(t){return this.width===t.width&&this.height===t.height}subtract(t){return this.width-=t.width,this.height-=t.height,this}scale(t,e){return this.width*=t,this.height*=e,this}add(t){return this.width+=t.width,this.height+=t.height,this}}class Dt{constructor(t=new Bt,e=new _t,n=new It,r=0){this.pos=t,this.size=e,this.flip=n,this.rot=r}clone(){return new Dt(this.pos.clone(),this.size.clone(),this.flip.clone(),this.rot)}equals(t){return this.pos.equals(t.pos)&&this.size.equals(t.size)&&this.flip.equals(t.flip)&&this.rot===t.rot}getCenter(){return new _(this.pos.x+this.size.width/2,this.pos.y+this.size.height/2)}}class Ft{constructor(){this.combinedScaleChanged=new t,this.viewTransformChanged=new t,this._zoomFactor=1,this._lastCombinedScale=1,this._lastViewTransform=new Dt}get zoomFactor(){return this._zoomFactor}set zoomFactor(t){const e=t*this.deviceScaleFactor;this._zoomFactor=t,this._lastCombinedScale!==e&&(this._lastCombinedScale=e,this.combinedScaleChanged.emit())}get combinedScale(){return this.zoomFactor*this.deviceScaleFactor}get viewTransform(){return this._lastViewTransform}set viewTransform(t){this._lastViewTransform.equals(t)||(this._lastViewTransform=t.clone(),this.viewTransformChanged.emit())}get deviceScaleFactor(){return 1/window.devicePixelRatio}}class Nt{constructor(t,e,n){this.id=t,this.model=e,this.anchor=n}clone(t){return new Nt(t,this.model.clone(),this.anchor.clone())}}let Ut=()=>!1;function Lt(t){return Ut(t)}function qt(t){const e=[];for(const n of t){const t=n.perform().undoOp;void 0!==t&&e.push(t)}return e.reverse()}const zt="acLst";class $t{constructor(t){this.actionType=zt,this.actions=t}}class Ht{}class Vt{constructor(){this.type=Ht}}function Wt(t,e,n,r){var i;const o=e.save(),s=function(t){return t.actionType===zt}(t)?t.actions:[t],a=[];for(const t of s)a.push(...r(t,e,n).editOps);const c=qt(a),h=e.save();return{editOps:c,savedSelectionBefore:null!=o?o:new Vt,savedSelectionAfter:null!=h?h:new Vt,mergePolicy:null===(i=a[0])||void 0===i?void 0:i.mergePolicy}}class Gt{constructor(t,e,n){this.onKeyboardEvent=(t,e)=>{let n=this.editContext.editorRegistry.processKeyboardEvent(t,this.selection,this.editContext).isHandled;n||void 0===this.keyboardEventProcessor||(n=this.keyboardEventProcessor(t,this.selection,this.editContext).isHandled),e.isHandled=n,e.isHandled&&(t.preventDefault(),t.stopPropagation())},this.editContext=t,this.keyboardEventProcessor=n,this.keyboardEventNotifiers=e,this.keyboardEventNotifiers.keydown.on(this.onKeyboardEvent),this.keyboardEventNotifiers.keyup.on(this.onKeyboardEvent)}teardown(){this.selection.teardown(),this.keyboardEventNotifiers.keydown.off(this.onKeyboardEvent),this.keyboardEventNotifiers.keyup.off(this.onKeyboardEvent)}performAction(t){return Wt(t,this.selection,this.editContext,this.editContext.editorRegistry.performAction.bind(this.editContext.editorRegistry))}performUndoEntry(t){const e={editOps:qt(t.editOps),savedSelectionBefore:t.savedSelectionAfter,savedSelectionAfter:t.savedSelectionBefore};return this.selection.restore(t.savedSelectionBefore),e}resetSelection(t){this.selection=t}}class Kt{constructor(t){this.props=new Map,this.name=t,this.id=Kt.opCount,Kt.opCount+=1,performance.mark(this.getStartMarker())}setProp(t,e){return this.props.set(t,e.toString()),this}complete(){performance.mark(this.getEndMarker()),performance.measure(this.name,this.getStartMarker(),this.getEndMarker());const t=performance.getEntriesByName(this.name,"measure");var e,n,r;t.length>0&&(e=this.name,n=t[t.length-1].duration,r=this.props.size>0?this.props:void 0,l.logOperation({name:e,durationMs:n,props:r})),performance.clearMarks(this.getStartMarker()),performance.clearMarks(this.getEndMarker()),performance.clearMeasures(this.name)}getStartMarker(){return`${this.name}.${this.id}.Start`}getEndMarker(){return`${this.name}.${this.id}.End`}}function Qt(t,e){t.forEach((t=>{t.addTimePoint(e)}))}Kt.opCount=0;class Yt{constructor(t,e){this.startTimeMs=0,this.causation=t,this.trackers=e,this.startTimeMs=performance.now()}complete(){const t=Math.max(performance.now()-this.startTimeMs,0);this.trackers.forEach((e=>{e.addEventContext(this.causation,t)}))}}const Jt="View.Render";class Xt{constructor(){this.registry=new Map}registerPerformer(t,e,n){const r=JSON.stringify([t.name,e.name]);return this.registry.set(r,n),this}performReplacePreview(t,e,n,r){const i=JSON.stringify([t.type.name,e.model.type.name]),o=this.registry.get(i);if(void 0===o)throw new Error(`No performer registered to preview replace ${e.model.type.name} with ${t.type.name}`);o(t,e,n,r)}}class Zt{constructor(){this.registry=new Map}registerPerformer(t,e,n){const r=JSON.stringify([t.name,e.name]);return this.registry.set(r,n),this}get(t,e){return this.registry.get(JSON.stringify([t.name,e.name]))}performReplace(t,e){const n=JSON.stringify([t.type.name,e.model.type.name]),r=this.registry.get(n);if(void 0===r)throw new Error(`No performer registered to replace ${e.model.type.name} with ${t.type.name}`);r(t,e)}}class te{constructor(t){this.looping=!1,this.loopingId=-1,this.onceId=-1,this.window=null!=t?t:window}start(t){const e=()=>{t(),this.looping?this.loopingId=this.window.requestAnimationFrame(e):this.loopingId=-1};this.looping=!0,-1!==this.loopingId&&this.window.cancelAnimationFrame(this.loopingId),this.loopingId=this.window.requestAnimationFrame(e)}stop(){this.looping=!1}runOnce(t){-1!==this.onceId||this.looping||(this.onceId=this.window.requestAnimationFrame((()=>{t(),this.onceId=-1})))}stopOnce(){-1!==this.onceId&&(this.window.cancelAnimationFrame(this.onceId),this.onceId=-1)}}class ee{constructor(t,e,n,r,i,o,s,a,c,h,l={createAriaLabel:()=>{}},d,u,p,f){this.eventChainTrackersList=[],this.createPresenter=t=>{const e=this.anchorPresenterCreator.createAnchorPresenter(t);return this.presenterCreator.createPresenter(t,Object.assign(Object.assign({},this.presenterContext),{anchorPresenter:e}),this.editContext)},this.onViewModelUpdated=t=>{null==t||t.addTimePoint("ViewModelUpdatedEventReceivedTime"),this.invalidate((()=>{this.render()}),t)},this.renderTargetRegistry=i,this.viewScale=o,this.viewReadyTracker=s,this.frameRendered=a,this.registerViewModelUpdatedListener=c,this.renderLoop=new te(null!=p?p:window),this.graphic=t,this.anchorPresenterCreator=r,this.anchorPresenter=this.anchorPresenterCreator.createAnchorPresenter(this.graphic),this.presenterContext={anchorPresenter:this.anchorPresenter,viewScale:this.viewScale,viewReadyTracker:this.viewReadyTracker,renderDataPresenterCreator:n,ariaLabelCreator:l,accessibleNodeCreator:d,highContrastModeInfo:u},this.presenterCreator=e,this.editContext=h,this.presenter=this.presenterCreator.createPresenter(this.graphic,this.presenterContext,this.editContext),this.registerViewModelUpdatedListener&&this.presenter.viewModelUpdated.on(this.onViewModelUpdated),f&&void 0!==this.editContext&&void 0!==this.editContext.previewInfo&&(this.editContext.previewInfo.replacePreviewInfo={context:{presenterCreator:this.createPresenter},previewRegistry:new Xt,replaceRegistry:new Zt})}start(){this.renderLoop.runOnce((()=>{this.render()}))}teardown(){this.renderLoop.stopOnce(),this.registerViewModelUpdatedListener&&this.presenter.viewModelUpdated.off(this.onViewModelUpdated),this.presenter.teardown(),this.anchorPresenter.teardown(),this.clear()}render(t){void 0!==t&&(this.eventChainTrackersList.push(t),t.addTimePoint("ViewControllerRenderStartTime")),this.renderViewModels((()=>{const t=this.presenter.viewModel;this.renderTargetRegistry.addViewModel(t)})),null==t||t.addTimePoint("ViewControllerRenderEndTime")}clear(){this.renderViewModels((()=>{}))}invalidate(t,e){this.renderLoop.runOnce(t),void 0!==e&&this.eventChainTrackersList.push(e)}recreatePresenter(t){this.graphic=t,this.presenter=this.presenterCreator.createPresenter(this.graphic,this.presenterContext,this.editContext)}resetPresenter(t,e){this.graphic=t,this.presenter=e}renderViewModels(t){Qt(this.eventChainTrackersList,"ViewControllerRenderViewModelsStartTime");const e=new Kt(Jt);try{const n=new Yt("ViewController_Render",this.eventChainTrackersList);try{this.renderTargetRegistry.beginRender(),t(),this.renderTargetRegistry.endRender()}catch(t){throw u(0,`Exception: ${t.message}`),t}finally{n.complete()}Qt(this.eventChainTrackersList,"FrameRenderedEventEmittedTime"),this.frameRendered.emit(this.eventChainTrackersList.slice()),Qt(this.eventChainTrackersList,"ViewControllerRenderViewModelsEndTime"),this.eventChainTrackersList.splice(0)}finally{e.complete()}}}class ne{constructor(){this.viewModels=[]}filter(t){return-1!==this.viewModels.indexOf(t)}}class re{constructor(t,e,n,r,i,o,s,a,c,h,l,d,u,p,f,y,g,x){this.viewDirty=!0,this.onViewModelUpdated=t=>{null==t||t.addTimePoint("ViewModelUpdatedEventReceivedTime"),this.invalidate(t)},this.onEditPreviewEvent=t=>{0===t?(this.showSelectionInPreview||this.editPreviewFilter.viewModels.push(this.selectionPresenter.viewModel),this.viewController.renderLoop.start((()=>{this.render()}))):(this.editPreviewFilter.viewModels.splice(0),this.viewController.renderLoop.stop())},this.frameRendered=c,this.viewController=new ee(t,e,n,r,i,o,s,c,!1,a.editContext,d,u,p,y,g),this.viewController.presenter.viewModelUpdated.on(this.onViewModelUpdated),this.editController=a,this.renderOnlyWhenDirty=!0===f,this.editPreviewFilter=new ne,this.viewController.renderTargetRegistry.filter=this.editPreviewFilter,this.editController.selection=h.createSelection(t),this.selectionPresenter=l.createSelectionPresenter(this.editController.selection,{anchorPresenter:this.viewController.anchorPresenter,viewScale:this.viewController.viewScale,viewReadyTracker:this.viewController.viewReadyTracker,renderDataPresenterCreator:n,ariaLabelCreator:d,modelPresenter:this.viewController.presenter,selectionPresenterCreator:l},this.editController.editContext),this.selectionPresenter.viewModelUpdated.on(this.onViewModelUpdated),void 0!==this.editController.editContext.previewInfo?(this.editController.editContext.previewInfo.presenter.notifier.on(this.onEditPreviewEvent),this.renderOnlyWhenDirty&&this.editController.editContext.previewInfo.presenter.viewModelUpdated.on(this.onViewModelUpdated),this.editPreviewRenderTargetRegistry=this.editController.editContext.previewInfo.renderTargetRegistry):this.editPreviewRenderTargetRegistry=new jt([]),this.showSelectionInPreview=!0===x}start(){this.viewController.renderLoop.runOnce((()=>{this.render()}))}teardown(){this.viewController.presenter.viewModelUpdated.off(this.onViewModelUpdated),this.selectionPresenter.viewModelUpdated.off(this.onViewModelUpdated),this.selectionPresenter.teardown(),void 0!==this.editController.editContext.previewInfo&&(this.renderOnlyWhenDirty&&this.editController.editContext.previewInfo.presenter.viewModelUpdated.off(this.onViewModelUpdated),this.editController.editContext.previewInfo.presenter.notifier.off(this.onEditPreviewEvent)),this.viewController.renderTargetRegistry.filter=void 0,this.viewController.teardown(),this.clear(),this.editController.teardown()}render(t){this.renderOnlyWhenDirty&&!this.viewDirty||(void 0!==t&&(this.viewController.eventChainTrackersList.push(t),t.addTimePoint("EditViewControllerRenderStartTime")),this.renderViewModels((()=>{const t=this.viewController.presenter.viewModel;if(this.viewController.renderTargetRegistry.addViewModel(t,1),!this.editController.editContext.isInLivePreview){const t=this.selectionPresenter.viewModel;this.viewController.renderTargetRegistry.addViewModel(t,0);const e=this.editController.editContext.previewInfo;void 0!==e&&this.editPreviewRenderTargetRegistry.addViewModel(e.presenter.viewModel,2)}})),void 0!==t&&t.addTimePoint("EditViewControllerRenderEndTime"),this.viewDirty=!1)}invalidate(t){this.viewDirty=!0,this.viewController.invalidate((()=>{this.render()}),t)}prepareForLivePreview(){this.savedRootInfo={graphic:this.viewController.graphic,presenter:this.viewController.presenter,selection:this.editController.selection};const t=this.savedRootInfo.graphic.clone(this.savedRootInfo.graphic.id);this.editController.resetSelection(this.editController.selection.clone(t)),this.viewController.recreatePresenter(t),this.viewController.presenter.viewModelUpdated.on(this.onViewModelUpdated),this.invalidate()}restoreFromLivePreview(){void 0!==this.savedRootInfo&&(this.viewController.presenter.viewModelUpdated.off(this.onViewModelUpdated),this.viewController.presenter.teardown(),this.editController.selection.teardown(),this.editController.resetSelection(this.savedRootInfo.selection),this.viewController.resetPresenter(this.savedRootInfo.graphic,this.savedRootInfo.presenter),this.invalidate(),this.savedRootInfo=void 0)}renderViewModels(t){const e=new Kt(Jt);try{Qt(this.viewController.eventChainTrackersList,"EditViewControllerRenderViewModelsStartTime");const n=new Yt("EditViewController_Render",this.viewController.eventChainTrackersList);try{this.viewController.renderTargetRegistry.beginRender(),this.editPreviewRenderTargetRegistry.beginRender(),t(),this.viewController.renderTargetRegistry.endRender((()=>{this.frameRendered.emit(this.viewController.eventChainTrackersList.slice(),!0)})),this.editPreviewRenderTargetRegistry.endRender()}catch(t){throw u(0,`Exception: ${t.message}`),t}finally{n.complete()}Qt(this.viewController.eventChainTrackersList,"FrameRenderedEventEmittedTime"),this.frameRendered.emit(this.viewController.eventChainTrackersList.slice()),Qt(this.viewController.eventChainTrackersList,"EditViewControllerRenderViewModelsEndTime"),this.viewController.eventChainTrackersList.splice(0)}finally{e.complete()}}clear(){this.renderViewModels((()=>{}))}}class ie{constructor(e){var n,r,i,o,s;this.frameRendered=new t,this.renderDataPresenterCreatorRegistry=new bt([]),this.viewReadyTracker=new Pt,this.presenterCreatorRegistry=new Ct(null!==(n=e.presenterCreatorEntries)&&void 0!==n?n:[]),this.anchorPresenterCreatorRegistry=new At(null!==(r=e.anchorPresenterCreatorEntries)&&void 0!==r?r:[]),this.renderTargetRegistry=new jt([]),this.editPreviewInfo=e.editPreviewInfo,this.actionInvoker=e.actionInvoker,this.selectionCreatorRegistry=new Tt([]),null===(i=e.selectionCreatorRegistrars)||void 0===i||i.forEach((t=>{t(this.selectionCreatorRegistry)})),this.selectionPresenterCreatorRegistry=new St(null!==(o=e.selectionPresenterCreatorEntries)&&void 0!==o?o:[]),this.editorRegistry=new Et([]),this.keyboardEventNotifiers=e.keyboardEventNotifiers,this.keyboardEventProcessor=e.keyboardEventProcessor,this.ariaLabelCreatorRegistry=new Ot([]),this.accessibleNodeCreatorRegistry=new kt([]),this.highContrastModeInfo=e.highContrastModeInfo,this.renderOnlyWhenDirty=e.renderOnlyWhenDirty,this.window=null!==(s=e.window)&&void 0!==s?s:window,this.viewScale=new Ft,this.enableReplacePreview=e.enableReplacePreview,this.showSelectionInPreview=e.showSelectionInPreview}get presenter(){return this.editViewController.viewController.presenter}get editContext(){return this.editController.editContext}get selection(){return this.editController.selection}get selectionPresenter(){return this.editViewController.selectionPresenter}get isInLivePreview(){return!0===this.editContext.isInLivePreview}start(t,e){const n=new Nt("root",t,e);this.editController=new Gt({editorRegistry:this.editorRegistry,actionInvoker:this.actionInvoker,previewInfo:this.editPreviewInfo},this.keyboardEventNotifiers,this.keyboardEventProcessor),this.editViewController=new re(n,this.presenterCreatorRegistry,this.renderDataPresenterCreatorRegistry,this.anchorPresenterCreatorRegistry,this.renderTargetRegistry,this.viewScale,this.viewReadyTracker,this.editController,this.frameRendered,this.selectionCreatorRegistry,this.selectionPresenterCreatorRegistry,this.ariaLabelCreatorRegistry,this.accessibleNodeCreatorRegistry,this.highContrastModeInfo,this.renderOnlyWhenDirty,this.window,this.enableReplacePreview,this.showSelectionInPreview),this.editViewController.start()}teardown(){void 0!==this.editViewController&&this.editViewController.teardown()}performAction(t){return this.editController.performAction(t)}performUndoEntry(t){return this.editController.performUndoEntry(t)}invalidate(t){this.editViewController.invalidate(t)}startLivePreview(){Lt("LivePreview")&&(this.editContext.isInLivePreview||(this.editContext.isInLivePreview=!0,this.editViewController.prepareForLivePreview()))}endLivePreview(){Lt("LivePreview")&&this.editContext.isInLivePreview&&(this.editContext.isInLivePreview=!1,this.editViewController.restoreFromLivePreview())}}class oe{}class se{constructor(e=new Dt){this.type=oe,this.anchorUpdated=new t,this._transform=e}get transform(){return this._transform}set transform(t){this._transform=t,this.anchorUpdated.emit()}setTransform(t,e){this._transform=t,this.anchorUpdated.emit(e)}clone(){const t=new se(this._transform.clone());return t.locks=void 0!==this.locks?Object.assign({},this.locks):void 0,t}}function ae(t){return new se(new Dt(new Bt((e=t).left,e.top),new _t(e.width(),e.height())));var e}class ce{constructor(e){this.transformUpdated=new t,this.onAnchorUpdated=t=>{this.transformUpdated.emit(t)},this.anchor=e,this.anchor.anchorUpdated.on(this.onAnchorUpdated)}get transform(){return this.anchor.transform}teardown(){this.anchor.anchorUpdated.off(this.onAnchorUpdated)}}function he(t){return new ce(t.anchor)}function le(){return[oe,he]}class de{}class ue{}class pe{constructor(e){this.type=ue,this.selectionUpdated=new t,this.graphic=e}teardown(){}save(){}restore(t){}clone(t){return new pe(t)}}class fe{constructor(t,e=[]){this.type=1,this.presetColorType=t,this.transforms=e}clone(){return new fe(this.presetColorType,Z(this.transforms))}equals(t){return ye(t)&&this.presetColorType===t.presetColorType&&X(this.transforms,t.transforms)}}function ye(t){return 1===t.type}class ge{constructor(t,e,n,r,i=[]){this.type=4,this.h=t,this.s=e,this.l=n,this.a=r,this.transforms=i}clone(){return new ge(this.h,this.s,this.l,this.a,Z(this.transforms))}equals(t){return xe(t)&&this.h===t.h&&this.s===t.s&&this.l===t.l&&this.a===t.a&&X(this.transforms,t.transforms)}}function xe(t){return 4===t.type}function ve(t){return t<0?0:t<=10.31475?t/12.92:t<=255?255*Math.pow((t+14.025)/269.025,2.4):255}function me(t){return new st(ve(t.r),ve(t.g),ve(t.b),t.a)}function we(t){return t<0?0:t<=.798354?12.92*t:t<255?269.025*Math.pow(t/255,1/2.4)-14.025:255}function be(t){return new tt(we(t.r),we(t.g),we(t.b),t.a)}function Pe(t){const e=t.r/255,n=t.g/255,r=t.b/255,i=Math.max(e,n,r),o=Math.min(e,n,r),s=i-o,a=i+o,c=(i+o)/2;if(0===s)return new ge(0,0,c,t.a);const h=c<=.5?s/a:s/(2-a);let l;return l=e===i?60*(n-r)/s:n===i?60*(r-e)/s+120:60*(e-n)/s+240,new ge(je(l),h,c,t.a)}function Ce(t){const e=t.h,n=t.s,r=t.l,i=r<=.5?r*(n+1):r+n-r*n,o=2*r-i;return new tt(255*Ae(o,i,e+120),255*Ae(o,i,e),255*Ae(o,i,e-120),t.a)}function Ae(t,e,n){const r=je(n);return r<60?t+(e-t)*r/60:r<180?e:r<240?t+(e-t)*(240-r)/60:t}function je(t){return t<0?t+360:t>=360?t-360:t}function Te(t){return xe(t)?me(Ce(t)):et(t)?me(t):t}function Se(t){return et(t)?Pe(t):at(t)?Pe(be(t)):t}class Re{constructor(t){this.type=0,this.shade=t/100}transform(t){return Ee(Te(t),this.shade)}equals(t){return this.type===t.type&&this.shade===t.shade}}function Ee(t,e){return new st(t.r*e,t.g*e,t.b*e,t.a)}class Me{constructor(t,e,n=!1){this.type=0,this.preset=t,this.adjustValues=e,this.externalAdjustValue=n}}class Oe{constructor(t,e){this.type=1,this.custom=t,this.adjustValues=e}}class ke{}class Ie{constructor(t){this.type=ke,this.updates=t}}function Be(t,e){return function(t){return void 0!==t&&t.type===ke}(t)&&0!=(t.updates&e)}class _e{constructor(e,n){this.type=de,this.modelUpdated=new t,this._fill=new ht(new fe(4)),this._line=new yt(new ht(new fe(4,[new Re(50)]))),this.hostContext=e,this._geometry=new Me(n)}get geometry(){return this._geometry}set geometry(t){this._geometry!==t&&(this._geometry=t,this.emitModelUpdated(1))}get fill(){return this._fill}set fill(t){this._fill.equals(t)||(this._fill=t,this.emitModelUpdated(2))}get line(){return this._line}set line(t){this._line.equals(t)||(this._line=t,this.emitModelUpdated(4))}get effects(){return this._effects}set effects(t){N(this._effects,t)||(this._effects=t,this.emitModelUpdated(32))}get style(){return this._style}set style(t){this._style!==t&&(this._style=t,this.emitModelUpdated(8))}get fallbackRenderData(){return this._fallbackRenderData}set fallbackRenderData(t){this._fallbackRenderData!==t&&(this._fallbackRenderData=t,this.emitModelUpdated(16))}get locks(){return this._locks}set locks(t){this._locks=t}clone(){var t;const e=new _e(this.hostContext,4);return e._geometry=this._geometry,e._fill=this._fill.clone(),e._line=this._line.clone(),e._effects=null===(t=this._effects)||void 0===t?void 0:t.clone(),e._style=this._style,e._fallbackRenderData=this._fallbackRenderData,e._locks=void 0!==this._locks?Object.assign({},this._locks):void 0,e}emitModelUpdated(t){this.modelUpdated.emit(new Ie(t))}}const De=43200,Fe=6e4,Ne=[33,{a:[["adj",16667]],h:[[0,"x1","t","adj",0,5e4]],g:[["a",20,0,"adj",5e4],["x1",15,"ss","a",1e5],["x2",11,"r","x1"],["y2",11,"b","x1"],["il",15,"x1",70711,1e5],["ir",11,"r","il"],["ib",11,"b","il"]],p:[{s:[[0,"l","x1"],[2,"x1","x1",R,-R],[1,"x2","t"],[2,"x1","x1",C,-R],[1,"r","y2"],[2,"x1","x1",S,-R],[1,"x1","b"],[2,"x1","x1",0,-R],[5]]}],i:["il","il","ir","ib"],c:[[S,"hc","t"],[C,"l","vc"],[R,"hc","b"],[0,"r","vc"]]}],Ue=[34,{g:[["idx",5,"wd2",M],["idy",8,"hd2",M],["il",11,"hc","idx"],["ir",10,"hc","idx"],["it",11,"vc","idy"],["ib",10,"vc","idy"]],p:[{s:[[0,"l","vc"],[2,"wd2","hd2",C,A],[5]]}],i:["il","it","ir","ib"],c:[[S,"hc","t"],[S,"il","it"],[C,"l","vc"],[R,"il","ib"],[R,"hc","b"],[R,"ir","ib"],[0,"r","vc"],[S,"ir","it"]],u:!0}],Le=[35,{a:[["adj",1e5]],h:[[0,"x1","t","adj",0,2e5]],g:[["a",20,0,"adj",2e5],["r2",1,2],["tw",13,"wd2","r2"],["th",13,"hd2","r2"],["sw",15,"tw","a",1e5],["sh",15,"th","a",1e5],["dx1",5,"sw",M],["dy1",8,"sh",M],["x1",10,"hc","dx1"],["y1",11,"vc","dy1"],["x2",17,"hc","x1",2],["y2",17,"vc","y1",2],["idx",5,"wd2",M],["idy",8,"hd2",M],["il",11,"hc","idx"],["ir",10,"hc","idx"],["it",11,"vc","idy"],["ib",10,"vc","idy"]],p:[{s:[[0,"l","vc"],[2,"wd2","hd2",C,R],[3,"x2","t","x1","y1"],[3,"r","y2","r","vc"],[2,"wd2","hd2",0,C],[5]]}],i:["il","it","ir","ib"],c:[[0,"r","vc"],[R,"ir","ib"],[R,"hc","b"],[R,"il","ib"],[C,"l","vc"],[S,"il","it"],[S,"hc","t"],[S,"x1","y1"]],u:!0}],qe=[39,{a:[["adj1",0],["adj2",S]],h:[[4,"x1","y1","adj1",0,A],[4,"x2","y2","adj2",0,A]],g:[["stAng",20,0,"adj1",A],["enAng",20,0,"adj2",A],["sw1",11,"enAng","stAng"],["sw2",10,"sw1",A],["swAng",18,"sw1","sw1","sw2"],["wt1",8,"wd2","stAng"],["ht1",5,"hd2","stAng"],["dx1",19,"wd2","ht1","wt1"],["dy1",21,"hd2","ht1","wt1"],["x1",10,"hc","dx1"],["y1",10,"vc","dy1"],["wt2",8,"wd2","enAng"],["ht2",5,"hd2","enAng"],["dx2",19,"wd2","ht2","wt2"],["dy2",21,"hd2","ht2","wt2"],["x2",10,"hc","dx2"],["y2",10,"vc","dy2"],["idx",5,"wd2",M],["idy",8,"hd2",M],["il",11,"hc","idx"],["ir",10,"hc","idx"],["it",11,"vc","idy"],["ib",10,"vc","idy"]],p:[{s:[[0,"x1","y1"],[2,"wd2","hd2","stAng","swAng"],[1,"hc","vc"],[5]]}],i:["il","it","ir","ib"],c:[[0,"r","vc"],[R,"hc","b"],[C,"l","vc"],[S,"hc","t"]]}],ze=[40,{a:[["adj1",C],["adj2",0],["adj3",25e3]],h:[[4,"x1","y1","adj1",0,A],[5,"x2","y2","adj3",0,5e4,"adj2",0,A]],g:[["stAng",20,0,"adj1",A],["istAng",20,0,"adj2",A],["a3",20,0,"adj3",5e4],["sw11",11,"istAng","stAng"],["sw12",10,"sw11",A],["swAng",18,"sw11","sw11","sw12"],["iswAng",3,"swAng"],["wt1",8,"wd2","stAng"],["ht1",5,"hd2","stAng"],["wt3",8,"wd2","istAng"],["ht3",5,"hd2","istAng"],["dx1",19,"wd2","ht1","wt1"],["dy1",21,"hd2","ht1","wt1"],["dx3",19,"wd2","ht3","wt3"],["dy3",21,"hd2","ht3","wt3"],["x1",10,"hc","dx1"],["y1",10,"vc","dy1"],["x3",10,"hc","dx3"],["y3",10,"vc","dy3"],["dr",15,"ss","a3",1e5],["iwd2",11,"wd2","dr"],["ihd2",11,"hd2","dr"],["wt2",8,"iwd2","istAng"],["ht2",5,"ihd2","istAng"],["wt4",8,"iwd2","stAng"],["ht4",5,"ihd2","stAng"],["dx2",19,"iwd2","ht2","wt2"],["dy2",21,"ihd2","ht2","wt2"],["dx4",19,"iwd2","ht4","wt4"],["dy4",21,"ihd2","ht4","wt4"],["x2",10,"hc","dx2"],["y2",10,"vc","dy2"],["x4",10,"hc","dx4"],["y4",10,"vc","dy4"],["sw0",11,A,"stAng"],["da1",11,"swAng","sw0"],["g1",6,"x1","x2"],["g2",6,"x3","x4"],["g3",6,"g1","g2"],["ir",18,"da1","r","g3"],["sw1",11,R,"stAng"],["sw2",11,M,"stAng"],["sw3",18,"sw1","sw1","sw2"],["da2",11,"swAng","sw3"],["g5",6,"y1","y2"],["g6",6,"y3","y4"],["g7",6,"g5","g6"],["ib",18,"da2","b","g7"],["sw4",11,C,"stAng"],["sw5",11,T,"stAng"],["sw6",18,"sw4","sw4","sw5"],["da3",11,"swAng","sw6"],["g9",7,"x1","x2"],["g10",7,"x3","x4"],["g11",7,"g9","g10"],["il",18,"da3","l","g11"],["sw7",11,S,"stAng"],["sw8",11,3.5*Math.PI,"stAng"],["sw9",18,"sw7","sw7","sw8"],["da4",11,"swAng","sw9"],["g13",7,"y1","y2"],["g14",7,"y3","y4"],["g15",7,"g13","g14"],["it",18,"da4","t","g15"],["x5",17,"x1","x4",2],["y5",17,"y1","y4",2],["x6",17,"x3","x2",2],["y6",17,"y3","y2",2],["cang1",11,"stAng",R],["cang2",10,"istAng",R],["cang3",17,"cang1","cang2",2]],p:[{s:[[0,"x1","y1"],[2,"wd2","hd2","stAng","swAng"],[1,"x2","y2"],[2,"iwd2","ihd2","istAng","iswAng"],[5]]}],i:["il","it","ir","ib"],c:[["cang1","x5","y5"],["cang2","x6","y6"],["cang3","hc","vc"]]}],$e=[41,{a:[["adj",25e3]],h:[[3,"dr","vc","adj",0,5e4]],g:[["a",20,0,"adj",5e4],["dr",15,"ss","a",1e5],["iwd2",11,"wd2","dr"],["ihd2",11,"hd2","dr"],["idx",5,"wd2",M],["idy",8,"hd2",M],["il",11,"hc","idx"],["ir",10,"hc","idx"],["it",11,"vc","idy"],["ib",10,"vc","idy"]],p:[{s:[[0,"l","vc"],[2,"wd2","hd2",C,A],[5],[0,"dr","vc"],[2,"iwd2","ihd2",C,-A],[5]]}],i:["il","it","ir","ib"],c:[[S,"hc","t"],[S,"il","it"],[C,"l","vc"],[R,"il","ib"],[R,"hc","b"],[R,"ir","ib"],[0,"r","vc"],[S,"ir","it"]]}],He=[42,{a:[["adj",18750]],h:[[3,"dr","vc","adj",0,5e4]],g:[["a",20,0,"adj",5e4],["dr",15,"ss","a",1e5],["iwd2",11,"wd2","dr"],["ihd2",11,"hd2","dr"],["ang",4,"w","h"],["ct",5,"ihd2","ang"],["st",8,"iwd2","ang"],["m",12,"ct","st"],["n",15,"iwd2","ihd2","m"],["drd2",14,"dr",2],["dang",4,"n","drd2"],["2dang",13,"dang",2],["swAng",10,-C,"2dang"],["t3",4,"w","h"],["stAng1",11,"t3","dang"],["stAng2",11,"stAng1",C],["ct1",5,"ihd2","stAng1"],["st1",8,"iwd2","stAng1"],["m1",12,"ct1","st1"],["n1",15,"iwd2","ihd2","m1"],["dx1",5,"n1","stAng1"],["dy1",8,"n1","stAng1"],["x1",10,"hc","dx1"],["y1",10,"vc","dy1"],["x2",11,"hc","dx1"],["y2",11,"vc","dy1"],["idx",5,"wd2",M],["idy",8,"hd2",M],["il",11,"hc","idx"],["ir",10,"hc","idx"],["it",11,"vc","idy"],["ib",10,"vc","idy"]],p:[{s:[[0,"l","vc"],[2,"wd2","hd2",C,A],[5],[0,"x1","y1"],[2,"iwd2","ihd2","stAng1","swAng"],[5],[0,"x2","y2"],[2,"iwd2","ihd2","stAng2","swAng"],[5]]}],i:["il","it","ir","ib"],c:[[S,"hc","t"],[S,"il","it"],[C,"l","vc"],[R,"il","ib"],[R,"hc","b"],[R,"ir","ib"],[0,"r","vc"],[S,"ir","it"]]}],Ve=[73,{a:[["adj",25e3]],h:[[1,"hc","y2","adj",0,"maxAdj"]],g:[["maxAdj",15,5e4,"h","ss"],["a",20,0,"adj","maxAdj"],["y1",15,"ss","a",2e5],["y2",10,"y1","y1"],["y3",11,"b","y1"]],p:[{s:[[0,"l","y1"],[2,"wd2","y1",C,-C],[1,"r","y3"],[2,"wd2","y1",0,C],[5]],l:!1},{s:[[0,"l","y1"],[2,"wd2","y1",C,A],[5]],f:2,l:!1},{s:[[0,"r","y1"],[2,"wd2","y1",0,A],[1,"r","y3"],[2,"wd2","y1",0,C],[1,"l","y1"]],f:0}],i:["l","y2","r","y3"],c:[[S,"hc","y2"],[S,"hc","t"],[C,"l","vc"],[R,"hc","b"],[0,"r","vc"]]}],We=[75,{g:[["dx1",15,"w",49,48],["dx2",15,"w",10,48],["x1",11,"hc","dx1"],["x2",11,"hc","dx2"],["x3",10,"hc","dx2"],["x4",10,"hc","dx1"],["y1",11,"t","hd3"],["il",14,"w",6],["ir",15,"w",5,6],["ib",15,"h",2,3]],p:[{s:[[0,"hc","hd4"],[4,"x3","y1","x4","hd4","hc","b"],[4,"x1","hd4","x2","y1","hc","hd4"],[5]]}],i:["il","hd4","ir","ib"],c:[[S,"hc","hd4"],[R,"hc","b"]],u:!0}],Ge=[76,{a:[["adj",25e3]],h:[[0,"x19","vc","adj",12500,46875]],g:[["a",20,12500,"adj",46875],["g0",11,5e4,"a"],["g1",15,"g0",30274,32768],["g2",15,"g0",12540,32768],["g3",10,"g1",5e4],["g4",10,"g2",5e4],["g5",11,5e4,"g1"],["g6",11,5e4,"g2"],["g7",15,"g0",23170,32768],["g8",10,5e4,"g7"],["g9",11,5e4,"g7"],["g10",15,"g5",3,4],["g11",15,"g6",3,4],["g12",10,"g10",3662],["g13",10,"g11",3662],["g14",10,"g11",12500],["g15",11,1e5,"g10"],["g16",11,1e5,"g12"],["g17",11,1e5,"g13"],["g18",11,1e5,"g14"],["ox1",15,"w",18436,21600],["oy1",15,"h",3163,21600],["ox2",15,"w",3163,21600],["oy2",15,"h",18436,21600],["x8",15,"w","g8",1e5],["x9",15,"w","g9",1e5],["x10",15,"w","g10",1e5],["x12",15,"w","g12",1e5],["x13",15,"w","g13",1e5],["x14",15,"w","g14",1e5],["x15",15,"w","g15",1e5],["x16",15,"w","g16",1e5],["x17",15,"w","g17",1e5],["x18",15,"w","g18",1e5],["x19",15,"w","a",1e5],["wR",15,"w","g0",1e5],["hR",15,"h","g0",1e5],["y8",15,"h","g8",1e5],["y9",15,"h","g9",1e5],["y10",15,"h","g10",1e5],["y12",15,"h","g12",1e5],["y13",15,"h","g13",1e5],["y14",15,"h","g14",1e5],["y15",15,"h","g15",1e5],["y16",15,"h","g16",1e5],["y17",15,"h","g17",1e5],["y18",15,"h","g18",1e5]],p:[{s:[[0,"r","vc"],[1,"x15","y18"],[1,"x15","y14"],[5],[0,"ox1","oy1"],[1,"x16","y13"],[1,"x17","y12"],[5],[0,"hc","t"],[1,"x18","y10"],[1,"x14","y10"],[5],[0,"ox2","oy1"],[1,"x13","y12"],[1,"x12","y13"],[5],[0,"l","vc"],[1,"x10","y14"],[1,"x10","y18"],[5],[0,"ox2","oy2"],[1,"x12","y17"],[1,"x13","y16"],[5],[0,"hc","b"],[1,"x14","y15"],[1,"x18","y15"],[5],[0,"ox1","oy2"],[1,"x17","y16"],[1,"x16","y17"],[5],[0,"x19","vc"],[2,"wR","hR",C,A],[5]]}],i:["x9","y9","x8","y8"],c:[[S,"hc","t"],[C,"l","vc"],[R,"hc","b"],[0,"r","vc"]],u:!0}],Ke=[77,{a:[["adj",5e4]],h:[[0,"g0w","vc","adj",0,87500]],g:[["a",20,0,"adj",87500],["g0",15,"ss","a",1e5],["g0w",15,"g0","w","ss"],["g1",11,"ss","g0"],["g2",15,"g0","g0","g1"],["g3",15,"ss","ss","g1"],["g4",13,"g3",2],["g5",11,"g4","g2"],["g6",11,"g5","g0"],["g6w",15,"g6","w","ss"],["g7",14,"g5",2],["g8",11,"g7","g0"],["dy1",15,"g8","hd2","ss"],["g10h",11,"vc","dy1"],["g11h",10,"vc","dy1"],["g12",15,"g0",9598,32768],["g12w",15,"g12","w","ss"],["g13",11,"ss","g12"],["q1",13,"ss","ss"],["q2",13,"g13","g13"],["q3",11,"q1","q2"],["q4",1,"q3"],["dy4",15,"q4","hd2","ss"],["g15h",11,"vc","dy4"],["g16h",10,"vc","dy4"],["g17w",11,"g6w","g0w"],["g18w",14,"g17w",2],["dx2p",16,"g0w","g18w","w"],["dx2",3,"dx2p"],["dy2",3,"hd2"],["stAng1",4,"dx2","dy2"],["enAngp1",4,"dx2","hd2"],["enAng1",11,"enAngp1",A],["swAng1",11,"enAng1","stAng1"]],p:[{s:[[0,"r","b"],[2,"w","hd2",R,C],[2,"g18w","dy1","stAng1","swAng1"],[5]]}],i:["g12w","g15h","g0w","g16h"],c:[[S,"r","t"],[C,"l","vc"],[R,"r","b"],[0,"g0w","vc"]],u:!0}],Qe=[78,{a:[["adj",4653]],h:[[1,"hc","y4","adj",-4653,4653]],g:[["a",20,-4653,"adj",4653],["x1",15,"w",4969,21699],["x2",15,"w",6215,21600],["x3",15,"w",13135,21600],["x4",15,"w",16640,21600],["y1",15,"h",7570,21600],["y3",15,"h",16515,21600],["dy2",15,"h","a",1e5],["y2",11,"y3","dy2"],["y4",10,"y3","dy2"],["dy3",15,"h","a",5e4],["y5",10,"y4","dy3"],["idx",5,"wd2",M],["idy",8,"hd2",M],["il",11,"hc","idx"],["ir",10,"hc","idx"],["it",11,"vc","idy"],["ib",10,"vc","idy"],["wR",15,"w",1125,21600],["hR",15,"h",1125,21600]],p:[{s:[[0,"l","vc"],[2,"wd2","hd2",C,A],[5]]},{s:[[0,"x2","y1"],[2,"wR","hR",C,A],[0,"x3","y1"],[2,"wR","hR",C,A]],f:5},{s:[[0,"x1","y2"],[3,"hc","y5","x4","y2"]],f:0}],i:["il","it","ir","ib"],c:[[S,"hc","t"],[S,"il","it"],[C,"l","vc"],[R,"il","ib"],[R,"hc","b"],[R,"ir","ib"],[0,"r","vc"],[S,"ir","it"]],u:!0}],Ye=[87,{a:[["adj1",M],["adj2",S]],h:[[4,"x1","y1","adj1",0,A],[4,"x2","y2","adj2",0,A]],g:[["stAng",20,0,"adj1",A],["enAng",20,0,"adj2",A],["sw1",11,"enAng","stAng"],["sw2",10,"sw1",A],["swAng",18,"sw1","sw1","sw2"],["wt1",8,"wd2","stAng"],["ht1",5,"hd2","stAng"],["dx1",19,"wd2","ht1","wt1"],["dy1",21,"hd2","ht1","wt1"],["wt2",8,"wd2","enAng"],["ht2",5,"hd2","enAng"],["dx2",19,"wd2","ht2","wt2"],["dy2",21,"hd2","ht2","wt2"],["x1",10,"hc","dx1"],["y1",10,"vc","dy1"],["x2",10,"hc","dx2"],["y2",10,"vc","dy2"],["x3",17,"x1","x2",2],["y3",17,"y1","y2",2],["midAng0",14,"swAng",2],["midAng",16,"stAng","midAng0",C],["idx",5,"wd2",M],["idy",8,"hd2",M],["il",11,"hc","idx"],["ir",10,"hc","idx"],["it",11,"vc","idy"],["ib",10,"vc","idy"]],p:[{s:[[0,"x1","y1"],[2,"wd2","hd2","stAng","swAng"],[5]]}],i:["il","it","ir","ib"],c:[["stAng","x1","y1"],["enAng","x2","y2"],["midAng","x3","y3"]]}],Je=[88,{a:[["adj1",S],["adj2",0]],h:[[4,"x1","y1","adj1",0,A],[4,"x2","y2","adj2",0,A]],g:[["stAng",20,0,"adj1",A],["enAng",20,0,"adj2",A],["sw11",11,"enAng","stAng"],["sw12",10,"sw11",A],["swAng",18,"sw11","sw11","sw12"],["wt1",8,"wd2","stAng"],["ht1",5,"hd2","stAng"],["dx1",19,"wd2","ht1","wt1"],["dy1",21,"hd2","ht1","wt1"],["wt2",8,"wd2","enAng"],["ht2",5,"hd2","enAng"],["dx2",19,"wd2","ht2","wt2"],["dy2",21,"hd2","ht2","wt2"],["x1",10,"hc","dx1"],["y1",10,"vc","dy1"],["x2",10,"hc","dx2"],["y2",10,"vc","dy2"],["sw0",11,A,"stAng"],["da1",11,"swAng","sw0"],["g1",6,"x1","x2"],["ir",18,"da1","r","g1"],["sw1",11,R,"stAng"],["sw2",11,M,"stAng"],["sw3",18,"sw1","sw1","sw2"],["da2",11,"swAng","sw3"],["g5",6,"y1","y2"],["ib",18,"da2","b","g5"],["sw4",11,C,"stAng"],["sw5",11,T,"stAng"],["sw6",18,"sw4","sw4","sw5"],["da3",11,"swAng","sw6"],["g9",7,"x1","x2"],["il",18,"da3","l","g9"],["sw7",11,S,"stAng"],["sw8",11,3.5*Math.PI,"stAng"],["sw9",18,"sw7","sw7","sw8"],["da4",11,"swAng","sw9"],["g13",7,"y1","y2"],["it",18,"da4","t","g13"],["cang1",11,"stAng",R],["cang2",10,"enAng",R],["cang3",17,"cang1","cang2",2]],p:[{s:[[0,"x1","y1"],[2,"wd2","hd2","stAng","swAng"],[1,"hc","vc"],[5]],l:!1},{s:[[0,"x1","y1"],[2,"wd2","hd2","stAng","swAng"]],f:0}],i:["il","it","ir","ib"],c:[["cang1","x1","y1"],["cang3","hc","vc"],["cang2","x2","y2"]]}],Xe=[120,{g:[["il",15,"w",2977,21600],["it",15,"h",3262,21600],["ir",15,"w",17087,21600],["ib",15,"h",17337,21600],["g27",15,"w",67,21600],["g28",15,"h",21577,21600],["g29",15,"w",21582,21600],["g30",15,"h",1235,21600]],p:[{s:[[0,3900/De,14370/De],[2,6753/De,9190/De,I(-11429249/Fe),I(7426832/Fe)],[2,5333/De,7267/De,I(-8646143/Fe),I(5396714/Fe)],[2,4365/De,5945/De,I(-8748475/Fe),I(5983381/Fe)],[2,4857/De,6595/De,I(-7859164/Fe),I(7034504/Fe)],[2,5333/De,7273/De,I(-4722533/Fe),I(6541615/Fe)],[2,6775/De,9220/De,I(-46.26725),I(130.269)],[2,5785/De,7867/De,I(37501/Fe),I(6842e3/Fe)],[2,6752/De,9215/De,I(22.4516),I(115.17255)],[2,7720/De,10543/De,I(3974558/Fe),I(4542661/Fe)],[2,4360/De,5918/De,I(-16496525/Fe),I(8804134/Fe)],[2,4345/De,5945/De,I(-246.8285),I(152.51885)],[5]]},{s:[[0,4693/De,26177/De],[2,4345/De,5945/De,I(86.742),I(26.4295)],[0,6928/De,34899/De],[2,4360/De,5918/De,I(4416628/Fe),I(686848/Fe)],[0,16478/De,39090/De],[2,6752/De,9215/De,I(137.62415),I(14.0811)],[0,28827/De,34751/De],[2,6752/De,9215/De,I(387196/Fe),I(15.99835)],[0,34129/De,22954/De],[2,5785/De,7867/De,I(-70.29235),I(4255042/Fe)],[0,41798/De,15354/De],[2,5333/De,7273/De,I(1819082/Fe),I(27.7515)],[0,38324/De,5426/De],[2,4857/De,6595/De,I(-824660/Fe),I(14.8589)],[0,29078/De,3952/De],[2,4857/De,6595/De,I(-149.18145),I(1091722/Fe)],[0,22141/De,4720/De],[2,4365/De,5945/De,I(-9809656/Fe),I(17.68635)],[0,14e3/De,5192/De],[2,6753/De,9190/De,I(-66.70695),I(12.31935)],[0,4127/De,15789/De],[2,6753/De,9190/De,I(157.65435),I(711490/Fe)]],f:0}],i:["il","it","ir","ib"],c:[[0,"g29","vc"],[R,"hc","g28"],[C,"g27","vc"],[S,"hc","g30"]],u:!0}],Ze=[36,{a:[["adj",5e4]],h:[[0,"x1","t","adj",0,"maxAdj"]],g:[["maxAdj",15,1e5,"w","ss"],["a",20,0,"adj","maxAdj"],["dx1",15,"ss","a",1e5],["x1",11,"r","dx1"],["ir",17,"x1","r",2],["x2",14,"x1",2]],p:[{s:[[0,"l","t"],[1,"x1","t"],[1,"r","vc"],[1,"x1","b"],[1,"l","b"],[5]]}],i:["l","t","ir","b"],c:[[S,"x2","t"],[C,"l","vc"],[R,"x2","b"],[0,"r","vc"]]}],tn=[37,{a:[["adj",5e4]],h:[[0,"x2","t","adj",0,"maxAdj"]],g:[["maxAdj",15,1e5,"w","ss"],["a",20,0,"adj","maxAdj"],["x1",15,"ss","a",1e5],["x2",11,"r","x1"],["x3",14,"x2",2],["dx",11,"x2","x1"],["il",18,"dx","x1","l"],["ir",18,"dx","x2","r"]],p:[{s:[[0,"l","t"],[1,"x2","t"],[1,"r","vc"],[1,"x2","b"],[1,"l","b"],[1,"x1","vc"],[5]]}],i:["il","t","ir","b"],c:[[S,"x3","t"],[C,"x1","vc"],[R,"x3","b"],[0,"r","vc"]]}],en=[47,{a:[["adj1",5e4],["adj2",5e4]],h:[[1,"l","y1","adj1",0,1e5],[0,"x5","t","adj2",0,"maxAdj2"]],g:[["maxAdj2",15,84375,"w","ss"],["a1",20,0,"adj1",1e5],["a2",20,0,"adj2","maxAdj2"],["x4",15,"ss",5,32],["dx5",15,"ss","a2",1e5],["x5",11,"r","dx5"],["dy1",15,"h","a1",2e5],["y1",11,"vc","dy1"],["y2",10,"vc","dy1"],["dx6",15,"dy1","dx5","hd2"],["x6",11,"r","dx6"]],p:[{s:[[0,"l","y1"],[1,"ssd32","y1"],[1,"ssd32","y2"],[1,"l","y2"],[5],[0,"ssd16","y1"],[1,"ssd8","y1"],[1,"ssd8","y2"],[1,"ssd16","y2"],[5],[0,"x4","y1"],[1,"x5","y1"],[1,"x5","t"],[1,"r","vc"],[1,"x5","b"],[1,"x5","y2"],[1,"x4","y2"],[5]]}],i:["x4","y1","x6","y2"],c:[[S,"x5","t"],[C,"l","vc"],[R,"x5","b"],[0,"r","vc"]]}],nn=[48,{a:[["adj1",5e4],["adj2",5e4]],h:[[1,"r","y1","adj1",0,1e5],[0,"x2","t","adj2",0,"maxAdj2"]],g:[["maxAdj2",15,1e5,"w","ss"],["a1",20,0,"adj1",1e5],["a2",20,0,"adj2","maxAdj2"],["dx2",15,"ss","a2",1e5],["x2",11,"r","dx2"],["dy1",15,"h","a1",2e5],["y1",11,"vc","dy1"],["y2",10,"vc","dy1"],["x1",15,"dy1","dx2","hd2"],["x3",11,"r","x1"]],p:[{s:[[0,"l","y1"],[1,"x2","y1"],[1,"x2","t"],[1,"r","vc"],[1,"x2","b"],[1,"x2","y2"],[1,"l","y2"],[1,"x1","vc"],[5]]}],i:["x1","y1","x3","y2"],c:[[S,"x2","t"],[C,"x1","vc"],[R,"x2","b"],[0,"r","vc"]]}],rn=[49,{a:[["adj1",25e3],["adj2",25e3],["adj3",25e3]],h:[[1,"l","y2","adj1",0,5e4],[0,"x1","t","adj2",0,5e4],[1,"x2","y1","adj3",0,5e4]],g:[["a1",20,0,"adj1",5e4],["a2",20,0,"adj2",5e4],["a3",20,0,"adj3",5e4],["y1",15,"ss","a3",1e5],["dx1",15,"ss","a2",5e4],["x1",11,"r","dx1"],["dx3",15,"ss","a2",1e5],["x3",11,"r","dx3"],["dx2",15,"ss","a1",2e5],["x2",11,"x3","dx2"],["x4",10,"x3","dx2"],["dy2",15,"ss","a1",1e5],["y2",11,"b","dy2"],["x0",14,"x4",2],["y3",17,"y2","b",2],["y15",17,"y1","b",2]],p:[{s:[[0,"l","y2"],[1,"x2","y2"],[1,"x2","y1"],[1,"x1","y1"],[1,"x3","t"],[1,"r","y1"],[1,"x4","y1"],[1,"x4","b"],[1,"l","b"],[5]]}],i:["l","y2","x4","b"],c:[[S,"x3","t"],[C,"x1","y1"],[C,"l","y3"],[R,"x0","b"],[0,"x4","y15"],[0,"r","y1"]]}],on=[43,{a:[["adj1",5e4],["adj2",5e4]],h:[[1,"l","y1","adj1",0,1e5],[0,"x1","t","adj2",0,"maxAdj2"]],g:[["maxAdj2",15,1e5,"w","ss"],["a1",20,0,"adj1",1e5],["a2",20,0,"adj2","maxAdj2"],["dx1",15,"ss","a2",1e5],["x1",11,"r","dx1"],["dy1",15,"h","a1",2e5],["y1",11,"vc","dy1"],["y2",10,"vc","dy1"],["dx2",15,"y1","dx1","hd2"],["x2",10,"x1","dx2"]],p:[{s:[[0,"l","y1"],[1,"x1","y1"],[1,"x1","t"],[1,"r","vc"],[1,"x1","b"],[1,"x1","y2"],[1,"l","y2"],[5]]}],i:["l","y1","x2","y2"],c:[[S,"x1","t"],[C,"l","vc"],[R,"x1","b"],[0,"r","vc"]]}],sn=[44,{a:[["adj1",5e4],["adj2",5e4]],h:[[1,"r","y1","adj1",0,1e5],[0,"x2","t","adj2",0,"maxAdj2"]],g:[["maxAdj2",15,1e5,"w","ss"],["a1",20,0,"adj1",1e5],["a2",20,0,"adj2","maxAdj2"],["dx2",15,"ss","a2",1e5],["x2",10,"l","dx2"],["dy1",15,"h","a1",2e5],["y1",11,"vc","dy1"],["y2",10,"vc","dy1"],["dx1",15,"y1","dx2","hd2"],["x1",11,"x2","dx1"]],p:[{s:[[0,"l","vc"],[1,"x2","t"],[1,"x2","y1"],[1,"r","y1"],[1,"r","y2"],[1,"x2","y2"],[1,"x2","b"],[5]]}],i:["x1","y1","r","y2"],c:[[S,"x2","t"],[C,"l","vc"],[R,"x2","b"],[0,"r","vc"]]}],an=[45,{a:[["adj1",5e4],["adj2",5e4]],h:[[0,"x1","b","adj1",0,1e5],[1,"l","y2","adj2",0,"maxAdj2"]],g:[["maxAdj2",15,1e5,"h","ss"],["a1",20,0,"adj1",1e5],["a2",20,0,"adj2","maxAdj2"],["dy2",15,"ss","a2",1e5],["y2",10,"t","dy2"],["dx1",15,"w","a1",2e5],["x1",11,"hc","dx1"],["x2",10,"hc","dx1"],["dy1",15,"x1","dy2","wd2"],["y1",11,"y2","dy1"]],p:[{s:[[0,"l","y2"],[1,"hc","t"],[1,"r","y2"],[1,"x2","y2"],[1,"x2","b"],[1,"x1","b"],[1,"x1","y2"],[5]]}],i:["x1","y1","x2","b"],c:[[S,"hc","t"],[C,"l","y2"],[R,"hc","b"],[0,"r","y2"]]}],cn=[46,{a:[["adj1",5e4],["adj2",5e4]],h:[[0,"x1","t","adj1",0,1e5],[1,"l","y1","adj2",0,"maxAdj2"]],g:[["maxAdj2",15,1e5,"h","ss"],["a1",20,0,"adj1",1e5],["a2",20,0,"adj2","maxAdj2"],["dy1",15,"ss","a2",1e5],["y1",11,"b","dy1"],["dx1",15,"w","a1",2e5],["x1",11,"hc","dx1"],["x2",10,"hc","dx1"],["dy2",15,"x1","dy1","wd2"],["y2",10,"y1","dy2"]],p:[{s:[[0,"l","y1"],[1,"x1","y1"],[1,"x1","t"],[1,"x2","t"],[1,"x2","y1"],[1,"r","y1"],[1,"hc","b"],[5]]}],i:["x1","t","x2","y2"],c:[[S,"hc","t"],[C,"l","y1"],[R,"hc","b"],[0,"r","y1"]]}],hn=[50,{a:[["adj1",5e4],["adj2",5e4]],h:[[1,"x3","y1","adj1",0,1e5],[0,"x2","t","adj2",0,"maxAdj2"]],g:[["maxAdj2",15,5e4,"w","ss"],["a1",20,0,"adj1",1e5],["a2",20,0,"adj2","maxAdj2"],["x2",15,"ss","a2",1e5],["x3",11,"r","x2"],["dy1",15,"h","a1",2e5],["y1",11,"vc","dy1"],["y2",10,"vc","dy1"],["dx1",15,"y1","x2","hd2"],["x1",11,"x2","dx1"],["x4",10,"x3","dx1"]],p:[{s:[[0,"l","vc"],[1,"x2","t"],[1,"x2","y1"],[1,"x3","y1"],[1,"x3","t"],[1,"r","vc"],[1,"x3","b"],[1,"x3","y2"],[1,"x2","y2"],[1,"x2","b"],[5]]}],i:["x1","y1","x4","y2"],c:[[S,"x3","t"],[S,"hc","y1"],[S,"x2","t"],[C,"l","vc"],[R,"x2","b"],[R,"hc","y2"],[R,"x3","b"],[0,"r","vc"]]}],ln=[51,{a:[["adj1",5e4],["adj2",5e4]],h:[[0,"x1","y3","adj1",0,1e5],[1,"l","y2","adj2",0,"maxAdj2"]],g:[["maxAdj2",15,5e4,"h","ss"],["a1",20,0,"adj1",1e5],["a2",20,0,"adj2","maxAdj2"],["y2",15,"ss","a2",1e5],["y3",11,"b","y2"],["dx1",15,"w","a1",2e5],["x1",11,"hc","dx1"],["x2",10,"hc","dx1"],["dy1",15,"x1","y2","wd2"],["y1",11,"y2","dy1"],["y4",10,"y3","dy1"]],p:[{s:[[0,"l","y2"],[1,"hc","t"],[1,"r","y2"],[1,"x2","y2"],[1,"x2","y3"],[1,"r","y3"],[1,"hc","b"],[1,"l","y3"],[1,"x1","y3"],[1,"x1","y2"],[5]]}],i:["x1","y1","x2","y4"],c:[[S,"hc","t"],[C,"l","y2"],[C,"x1","vc"],[C,"l","y3"],[R,"hc","b"],[0,"r","y3"],[0,"x2","vc"],[0,"r","y2"]]}],dn=[52,{a:[["adj1",25e3],["adj2",25e3],["adj3",25e3]],h:[[1,"x3","y3","adj1",0,"maxAdj1"],[0,"x2","t","adj2",0,5e4],[1,"x3","x1","adj3",0,"maxAdj3"]],g:[["a2",20,0,"adj2",5e4],["maxAdj1",13,"a2",2],["a1",20,0,"adj1","maxAdj1"],["maxAdj3",11,1e5,"maxAdj1"],["a3",20,0,"adj3","maxAdj3"],["x1",15,"ss","a3",1e5],["dx2",15,"ss","a2",5e4],["x2",11,"r","dx2"],["y2",11,"b","dx2"],["dx4",15,"ss","a2",1e5],["x4",11,"r","dx4"],["y4",11,"b","dx4"],["dx3",15,"ss","a1",2e5],["x3",11,"x4","dx3"],["x5",10,"x4","dx3"],["y3",11,"y4","dx3"],["y5",10,"y4","dx3"],["il",15,"dx3","x1","dx4"],["cx1",17,"x1","x5",2],["cy1",17,"x1","y5",2]],p:[{s:[[0,"l","y4"],[1,"x1","y2"],[1,"x1","y3"],[1,"x3","y3"],[1,"x3","x1"],[1,"x2","x1"],[1,"x4","t"],[1,"r","x1"],[1,"x5","x1"],[1,"x5","y5"],[1,"x1","y5"],[1,"x1","b"],[5]]}],i:["il","y3","x4","y5"],c:[[S,"x4","t"],[C,"x2","x1"],[S,"x1","y2"],[C,"l","y4"],[R,"x1","b"],[R,"cx1","y5"],[0,"x5","cy1"],[0,"r","x1"]]}],un=[53,{a:[["adj1",25e3],["adj2",25e3],["adj3",25e3]],h:[[0,"x3","x1","adj1",0,"maxAdj1"],[0,"x2","t","adj2",0,5e4],[1,"r","x1","adj3",0,"maxAdj3"]],g:[["a2",20,0,"adj2",5e4],["maxAdj1",13,"a2",2],["a1",20,0,"adj1","maxAdj1"],["q1",11,1e5,"maxAdj1"],["maxAdj3",14,"q1",2],["a3",20,0,"adj3","maxAdj3"],["x1",15,"ss","a3",1e5],["dx2",15,"ss","a2",1e5],["x2",11,"hc","dx2"],["x5",10,"hc","dx2"],["dx3",15,"ss","a1",2e5],["x3",11,"hc","dx3"],["x4",10,"hc","dx3"],["x6",11,"r","x1"],["dy2",15,"ss","a2",5e4],["y2",11,"b","dy2"],["y4",11,"b","dx2"],["y3",11,"y4","dx3"],["y5",10,"y4","dx3"],["il",15,"dx3","x1","dx2"],["ir",11,"r","il"]],p:[{s:[[0,"l","y4"],[1,"x1","y2"],[1,"x1","y3"],[1,"x3","y3"],[1,"x3","x1"],[1,"x2","x1"],[1,"hc","t"],[1,"x5","x1"],[1,"x4","x1"],[1,"x4","y3"],[1,"x6","y3"],[1,"x6","y2"],[1,"r","y4"],[1,"x6","b"],[1,"x6","y5"],[1,"x1","y5"],[1,"x1","b"],[5]]}],i:["il","y3","ir","y5"],c:[[S,"hc","t"],[C,"l","y4"],[R,"hc","y5"],[0,"r","y4"]]}],pn=[54,{a:[["adj1",22500],["adj2",22500],["adj3",22500]],h:[[0,"x3","x1","adj1",0,"maxAdj1"],[0,"x2","t","adj2",0,5e4],[1,"r","x1","adj3",0,"maxAdj3"]],g:[["a2",20,0,"adj2",5e4],["maxAdj1",13,"a2",2],["a1",20,0,"adj1","maxAdj1"],["q1",11,1e5,"maxAdj1"],["maxAdj3",14,"q1",2],["a3",20,0,"adj3","maxAdj3"],["x1",15,"ss","a3",1e5],["dx2",15,"ss","a2",1e5],["x2",11,"hc","dx2"],["x5",10,"hc","dx2"],["dx3",15,"ss","a1",2e5],["x3",11,"hc","dx3"],["x4",10,"hc","dx3"],["x6",11,"r","x1"],["y2",11,"vc","dx2"],["y5",10,"vc","dx2"],["y3",11,"vc","dx3"],["y4",10,"vc","dx3"],["y6",11,"b","x1"],["il",15,"dx3","x1","dx2"],["ir",11,"r","il"]],p:[{s:[[0,"l","vc"],[1,"x1","y2"],[1,"x1","y3"],[1,"x3","y3"],[1,"x3","x1"],[1,"x2","x1"],[1,"hc","t"],[1,"x5","x1"],[1,"x4","x1"],[1,"x4","y3"],[1,"x6","y3"],[1,"x6","y2"],[1,"r","vc"],[1,"x6","y5"],[1,"x6","y4"],[1,"x4","y4"],[1,"x4","y6"],[1,"x5","y6"],[1,"hc","b"],[1,"x2","y6"],[1,"x3","y6"],[1,"x3","y4"],[1,"x1","y4"],[1,"x1","y5"],[5]]}],i:["il","y3","ir","y4"],c:[[S,"hc","t"],[C,"l","vc"],[R,"hc","b"],[0,"r","vc"]]}],fn=[55,{a:[["adj1",25e3],["adj2",25e3],["adj3",25e3],["adj4",64977]],h:[[1,"x1","y2","adj1",0,"maxAdj1"],[1,"l","y1","adj2",0,"maxAdj2"],[0,"x1","t","adj3",0,"maxAdj3"],[0,"x2","b","adj4",0,"maxAdj4"]],g:[["maxAdj2",15,5e4,"h","ss"],["a2",20,0,"adj2","maxAdj2"],["maxAdj1",13,"a2",2],["a1",20,0,"adj1","maxAdj1"],["maxAdj3",15,1e5,"w","ss"],["a3",20,0,"adj3","maxAdj3"],["q2",15,"a3","ss","w"],["maxAdj4",11,1e5,"q2"],["a4",20,0,"adj4","maxAdj4"],["dy1",15,"ss","a2",1e5],["dy2",15,"ss","a1",2e5],["y1",11,"vc","dy1"],["y2",11,"vc","dy2"],["y3",10,"vc","dy2"],["y4",10,"vc","dy1"],["x1",15,"ss","a3",1e5],["dx2",15,"w","a4",1e5],["x2",11,"r","dx2"],["x3",17,"x2","r",2]],p:[{s:[[0,"l","vc"],[1,"x1","y1"],[1,"x1","y2"],[1,"x2","y2"],[1,"x2","t"],[1,"r","t"],[1,"r","b"],[1,"x2","b"],[1,"x2","y3"],[1,"x1","y3"],[1,"x1","y4"],[5]]}],i:["x2","t","r","b"],c:[[S,"x3","t"],[C,"l","vc"],[R,"x3","b"],[0,"r","vc"]]}],yn=[56,{a:[["adj1",25e3],["adj2",25e3],["adj3",25e3],["adj4",64977]],h:[[1,"x3","y2","adj1",0,"maxAdj1"],[1,"r","y1","adj2",0,"maxAdj2"],[0,"x3","t","adj3",0,"maxAdj3"],[0,"x2","b","adj4",0,"maxAdj4"]],g:[["maxAdj2",15,5e4,"h","ss"],["a2",20,0,"adj2","maxAdj2"],["maxAdj1",13,"a2",2],["a1",20,0,"adj1","maxAdj1"],["maxAdj3",15,1e5,"w","ss"],["a3",20,0,"adj3","maxAdj3"],["q2",15,"a3","ss","w"],["maxAdj4",11,1e5,"q2"],["a4",20,0,"adj4","maxAdj4"],["dy1",15,"ss","a2",1e5],["dy2",15,"ss","a1",2e5],["y1",11,"vc","dy1"],["y2",11,"vc","dy2"],["y3",10,"vc","dy2"],["y4",10,"vc","dy1"],["dx3",15,"ss","a3",1e5],["x3",11,"r","dx3"],["x2",15,"w","a4",1e5],["x1",14,"x2",2]],p:[{s:[[0,"l","t"],[1,"x2","t"],[1,"x2","y2"],[1,"x3","y2"],[1,"x3","y1"],[1,"r","vc"],[1,"x3","y4"],[1,"x3","y3"],[1,"x2","y3"],[1,"x2","b"],[1,"l","b"],[5]]}],i:["l","t","x2","b"],c:[[S,"x1","t"],[C,"l","vc"],[R,"x1","b"],[0,"r","vc"]]}],gn=[57,{a:[["adj1",25e3],["adj2",25e3],["adj3",25e3],["adj4",64977]],h:[[0,"x2","y1","adj1",0,"maxAdj1"],[0,"x1","t","adj2",0,"maxAdj2"],[1,"r","y1","adj3",0,"maxAdj3"],[1,"l","y2","adj4",0,"maxAdj4"]],g:[["maxAdj2",15,5e4,"w","ss"],["a2",20,0,"adj2","maxAdj2"],["maxAdj1",13,"a2",2],["a1",20,0,"adj1","maxAdj1"],["maxAdj3",15,1e5,"h","ss"],["a3",20,0,"adj3","maxAdj3"],["q2",15,"a3","ss","h"],["maxAdj4",11,1e5,"q2"],["a4",20,0,"adj4","maxAdj4"],["dx1",15,"ss","a2",1e5],["dx2",15,"ss","a1",2e5],["x1",11,"hc","dx1"],["x2",11,"hc","dx2"],["x3",10,"hc","dx2"],["x4",10,"hc","dx1"],["y1",15,"ss","a3",1e5],["dy2",15,"h","a4",1e5],["y2",11,"b","dy2"],["y3",17,"y2","b",2]],p:[{s:[[0,"l","y2"],[1,"x2","y2"],[1,"x2","y1"],[1,"x1","y1"],[1,"hc","t"],[1,"x4","y1"],[1,"x3","y1"],[1,"x3","y2"],[1,"r","y2"],[1,"r","b"],[1,"l","b"],[5]]}],i:["l","y2","r","b"],c:[[S,"hc","t"],[C,"l","y2"],[R,"hc","b"],[0,"r","y2"]]}],xn=[58,{a:[["adj1",25e3],["adj2",25e3],["adj3",25e3],["adj4",64977]],h:[[0,"x2","y3","adj1",0,"maxAdj1"],[0,"x1","b","adj2",0,"maxAdj2"],[1,"r","y3","adj3",0,"maxAdj3"],[1,"l","y2","adj4",0,"maxAdj4"]],g:[["maxAdj2",15,5e4,"w","ss"],["a2",20,0,"adj2","maxAdj2"],["maxAdj1",13,"a2",2],["a1",20,0,"adj1","maxAdj1"],["maxAdj3",15,1e5,"h","ss"],["a3",20,0,"adj3","maxAdj3"],["q2",15,"a3","ss","h"],["maxAdj4",11,1e5,"q2"],["a4",20,0,"adj4","maxAdj4"],["dx1",15,"ss","a2",1e5],["dx2",15,"ss","a1",2e5],["x1",11,"hc","dx1"],["x2",11,"hc","dx2"],["x3",10,"hc","dx2"],["x4",10,"hc","dx1"],["dy3",15,"ss","a3",1e5],["y3",11,"b","dy3"],["y2",15,"h","a4",1e5],["y1",14,"y2",2]],p:[{s:[[0,"l","t"],[1,"r","t"],[1,"r","y2"],[1,"x3","y2"],[1,"x3","y3"],[1,"x4","y3"],[1,"hc","b"],[1,"x1","y3"],[1,"x2","y3"],[1,"x2","y2"],[1,"l","y2"],[5]]}],i:["l","t","r","y2"],c:[[S,"hc","t"],[C,"l","y1"],[R,"hc","b"],[0,"r","y1"]]}],vn=[59,{a:[["adj1",25e3],["adj2",25e3],["adj3",25e3],["adj4",48123]],h:[[1,"x1","y2","adj1",0,"maxAdj1"],[1,"l","y1","adj2",0,"maxAdj2"],[0,"x1","t","adj3",0,"maxAdj3"],[0,"x2","b","adj4",0,"maxAdj4"]],g:[["maxAdj2",15,5e4,"h","ss"],["a2",20,0,"adj2","maxAdj2"],["maxAdj1",13,"a2",2],["a1",20,0,"adj1","maxAdj1"],["maxAdj3",15,5e4,"w","ss"],["a3",20,0,"adj3","maxAdj3"],["q2",15,"a3","ss","wd2"],["maxAdj4",11,1e5,"q2"],["a4",20,0,"adj4","maxAdj4"],["dy1",15,"ss","a2",1e5],["dy2",15,"ss","a1",2e5],["y1",11,"vc","dy1"],["y2",11,"vc","dy2"],["y3",10,"vc","dy2"],["y4",10,"vc","dy1"],["x1",15,"ss","a3",1e5],["x4",11,"r","x1"],["dx2",15,"w","a4",2e5],["x2",11,"hc","dx2"],["x3",10,"hc","dx2"]],p:[{s:[[0,"l","vc"],[1,"x1","y1"],[1,"x1","y2"],[1,"x2","y2"],[1,"x2","t"],[1,"x3","t"],[1,"x3","y2"],[1,"x4","y2"],[1,"x4","y1"],[1,"r","vc"],[1,"x4","y4"],[1,"x4","y3"],[1,"x3","y3"],[1,"x3","b"],[1,"x2","b"],[1,"x2","y3"],[1,"x1","y3"],[1,"x1","y4"],[5]]}],i:["x2","t","x3","b"],c:[[S,"hc","t"],[C,"l","vc"],[R,"hc","b"],[0,"r","vc"]]}],mn=[60,{a:[["adj1",25e3],["adj2",25e3],["adj3",25e3],["adj4",48123]],h:[[0,"x2","y1","adj1",0,"maxAdj1"],[0,"x1","t","adj2",0,"maxAdj2"],[1,"r","y1","adj3",0,"maxAdj3"],[1,"l","y2","adj4",0,"maxAdj4"]],g:[["maxAdj2",15,5e4,"w","ss"],["a2",20,0,"adj2","maxAdj2"],["maxAdj1",13,"a2",2],["a1",20,0,"adj1","maxAdj1"],["maxAdj3",15,5e4,"h","ss"],["a3",20,0,"adj3","maxAdj3"],["q2",15,"a3","ss","hd2"],["maxAdj4",11,1e5,"q2"],["a4",20,0,"adj4","maxAdj4"],["dx1",15,"ss","a2",1e5],["dx2",15,"ss","a1",2e5],["x1",11,"hc","dx1"],["x2",11,"hc","dx2"],["x3",10,"hc","dx2"],["x4",10,"hc","dx1"],["y1",15,"ss","a3",1e5],["y4",11,"b","y1"],["dy2",15,"h","a4",2e5],["y2",11,"vc","dy2"],["y3",10,"vc","dy2"]],p:[{s:[[0,"l","y2"],[1,"x2","y2"],[1,"x2","y1"],[1,"x1","y1"],[1,"hc","t"],[1,"x4","y1"],[1,"x3","y1"],[1,"x3","y2"],[1,"r","y2"],[1,"r","y3"],[1,"x3","y3"],[1,"x3","y4"],[1,"x4","y4"],[1,"hc","b"],[1,"x1","y4"],[1,"x2","y4"],[1,"x2","y3"],[1,"l","y3"],[5]]}],i:["l","y2","r","y3"],c:[[S,"hc","t"],[C,"l","vc"],[R,"hc","b"],[0,"r","vc"]]}],wn=[61,{a:[["adj1",18515],["adj2",18515],["adj3",18515],["adj4",48123]],h:[[0,"x4","ah","adj1",0,"maxAdj1"],[0,"x3","t","adj2",0,5e4],[1,"r","ah","adj3",0,"maxAdj3"],[1,"l","y2","adj4","a1","maxAdj4"]],g:[["a2",20,0,"adj2",5e4],["maxAdj1",13,"a2",2],["a1",20,0,"adj1","maxAdj1"],["maxAdj3",11,5e4,"a2"],["a3",20,0,"adj3","maxAdj3"],["q2",13,"a3",2],["maxAdj4",11,1e5,"q2"],["a4",20,"a1","adj4","maxAdj4"],["dx2",15,"ss","a2",1e5],["dx3",15,"ss","a1",2e5],["ah",15,"ss","a3",1e5],["dx1",15,"w","a4",2e5],["dy1",15,"h","a4",2e5],["x8",11,"r","ah"],["x2",11,"hc","dx1"],["x7",10,"hc","dx1"],["x3",11,"hc","dx2"],["x6",10,"hc","dx2"],["x4",11,"hc","dx3"],["x5",10,"hc","dx3"],["y8",11,"b","ah"],["y2",11,"vc","dy1"],["y7",10,"vc","dy1"],["y3",11,"vc","dx2"],["y6",10,"vc","dx2"],["y4",11,"vc","dx3"],["y5",10,"vc","dx3"]],p:[{s:[[0,"l","vc"],[1,"ah","y3"],[1,"ah","y4"],[1,"x2","y4"],[1,"x2","y2"],[1,"x4","y2"],[1,"x4","ah"],[1,"x3","ah"],[1,"hc","t"],[1,"x6","ah"],[1,"x5","ah"],[1,"x5","y2"],[1,"x7","y2"],[1,"x7","y4"],[1,"x8","y4"],[1,"x8","y3"],[1,"r","vc"],[1,"x8","y6"],[1,"x8","y5"],[1,"x7","y5"],[1,"x7","y7"],[1,"x5","y7"],[1,"x5","y8"],[1,"x6","y8"],[1,"hc","b"],[1,"x3","y8"],[1,"x4","y8"],[1,"x4","y7"],[1,"x2","y7"],[1,"x2","y5"],[1,"ah","y5"],[1,"ah","y6"],[5]]}],i:["x2","y2","x7","y7"],c:[[S,"hc","t"],[C,"l","vc"],[R,"hc","b"],[0,"r","vc"]]}],bn=[62,{a:[["adj1",25e3],["adj2",25e3],["adj3",25e3],["adj4",43750]],h:[[0,"th","b","adj1",0,"maxAdj1"],[1,"r","y4","adj2",0,5e4],[0,"x4","t","adj3",0,5e4],[0,"bd","t","adj4",0,"maxAdj4"]],g:[["a2",20,0,"adj2",5e4],["maxAdj1",13,"a2",2],["a1",20,0,"adj1","maxAdj1"],["a3",20,0,"adj3",5e4],["th",15,"ss","a1",1e5],["aw2",15,"ss","a2",1e5],["th2",14,"th",2],["dh2",11,"aw2","th2"],["ah",15,"ss","a3",1e5],["bw",11,"r","ah"],["bh",11,"b","dh2"],["bs",7,"bw","bh"],["maxAdj4",15,1e5,"bs","ss"],["a4",20,0,"adj4","maxAdj4"],["bd",15,"ss","a4",1e5],["bd3",11,"bd","th"],["bd2",6,"bd3",0],["x3",10,"th","bd2"],["x4",11,"r","ah"],["y3",10,"dh2","th"],["y4",10,"y3","dh2"],["y5",10,"dh2","bd"],["y6",10,"y3","bd2"]],p:[{s:[[0,"l","b"],[1,"l","y5"],[2,"bd","bd",C,R],[1,"x4","dh2"],[1,"x4","t"],[1,"r","aw2"],[1,"x4","y4"],[1,"x4","y3"],[1,"x3","y3"],[2,"bd2","bd2",S,-R],[1,"th","b"],[5]]}],i:["l","t","r","b"],c:[[S,"x4","t"],[R,"x4","y4"],[R,"th2","b"],[0,"r","aw2"]]}],Pn=[63,{a:[["adj1",25e3],["adj2",25e3],["adj3",25e3],["adj4",43750],["adj5",75e3]],h:[[0,"th","b","adj1",0,"maxAdj1"],[0,"x6","b","adj2",0,25e3],[1,"x6","y4","adj3",0,"maxAdj3"],[0,"bd","t","adj4",0,"maxAdj4"],[1,"r","y5","adj5","minAdj5",1e5]],g:[["a2",20,0,"adj2",25e3],["maxAdj1",13,"a2",2],["a1",20,0,"adj1","maxAdj1"],["q2",15,"a1","ss","h"],["q3",11,1e5,"q2"],["maxAdj3",15,"q3","h","ss"],["a3",20,0,"adj3","maxAdj3"],["q1",10,"a3","a1"],["minAdj5",15,"q1","ss","h"],["a5",20,"minAdj5","adj5",1e5],["th",15,"ss","a1",1e5],["aw2",15,"ss","a2",1e5],["th2",14,"th",2],["dh2",11,"aw2","th2"],["y5",15,"h","a5",1e5],["ah",15,"ss","a3",1e5],["y4",11,"y5","ah"],["x9",11,"r","dh2"],["bw",14,"x9",2],["bs",7,"bw","y4"],["maxAdj4",15,"bs",1e5,"ss"],["a4",20,0,"adj4","maxAdj4"],["bd",15,"ss","a4",1e5],["bd3",11,"bd","th"],["bd2",6,"bd3",0],["x3",10,"th","bd2"],["x8",11,"r","aw2"],["x6",11,"x8","aw2"],["x7",10,"x6","dh2"],["x4",11,"x9","bd"],["x5",11,"x7","bd2"],["cx",17,"th","x7",2]],p:[{s:[[0,"l","b"],[1,"l","bd"],[2,"bd","bd",C,R],[1,"x4","t"],[2,"bd","bd",S,R],[1,"x9","y4"],[1,"r","y4"],[1,"x8","y5"],[1,"x6","y4"],[1,"x7","y4"],[1,"x7","x3"],[2,"bd2","bd2",0,-R],[1,"x3","th"],[2,"bd2","bd2",S,-R],[1,"th","b"],[5]]}],i:["l","t","r","b"],c:[[R,"x6","y4"],[R,"x8","y5"],[0,"r","y4"],[S,"cx","t"],[R,"th2","b"]]}],Cn=[64,{a:[["adj1",12500],["adj2",I(19.03865)],["adj3",I(340.96135)],["adj4",C],["adj5",12500]],h:[[4,"xA","yA","adj2",0,"maxAng"],[4,"xE","yE","adj4",0,A],[5,"xF","yF","adj1",0,"maxAdj1","adj3",0,A],[3,"xB","yB","adj5",0,25e3]],g:[["a5",20,2,"adj5",25e3],["maxAdj1",13,"a5",2],["a1",20,0,"adj1","maxAdj1"],["enAng",20,1,"adj3",A],["stAng",20,0,"adj4",A],["th",15,"ss","a1",1e5],["thh",15,"ss","a5",1e5],["th2",14,"th",2],["rw1",16,"wd2","th2","thh"],["rh1",16,"hd2","th2","thh"],["rw2",11,"rw1","th"],["rh2",11,"rh1","th"],["rw3",10,"rw2","th2"],["rh3",10,"rh2","th2"],["wtH",8,"rw3","enAng"],["htH",5,"rh3","enAng"],["dxH",19,"rw3","htH","wtH"],["dyH",21,"rh3","htH","wtH"],["xH",10,"hc","dxH"],["yH",10,"vc","dyH"],["rI",7,"rw2","rh2"],["u1",13,"dxH","dxH"],["u2",13,"dyH","dyH"],["u3",13,"rI","rI"],["u4",11,"u1","u3"],["u5",11,"u2","u3"],["u6",15,"u4","u5","u1"],["u7",14,"u6","u2"],["u8",11,1,"u7"],["u9",1,"u8"],["u10",14,"u4","dxH"],["u11",14,"u10","dyH"],["u12",17,1,"u9","u11"],["u13",4,1,"u12"],["u14",10,"u13",A],["u15",18,"u13","u13","u14"],["u16",11,"u15","enAng"],["u17",10,"u16",A],["u18",18,"u16","u16","u17"],["u19",11,"u18",C],["u20",11,"u18",A],["u21",18,"u19","u20","u18"],["maxAng",0,"u21"],["aAng",20,0,"adj2","maxAng"],["ptAng",10,"enAng","aAng"],["wtA",8,"rw3","ptAng"],["htA",5,"rh3","ptAng"],["dxA",19,"rw3","htA","wtA"],["dyA",21,"rh3","htA","wtA"],["xA",10,"hc","dxA"],["yA",10,"vc","dyA"],["wtE",8,"rw1","stAng"],["htE",5,"rh1","stAng"],["dxE",19,"rw1","htE","wtE"],["dyE",21,"rh1","htE","wtE"],["xE",10,"hc","dxE"],["yE",10,"vc","dyE"],["dxG",5,"thh","ptAng"],["dyG",8,"thh","ptAng"],["xG",10,"xH","dxG"],["yG",10,"yH","dyG"],["dxB",5,"thh","ptAng"],["dyB",8,"thh","ptAng"],["xB",11,"xH","dxB"],["yB",11,"yH","dyB"],["sx1",11,"xB","hc"],["sy1",11,"yB","vc"],["sx2",11,"xG","hc"],["sy2",11,"yG","vc"],["rO",7,"rw1","rh1"],["x1O",15,"sx1","rO","rw1"],["y1O",15,"sy1","rO","rh1"],["x2O",15,"sx2","rO","rw1"],["y2O",15,"sy2","rO","rh1"],["dxO",11,"x2O","x1O"],["dyO",11,"y2O","y1O"],["dO",12,"dxO","dyO"],["q1",13,"x1O","y2O"],["q2",13,"x2O","y1O"],["DO",11,"q1","q2"],["q3",13,"rO","rO"],["q4",13,"dO","dO"],["q5",13,"q3","q4"],["q6",13,"DO","DO"],["q7",11,"q5","q6"],["q8",6,"q7",0],["sdelO",1,"q8"],["ndyO",3,"dyO"],["sdyO",18,"ndyO",-1,1],["q9",13,"sdyO","dxO"],["q10",13,"q9","sdelO"],["q11",13,"DO","dyO"],["dxF1",17,"q11","q10","q4"],["q12",11,"q11","q10"],["dxF2",14,"q12","q4"],["adyO",0,"dyO"],["q13",13,"adyO","sdelO"],["q14",15,"DO","dxO",-1],["dyF1",17,"q14","q13","q4"],["q15",11,"q14","q13"],["dyF2",14,"q15","q4"],["q16",11,"x2O","dxF1"],["q17",11,"x2O","dxF2"],["q18",11,"y2O","dyF1"],["q19",11,"y2O","dyF2"],["q20",12,"q16","q18"],["q21",12,"q17","q19"],["q22",11,"q21","q20"],["dxF",18,"q22","dxF1","dxF2"],["dyF",18,"q22","dyF1","dyF2"],["sdxF",15,"dxF","rw1","rO"],["sdyF",15,"dyF","rh1","rO"],["xF",10,"hc","sdxF"],["yF",10,"vc","sdyF"],["x1I",15,"sx1","rI","rw2"],["y1I",15,"sy1","rI","rh2"],["x2I",15,"sx2","rI","rw2"],["y2I",15,"sy2","rI","rh2"],["dxI",11,"x2I","x1I"],["dyI",11,"y2I","y1I"],["dI",12,"dxI","dyI"],["v1",13,"x1I","y2I"],["v2",13,"x2I","y1I"],["DI",11,"v1","v2"],["v3",13,"rI","rI"],["v4",13,"dI","dI"],["v5",13,"v3","v4"],["v6",13,"DI","DI"],["v7",11,"v5","v6"],["v8",6,"v7",0],["sdelI",1,"v8"],["v9",13,"sdyO","dxI"],["v10",13,"v9","sdelI"],["v11",13,"DI","dyI"],["dxC1",17,"v11","v10","v4"],["v12",11,"v11","v10"],["dxC2",14,"v12","v4"],["adyI",0,"dyI"],["v13",13,"adyI","sdelI"],["v14",15,"DI","dxI",-1],["dyC1",17,"v14","v13","v4"],["v15",11,"v14","v13"],["dyC2",14,"v15","v4"],["v16",11,"x1I","dxC1"],["v17",11,"x1I","dxC2"],["v18",11,"y1I","dyC1"],["v19",11,"y1I","dyC2"],["v20",12,"v16","v18"],["v21",12,"v17","v19"],["v22",11,"v21","v20"],["dxC",18,"v22","dxC1","dxC2"],["dyC",18,"v22","dyC1","dyC2"],["sdxC",15,"dxC","rw2","rI"],["sdyC",15,"dyC","rh2","rI"],["xC",10,"hc","sdxC"],["yC",10,"vc","sdyC"],["ist0",4,"sdxC","sdyC"],["ist1",10,"ist0",A],["istAng",18,"ist0","ist0","ist1"],["isw1",11,"stAng","istAng"],["isw2",11,"isw1",A],["iswAng",18,"isw1","isw2","isw1"],["p1",11,"xF","xC"],["p2",11,"yF","yC"],["p3",12,"p1","p2"],["p4",14,"p3",2],["p5",11,"p4","thh"],["xGp",18,"p5","xF","xG"],["yGp",18,"p5","yF","yG"],["xBp",18,"p5","xC","xB"],["yBp",18,"p5","yC","yB"],["en0",4,"sdxF","sdyF"],["en1",10,"en0",A],["en2",18,"en0","en0","en1"],["sw0",11,"en2","stAng"],["sw1",10,"sw0",A],["swAng",18,"sw0","sw0","sw1"],["wtI",8,"rw3","stAng"],["htI",5,"rh3","stAng"],["dxI",19,"rw3","htI","wtI"],["dyI",21,"rh3","htI","wtI"],["xI",10,"hc","dxI"],["yI",10,"vc","dyI"],["aI",11,"stAng",R],["aA",10,"ptAng",R],["aB",10,"ptAng",C],["idx",5,"rw1",M],["idy",8,"rh1",M],["il",11,"hc","idx"],["ir",10,"hc","idx"],["it",11,"vc","idy"],["ib",10,"vc","idy"]],p:[{s:[[0,"xE","yE"],[2,"rw1","rh1","stAng","swAng"],[1,"xGp","yGp"],[1,"xA","yA"],[1,"xBp","yBp"],[1,"xC","yC"],[2,"rw2","rh2","istAng","iswAng"],[5]]}],i:["il","it","ir","ib"],c:[["aI","xI","yI"],["ptAng","xGp","yGp"],["aA","xA","yA"],["aB","xBp","yBp"]]}],An=[65,{a:[["adj1",12500],["adj2",I(-19.03865)],["adj3",I(19.03865)],["adj4",C],["adj5",12500]],h:[[4,"xA","yA","adj2","minAng",0],[4,"xE","yE","adj4",0,A],[5,"xF","yF","adj1",0,"maxAdj1","adj3",0,A],[3,"xB","yB","adj5",0,25e3]],g:[["a5",20,0,"adj5",25e3],["maxAdj1",13,"a5",2],["a1",20,0,"adj1","maxAdj1"],["enAng",20,1,"adj3",A],["stAng",20,0,"adj4",A],["th",15,"ss","a1",1e5],["thh",15,"ss","a5",1e5],["th2",14,"th",2],["rw1",16,"wd2","th2","thh"],["rh1",16,"hd2","th2","thh"],["rw2",11,"rw1","th"],["rh2",11,"rh1","th"],["rw3",10,"rw2","th2"],["rh3",10,"rh2","th2"],["wtH",8,"rw3","enAng"],["htH",5,"rh3","enAng"],["dxH",19,"rw3","htH","wtH"],["dyH",21,"rh3","htH","wtH"],["xH",10,"hc","dxH"],["yH",10,"vc","dyH"],["rI",7,"rw2","rh2"],["u1",13,"dxH","dxH"],["u2",13,"dyH","dyH"],["u3",13,"rI","rI"],["u4",11,"u1","u3"],["u5",11,"u2","u3"],["u6",15,"u4","u5","u1"],["u7",14,"u6","u2"],["u8",11,1,"u7"],["u9",1,"u8"],["u10",14,"u4","dxH"],["u11",14,"u10","dyH"],["u12",17,1,"u9","u11"],["u13",4,1,"u12"],["u14",10,"u13",A],["u15",18,"u13","u13","u14"],["u16",11,"u15","enAng"],["u17",10,"u16",A],["u18",18,"u16","u16","u17"],["u19",11,"u18",C],["u20",11,"u18",A],["u21",18,"u19","u20","u18"],["u22",0,"u21"],["minAng",13,"u22",-1],["u23",0,"adj2"],["a2",13,"u23",-1],["aAng",20,"minAng","a2",0],["ptAng",10,"enAng","aAng"],["wtA",8,"rw3","ptAng"],["htA",5,"rh3","ptAng"],["dxA",19,"rw3","htA","wtA"],["dyA",21,"rh3","htA","wtA"],["xA",10,"hc","dxA"],["yA",10,"vc","dyA"],["wtE",8,"rw1","stAng"],["htE",5,"rh1","stAng"],["dxE",19,"rw1","htE","wtE"],["dyE",21,"rh1","htE","wtE"],["xE",10,"hc","dxE"],["yE",10,"vc","dyE"],["wtD",8,"rw2","stAng"],["htD",5,"rh2","stAng"],["dxD",19,"rw2","htD","wtD"],["dyD",21,"rh2","htD","wtD"],["xD",10,"hc","dxD"],["yD",10,"vc","dyD"],["dxG",5,"thh","ptAng"],["dyG",8,"thh","ptAng"],["xG",10,"xH","dxG"],["yG",10,"yH","dyG"],["dxB",5,"thh","ptAng"],["dyB",8,"thh","ptAng"],["xB",11,"xH","dxB"],["yB",11,"yH","dyB"],["sx1",11,"xB","hc"],["sy1",11,"yB","vc"],["sx2",11,"xG","hc"],["sy2",11,"yG","vc"],["rO",7,"rw1","rh1"],["x1O",15,"sx1","rO","rw1"],["y1O",15,"sy1","rO","rh1"],["x2O",15,"sx2","rO","rw1"],["y2O",15,"sy2","rO","rh1"],["dxO",11,"x2O","x1O"],["dyO",11,"y2O","y1O"],["dO",12,"dxO","dyO"],["q1",13,"x1O","y2O"],["q2",13,"x2O","y1O"],["DO",11,"q1","q2"],["q3",13,"rO","rO"],["q4",13,"dO","dO"],["q5",13,"q3","q4"],["q6",13,"DO","DO"],["q7",11,"q5","q6"],["q8",6,"q7",0],["sdelO",1,"q8"],["ndyO",13,"dyO",-1],["sdyO",18,"ndyO",-1,1],["q9",13,"sdyO","dxO"],["q10",13,"q9","sdelO"],["q11",13,"DO","dyO"],["dxF1",17,"q11","q10","q4"],["q12",11,"q11","q10"],["dxF2",14,"q12","q4"],["adyO",0,"dyO"],["q13",13,"adyO","sdelO"],["q14",15,"DO","dxO",-1],["dyF1",17,"q14","q13","q4"],["q15",11,"q14","q13"],["dyF2",14,"q15","q4"],["q16",11,"x2O","dxF1"],["q17",11,"x2O","dxF2"],["q18",11,"y2O","dyF1"],["q19",11,"y2O","dyF2"],["q20",12,"q16","q18"],["q21",12,"q17","q19"],["q22",11,"q21","q20"],["dxF",18,"q22","dxF1","dxF2"],["dyF",18,"q22","dyF1","dyF2"],["sdxF",15,"dxF","rw1","rO"],["sdyF",15,"dyF","rh1","rO"],["xF",10,"hc","sdxF"],["yF",10,"vc","sdyF"],["x1I",15,"sx1","rI","rw2"],["y1I",15,"sy1","rI","rh2"],["x2I",15,"sx2","rI","rw2"],["y2I",15,"sy2","rI","rh2"],["dxI",11,"x2I","x1I"],["dyI",11,"y2I","y1I"],["dI",12,"dxI","dyI"],["v1",13,"x1I","y2I"],["v2",13,"x2I","y1I"],["DI",11,"v1","v2"],["v3",13,"rI","rI"],["v4",13,"dI","dI"],["v5",13,"v3","v4"],["v6",13,"DI","DI"],["v7",11,"v5","v6"],["v8",6,"v7",0],["sdelI",1,"v8"],["v9",13,"sdyO","dxI"],["v10",13,"v9","sdelI"],["v11",13,"DI","dyI"],["dxC1",17,"v11","v10","v4"],["v12",11,"v11","v10"],["dxC2",14,"v12","v4"],["adyI",0,"dyI"],["v13",13,"adyI","sdelI"],["v14",15,"DI","dxI",-1],["dyC1",17,"v14","v13","v4"],["v15",11,"v14","v13"],["dyC2",14,"v15","v4"],["v16",11,"x1I","dxC1"],["v17",11,"x1I","dxC2"],["v18",11,"y1I","dyC1"],["v19",11,"y1I","dyC2"],["v20",12,"v16","v18"],["v21",12,"v17","v19"],["v22",11,"v21","v20"],["dxC",18,"v22","dxC1","dxC2"],["dyC",18,"v22","dyC1","dyC2"],["sdxC",15,"dxC","rw2","rI"],["sdyC",15,"dyC","rh2","rI"],["xC",10,"hc","sdxC"],["yC",10,"vc","sdyC"],["ist0",4,"sdxC","sdyC"],["ist1",10,"ist0",A],["istAng0",18,"ist0","ist0","ist1"],["isw1",11,"stAng","istAng0"],["isw2",10,"isw1",A],["iswAng0",18,"isw1","isw1","isw2"],["istAng",10,"istAng0","iswAng0"],["iswAng",3,"iswAng0"],["p1",11,"xF","xC"],["p2",11,"yF","yC"],["p3",12,"p1","p2"],["p4",14,"p3",2],["p5",11,"p4","thh"],["xGp",18,"p5","xF","xG"],["yGp",18,"p5","yF","yG"],["xBp",18,"p5","xC","xB"],["yBp",18,"p5","yC","yB"],["en0",4,"sdxF","sdyF"],["en1",10,"en0",A],["en2",18,"en0","en0","en1"],["sw0",11,"en2","stAng"],["sw1",11,"sw0",A],["swAng",18,"sw0","sw1","sw0"],["stAng0",10,"stAng","swAng"],["swAng0",3,"swAng"],["wtI",8,"rw3","stAng"],["htI",5,"rh3","stAng"],["dxI",19,"rw3","htI","wtI"],["dyI",21,"rh3","htI","wtI"],["xI",10,"hc","dxI"],["yI",10,"vc","dyI"],["aI",10,"stAng",R],["aA",11,"ptAng",R],["aB",10,"ptAng",C],["idx",5,"rw1",M],["idy",8,"rh1",M],["il",11,"hc","idx"],["ir",10,"hc","idx"],["it",11,"vc","idy"],["ib",10,"vc","idy"]],p:[{s:[[0,"xE","yE"],[1,"xD","yD"],[2,"rw2","rh2","istAng","iswAng"],[1,"xBp","yBp"],[1,"xA","yA"],[1,"xGp","yGp"],[1,"xF","yF"],[2,"rw1","rh1","stAng0","swAng0"],[5]]}],i:["il","it","ir","ib"],c:[["aI","xI","yI"],["ptAng","xGp","yGp"],["aA","xA","yA"],["aB","xBp","yBp"]]}],jn=[66,{a:[["adj1",12500],["adj2",I(19.03865)],["adj3",I(340.96135)],["adj4",I(199.03865)],["adj5",12500]],h:[[4,"xA","yA","adj2",0,"maxAng"],[4,"xE","yE","adj4",0,A],[5,"xF","yF","adj1",0,"maxAdj1","adj3",0,A],[3,"xB","yB","adj5",0,25e3]],g:[["a5",20,0,"adj5",25e3],["maxAdj1",13,"a5",2],["a1",20,0,"adj1","maxAdj1"],["enAng",20,1,"adj3",A],["stAng",20,0,"adj4",A],["th",15,"ss","a1",1e5],["thh",15,"ss","a5",1e5],["th2",14,"th",2],["rw1",16,"wd2","th2","thh"],["rh1",16,"hd2","th2","thh"],["rw2",11,"rw1","th"],["rh2",11,"rh1","th"],["rw3",10,"rw2","th2"],["rh3",10,"rh2","th2"],["wtH",8,"rw3","enAng"],["htH",5,"rh3","enAng"],["dxH",19,"rw3","htH","wtH"],["dyH",21,"rh3","htH","wtH"],["xH",10,"hc","dxH"],["yH",10,"vc","dyH"],["rI",7,"rw2","rh2"],["u1",13,"dxH","dxH"],["u2",13,"dyH","dyH"],["u3",13,"rI","rI"],["u4",11,"u1","u3"],["u5",11,"u2","u3"],["u6",15,"u4","u5","u1"],["u7",14,"u6","u2"],["u8",11,1,"u7"],["u9",1,"u8"],["u10",14,"u4","dxH"],["u11",14,"u10","dyH"],["u12",17,1,"u9","u11"],["u13",4,1,"u12"],["u14",10,"u13",A],["u15",18,"u13","u13","u14"],["u16",11,"u15","enAng"],["u17",10,"u16",A],["u18",18,"u16","u16","u17"],["u19",11,"u18",C],["u20",11,"u18",A],["u21",18,"u19","u20","u18"],["maxAng",0,"u21"],["aAng",20,0,"adj2","maxAng"],["ptAng",10,"enAng","aAng"],["wtA",8,"rw3","ptAng"],["htA",5,"rh3","ptAng"],["dxA",19,"rw3","htA","wtA"],["dyA",21,"rh3","htA","wtA"],["xA",10,"hc","dxA"],["yA",10,"vc","dyA"],["dxG",5,"thh","ptAng"],["dyG",8,"thh","ptAng"],["xG",10,"xH","dxG"],["yG",10,"yH","dyG"],["dxB",5,"thh","ptAng"],["dyB",8,"thh","ptAng"],["xB",11,"xH","dxB"],["yB",11,"yH","dyB"],["sx1",11,"xB","hc"],["sy1",11,"yB","vc"],["sx2",11,"xG","hc"],["sy2",11,"yG","vc"],["rO",7,"rw1","rh1"],["x1O",15,"sx1","rO","rw1"],["y1O",15,"sy1","rO","rh1"],["x2O",15,"sx2","rO","rw1"],["y2O",15,"sy2","rO","rh1"],["dxO",11,"x2O","x1O"],["dyO",11,"y2O","y1O"],["dO",12,"dxO","dyO"],["q1",13,"x1O","y2O"],["q2",13,"x2O","y1O"],["DO",11,"q1","q2"],["q3",13,"rO","rO"],["q4",13,"dO","dO"],["q5",13,"q3","q4"],["q6",13,"DO","DO"],["q7",11,"q5","q6"],["q8",6,"q7",0],["sdelO",1,"q8"],["ndyO",3,"dyO"],["sdyO",18,"ndyO",-1,1],["q9",13,"sdyO","dxO"],["q10",13,"q9","sdelO"],["q11",13,"DO","dyO"],["dxF1",17,"q11","q10","q4"],["q12",11,"q11","q10"],["dxF2",14,"q12","q4"],["adyO",0,"dyO"],["q13",13,"adyO","sdelO"],["q14",15,"DO","dxO",-1],["dyF1",17,"q14","q13","q4"],["q15",11,"q14","q13"],["dyF2",14,"q15","q4"],["q16",11,"x2O","dxF1"],["q17",11,"x2O","dxF2"],["q18",11,"y2O","dyF1"],["q19",11,"y2O","dyF2"],["q20",12,"q16","q18"],["q21",12,"q17","q19"],["q22",11,"q21","q20"],["dxF",18,"q22","dxF1","dxF2"],["dyF",18,"q22","dyF1","dyF2"],["sdxF",15,"dxF","rw1","rO"],["sdyF",15,"dyF","rh1","rO"],["xF",10,"hc","sdxF"],["yF",10,"vc","sdyF"],["x1I",15,"sx1","rI","rw2"],["y1I",15,"sy1","rI","rh2"],["x2I",15,"sx2","rI","rw2"],["y2I",15,"sy2","rI","rh2"],["dxI",11,"x2I","x1I"],["dyI",11,"y2I","y1I"],["dI",12,"dxI","dyI"],["v1",13,"x1I","y2I"],["v2",13,"x2I","y1I"],["DI",11,"v1","v2"],["v3",13,"rI","rI"],["v4",13,"dI","dI"],["v5",13,"v3","v4"],["v6",13,"DI","DI"],["v7",11,"v5","v6"],["v8",6,"v7",0],["sdelI",1,"v8"],["v9",13,"sdyO","dxI"],["v10",13,"v9","sdelI"],["v11",13,"DI","dyI"],["dxC1",17,"v11","v10","v4"],["v12",11,"v11","v10"],["dxC2",14,"v12","v4"],["adyI",0,"dyI"],["v13",13,"adyI","sdelI"],["v14",15,"DI","dxI",-1],["dyC1",17,"v14","v13","v4"],["v15",11,"v14","v13"],["dyC2",14,"v15","v4"],["v16",11,"x1I","dxC1"],["v17",11,"x1I","dxC2"],["v18",11,"y1I","dyC1"],["v19",11,"y1I","dyC2"],["v20",12,"v16","v18"],["v21",12,"v17","v19"],["v22",11,"v21","v20"],["dxC",18,"v22","dxC1","dxC2"],["dyC",18,"v22","dyC1","dyC2"],["sdxC",15,"dxC","rw2","rI"],["sdyC",15,"dyC","rh2","rI"],["xC",10,"hc","sdxC"],["yC",10,"vc","sdyC"],["wtI",8,"rw3","stAng"],["htI",5,"rh3","stAng"],["dxI",19,"rw3","htI","wtI"],["dyI",21,"rh3","htI","wtI"],["xI",10,"hc","dxI"],["yI",10,"vc","dyI"],["lptAng",11,"stAng","aAng"],["wtL",8,"rw3","lptAng"],["htL",5,"rh3","lptAng"],["dxL",19,"rw3","htL","wtL"],["dyL",21,"rh3","htL","wtL"],["xL",10,"hc","dxL"],["yL",10,"vc","dyL"],["dxK",5,"thh","lptAng"],["dyK",8,"thh","lptAng"],["xK",10,"xI","dxK"],["yK",10,"yI","dyK"],["dxJ",5,"thh","lptAng"],["dyJ",8,"thh","lptAng"],["xJ",11,"xI","dxJ"],["yJ",11,"yI","dyJ"],["p1",11,"xF","xC"],["p2",11,"yF","yC"],["p3",12,"p1","p2"],["p4",14,"p3",2],["p5",11,"p4","thh"],["xGp",18,"p5","xF","xG"],["yGp",18,"p5","yF","yG"],["xBp",18,"p5","xC","xB"],["yBp",18,"p5","yC","yB"],["en0",4,"sdxF","sdyF"],["en1",10,"en0",A],["en2",18,"en0","en0","en1"],["od0",11,"en2","enAng"],["od1",10,"od0",A],["od2",18,"od0","od0","od1"],["st0",11,"stAng","od2"],["st1",10,"st0",A],["st2",18,"st0","st0","st1"],["sw0",11,"en2","st2"],["sw1",10,"sw0",A],["swAng",18,"sw0","sw0","sw1"],["ist0",4,"sdxC","sdyC"],["ist1",10,"ist0",A],["istAng",18,"ist0","ist0","ist1"],["id0",11,"istAng","enAng"],["id1",11,"id0",A],["id2",18,"id0","id1","id0"],["ien0",11,"stAng","id2"],["ien1",11,"ien0",A],["ien2",18,"ien1","ien1","ien0"],["isw1",11,"ien2","istAng"],["isw2",11,"isw1",A],["iswAng",18,"isw1","isw2","isw1"],["wtE",8,"rw1","st2"],["htE",5,"rh1","st2"],["dxE",19,"rw1","htE","wtE"],["dyE",21,"rh1","htE","wtE"],["xE",10,"hc","dxE"],["yE",10,"vc","dyE"],["wtD",8,"rw2","ien2"],["htD",5,"rh2","ien2"],["dxD",19,"rw2","htD","wtD"],["dyD",21,"rh2","htD","wtD"],["xD",10,"hc","dxD"],["yD",10,"vc","dyD"],["xKp",18,"p5","xE","xK"],["yKp",18,"p5","yE","yK"],["xJp",18,"p5","xD","xJ"],["yJp",18,"p5","yD","yJ"],["aL",11,"lptAng",R],["aA",10,"ptAng",R],["aB",10,"ptAng",C],["aJ",10,"lptAng",C],["idx",5,"rw1",M],["idy",8,"rh1",M],["il",11,"hc","idx"],["ir",10,"hc","idx"],["it",11,"vc","idy"],["ib",10,"vc","idy"]],p:[{s:[[0,"xL","yL"],[1,"xKp","yKp"],[1,"xE","yE"],[2,"rw1","rh1","st2","swAng"],[1,"xGp","yGp"],[1,"xA","yA"],[1,"xBp","yBp"],[1,"xC","yC"],[2,"rw2","rh2","istAng","iswAng"],[1,"xJp","yJp"],[5]]}],i:["il","it","ir","ib"],c:[["aL","xL","yL"],["lptAng","xKp","yKp"],["ptAng","xGp","yGp"],["aA","xA","yA"],["aB","xBp","yBp"],["aJ","xJp","yJp"]]}],Tn=[67,{a:[["adj1",25e3],["adj2",5e4],["adj3",25e3]],h:[[1,"x1","y5","adj1",0,"a2"],[1,"r","y4","adj2",0,"maxAdj2"],[0,"x1","b","adj3",0,"maxAdj3"]],g:[["maxAdj2",15,5e4,"h","ss"],["a2",20,0,"adj2","maxAdj2"],["a1",20,0,"adj1","a2"],["th",15,"ss","a1",1e5],["aw",15,"ss","a2",1e5],["q1",17,"th","aw",4],["hR",11,"hd2","q1"],["q7",13,"hR",2],["q8",13,"q7","q7"],["q9",13,"th","th"],["q10",11,"q8","q9"],["q11",1,"q10"],["idx",15,"q11","w","q7"],["maxAdj3",15,1e5,"idx","ss"],["a3",20,0,"adj3","maxAdj3"],["ah",15,"ss","a3",1e5],["y3",10,"hR","th"],["q2",13,"w","w"],["q3",13,"ah","ah"],["q4",11,"q2","q3"],["q5",1,"q4"],["dy",15,"q5","hR","w"],["y5",10,"hR","dy"],["y7",10,"y3","dy"],["q6",11,"aw","th"],["dh",14,"q6",2],["y4",11,"y5","dh"],["y8",10,"y7","dh"],["aw2",14,"aw",2],["y6",11,"b","aw2"],["x1",11,"r","ah"],["swAng",4,"ah","dy"],["stAng",11,C,"swAng"],["mswAng",3,"swAng"],["ix",11,"r","idx"],["iy",17,"hR","y3",2],["q12",14,"th",2],["dang2",4,"idx","q12"],["swAng2",11,"dang2",R],["swAng3",10,R,"dang2"],["stAng3",11,C,"dang2"]],p:[{s:[[0,"l","hR"],[2,"w","hR",C,"mswAng"],[1,"x1","y4"],[1,"r","y6"],[1,"x1","y8"],[1,"x1","y7"],[2,"w","hR","stAng","swAng"],[5]],l:!1},{s:[[0,"r","th"],[2,"w","hR",S,"swAng2"],[2,"w","hR","stAng3","swAng3"],[5]],f:5,l:!1},{s:[[0,"l","hR"],[2,"w","hR",C,"mswAng"],[1,"x1","y4"],[1,"r","y6"],[1,"x1","y8"],[1,"x1","y7"],[2,"w","hR","stAng","swAng"],[1,"l","hR"],[2,"w","hR",C,R],[1,"r","th"],[2,"w","hR",S,"swAng2"]],f:0}],i:["l","t","r","b"],c:[[C,"l","iy"],[R,"x1","y8"],[0,"r","y6"],[0,"x1","y4"],[0,"r","q12"]]}],Sn=[68,{a:[["adj1",25e3],["adj2",5e4],["adj3",25e3]],h:[[1,"x1","y5","adj1",0,"a2"],[1,"r","y4","adj2",0,"maxAdj2"],[0,"x1","b","adj3",0,"maxAdj3"]],g:[["maxAdj2",15,5e4,"h","ss"],["a2",20,0,"adj2","maxAdj2"],["a1",20,0,"adj1","a2"],["th",15,"ss","a1",1e5],["aw",15,"ss","a2",1e5],["q1",17,"th","aw",4],["hR",11,"hd2","q1"],["q7",13,"hR",2],["q8",13,"q7","q7"],["q9",13,"th","th"],["q10",11,"q8","q9"],["q11",1,"q10"],["idx",15,"q11","w","q7"],["maxAdj3",15,1e5,"idx","ss"],["a3",20,0,"adj3","maxAdj3"],["ah",15,"ss","a3",1e5],["y3",10,"hR","th"],["q2",13,"w","w"],["q3",13,"ah","ah"],["q4",11,"q2","q3"],["q5",1,"q4"],["dy",15,"q5","hR","w"],["y5",10,"hR","dy"],["y7",10,"y3","dy"],["q6",11,"aw","th"],["dh",14,"q6",2],["y4",11,"y5","dh"],["y8",10,"y7","dh"],["aw2",14,"aw",2],["y6",11,"b","aw2"],["x1",10,"l","ah"],["swAng",4,"ah","dy"],["mswAng",3,"swAng"],["ix",10,"l","idx"],["iy",17,"hR","y3",2],["q12",14,"th",2],["dang2",4,"idx","q12"],["swAng2",11,"dang2","swAng"],["swAng3",10,"swAng","dang2"],["stAng3",3,"dang2"]],p:[{s:[[0,"l","y6"],[1,"x1","y4"],[1,"x1","y5"],[2,"w","hR","swAng","swAng2"],[2,"w","hR","stAng3","swAng3"],[1,"x1","y8"],[5]],l:!1},{s:[[0,"r","y3"],[2,"w","hR",0,-R],[1,"l","t"],[2,"w","hR",S,R],[5]],f:5,l:!1},{s:[[0,"r","y3"],[2,"w","hR",0,-R],[1,"l","t"],[2,"w","hR",S,R],[1,"r","y3"],[2,"w","hR",0,"swAng"],[1,"x1","y8"],[1,"l","y6"],[1,"x1","y4"],[1,"x1","y5"],[2,"w","hR","swAng","swAng2"]],f:0}],i:["l","t","r","b"],c:[[C,"l","q12"],[C,"x1","y4"],[j,"l","y6"],[R,"x1","y8"],[0,"r","iy"]]}],Rn=[69,{a:[["adj1",25e3],["adj2",5e4],["adj3",25e3]],h:[[0,"x7","y1","adj1",0,"a2"],[0,"x4","t","adj2",0,"maxAdj2"],[1,"r","y1","adj3",0,"maxAdj3"]],g:[["maxAdj2",15,5e4,"w","ss"],["a2",20,0,"adj2","maxAdj2"],["a1",20,0,"adj1",1e5],["th",15,"ss","a1",1e5],["aw",15,"ss","a2",1e5],["q1",17,"th","aw",4],["wR",11,"wd2","q1"],["q7",13,"wR",2],["q8",13,"q7","q7"],["q9",13,"th","th"],["q10",11,"q8","q9"],["q11",1,"q10"],["idy",15,"q11","h","q7"],["maxAdj3",15,1e5,"idy","ss"],["a3",20,0,"adj3","maxAdj3"],["ah",15,"ss","adj3",1e5],["x3",10,"wR","th"],["q2",13,"h","h"],["q3",13,"ah","ah"],["q4",11,"q2","q3"],["q5",1,"q4"],["dx",15,"q5","wR","h"],["x5",10,"wR","dx"],["x7",10,"x3","dx"],["q6",11,"aw","th"],["dh",14,"q6",2],["x4",11,"x5","dh"],["x8",10,"x7","dh"],["aw2",14,"aw",2],["x6",11,"r","aw2"],["y1",10,"t","ah"],["swAng",4,"ah","dx"],["mswAng",3,"swAng"],["iy",10,"t","idy"],["ix",17,"wR","x3",2],["q12",14,"th",2],["dang2",4,"idy","q12"],["swAng2",11,"dang2","swAng"],["mswAng2",3,"swAng2"],["stAng3",11,R,"swAng"],["swAng3",10,"swAng","dang2"],["stAng2",11,R,"dang2"]],p:[{s:[[0,"x6","t"],[1,"x8","y1"],[1,"x7","y1"],[2,"wR","h","stAng3","swAng3"],[2,"wR","h","stAng2","swAng2"],[1,"x4","y1"],[5]],l:!1},{s:[[0,"wR","b"],[2,"wR","h",R,R],[1,"th","t"],[2,"wR","h",C,-R],[5]],f:5,l:!1},{s:[[0,"ix","iy"],[2,"wR","h","stAng2","swAng2"],[1,"x4","y1"],[1,"x6","t"],[1,"x8","y1"],[1,"x7","y1"],[2,"wR","h","stAng3","swAng"],[1,"wR","b"],[2,"wR","h",R,R],[1,"th","t"],[2,"wR","h",C,-R]],f:0}],i:["l","t","r","b"],c:[[S,"x6","t"],[S,"x4","y1"],[S,"q12","t"],[R,"ix","b"],[0,"x8","y1"]]}],En=[70,{a:[["adj1",25e3],["adj2",5e4],["adj3",25e3]],h:[[0,"x7","y1","adj1",0,"adj2"],[0,"x4","b","adj2",0,"maxAdj2"],[1,"r","y1","adj3",0,"maxAdj3"]],g:[["maxAdj2",15,5e4,"w","ss"],["a2",20,0,"adj2","maxAdj2"],["a1",20,0,"adj1",1e5],["th",15,"ss","a1",1e5],["aw",15,"ss","a2",1e5],["q1",17,"th","aw",4],["wR",11,"wd2","q1"],["q7",13,"wR",2],["q8",13,"q7","q7"],["q9",13,"th","th"],["q10",11,"q8","q9"],["q11",1,"q10"],["idy",15,"q11","h","q7"],["maxAdj3",15,1e5,"idy","ss"],["a3",20,0,"adj3","maxAdj3"],["ah",15,"ss","adj3",1e5],["x3",10,"wR","th"],["q2",13,"h","h"],["q3",13,"ah","ah"],["q4",11,"q2","q3"],["q5",1,"q4"],["dx",15,"q5","wR","h"],["x5",10,"wR","dx"],["x7",10,"x3","dx"],["q6",11,"aw","th"],["dh",14,"q6",2],["x4",11,"x5","dh"],["x8",10,"x7","dh"],["aw2",14,"aw",2],["x6",11,"r","aw2"],["y1",11,"b","ah"],["swAng",4,"ah","dx"],["mswAng",11,0,"swAng"],["iy",11,"b","idy"],["ix",17,"wR","x3",2],["q12",14,"th",2],["dang2",4,"idy","q12"],["stAng",10,S,"swAng"],["stAng2",11,S,"dang2"],["swAng2",11,"dang2",R],["swAng3",10,R,"dang2"]],p:[{s:[[0,"x6","b"],[1,"x4","y1"],[1,"x5","y1"],[2,"wR","h","stAng","mswAng"],[1,"x3","t"],[2,"wR","h",S,"swAng"],[1,"x8","y1"],[5]],l:!1},{s:[[0,"ix","iy"],[2,"wR","h","stAng2","swAng2"],[1,"l","b"],[2,"wR","h",C,"swAng3"],[5]],f:5,l:!1},{s:[[0,"ix","iy"],[2,"wR","h","stAng2","swAng2"],[1,"l","b"],[2,"wR","h",C,R],[1,"x3","t"],[2,"wR","h",S,"swAng"],[1,"x8","y1"],[1,"x6","b"],[1,"x4","y1"],[1,"x5","y1"],[2,"wR","h","stAng","mswAng"]],f:0}],i:["l","t","r","b"],c:[[S,"ix","t"],[R,"q12","b"],[R,"x4","y1"],[R,"x6","b"],[0,"x8","y1"]]}],Mn=[71,{a:[["adj1",25e3],["adj2",16667]],h:[[1,"xF","yF","adj1",1,75e3],[0,"xB","yB","adj2",0,"maxAdj2"]],g:[["a1",20,1,"adj1",75e3],["maxAdj2",15,7e4,"w","ss"],["a2",20,0,"adj2","maxAdj2"],["ad1",15,"h","a1",1e5],["ad2",15,"ss","a2",1e5],["xB",11,"r","ad2"],["yB",10,"t","ssd8"],["alfa",14,R,14],["dx0",9,"ssd8","alfa"],["xC",11,"xB","dx0"],["dx1",9,"ad1","alfa"],["yF",10,"yB","ad1"],["xF",10,"xB","dx1"],["xE",10,"xF","dx0"],["yE",10,"yF","ssd8"],["dy2",11,"yE","t"],["dy22",14,"dy2",2],["dy3",14,"h",20],["yD",16,"t","dy22","dy3"],["dy4",2,"hd6"],["yP1",10,"hd6","dy4"],["xP1",2,"wd6"],["dy5",14,"hd6",2],["yP2",10,"yF","dy5"],["xP2",2,"wd4"]],p:[{s:[[0,"l","b"],[3,"xP1","yP1","xB","yB"],[1,"xC","t"],[1,"r","yD"],[1,"xE","yE"],[1,"xF","yF"],[3,"xP2","yP2","l","b"],[5]]}],i:["l","t","r","b"],c:[[R,"l","b"],[S,"xC","t"],[0,"r","yD"],[R,"xE","yE"]]}],On=[89,{a:[["adj",8333]],h:[[1,"l","y1","adj",0,"maxAdj"]],g:[["maxAdj",15,5e4,"h","ss"],["a",20,1,"adj","maxAdj"],["y1",15,"ss","a",1e5],["y2",11,"b","y1"],["dx1",5,"w",M],["dy1",8,"y1",M],["il",11,"r","dx1"],["it",11,"y1","dy1"],["ib",16,"b","dy1","y1"]],p:[{s:[[0,"r","b"],[2,"w","y1",R,R],[1,"l","y1"],[2,"w","y1",C,R],[5]],l:!1},{s:[[0,"r","b"],[2,"w","y1",R,R],[1,"l","y1"],[2,"w","y1",C,R]],f:0}],i:["il","it","r","ib"],c:[[R,"r","t"],[C,"l","vc"],[S,"r","b"]]}],kn=[90,{a:[["adj",8333]],h:[[1,"r","y1","adj",0,"maxAdj"]],g:[["maxAdj",15,5e4,"h","ss"],["a",20,1,"adj","maxAdj"],["y1",15,"ss","a",1e5],["y2",11,"b","y1"],["dx1",5,"w",M],["dy1",8,"y1",M],["ir",10,"l","dx1"],["it",11,"y1","dy1"],["ib",16,"b","dy1","y1"]],p:[{s:[[0,"l","t"],[2,"w","y1",S,R],[1,"r","y2"],[2,"w","y1",0,R],[5]],l:!1},{s:[[0,"l","t"],[2,"w","y1",S,R],[1,"r","y2"],[2,"w","y1",0,R]],f:0}],i:["l","it","ir","ib"],c:[[R,"l","t"],[S,"l","b"],[C,"r","vc"]]}],In=[91,{a:[["adj1",8333],["adj2",5e4]],h:[[1,"hc","y1","adj1",0,"maxAdj1"],[1,"l","y3","adj2",0,1e5]],g:[["a2",20,0,"adj2",1e5],["q1",11,1e5,"a2"],["q2",7,"q1","a2"],["q3",14,"q2",2],["maxAdj1",15,"q3","h","ss"],["a1",20,1,"adj1","maxAdj1"],["y1",15,"ss","a1",1e5],["y3",15,"h","a2",1e5],["y4",10,"y3","y1"],["dx1",5,"wd2",M],["dy1",8,"y1",M],["il",11,"r","dx1"],["it",11,"y1","dy1"],["ib",16,"b","dy1","y1"]],p:[{s:[[0,"r","b"],[2,"wd2","y1",R,R],[1,"hc","y4"],[2,"wd2","y1",0,-R],[2,"wd2","y1",R,-R],[1,"hc","y1"],[2,"wd2","y1",C,R],[5]],l:!1},{s:[[0,"r","b"],[2,"wd2","y1",R,R],[1,"hc","y4"],[2,"wd2","y1",0,-R],[2,"wd2","y1",R,-R],[1,"hc","y1"],[2,"wd2","y1",C,R]],f:0}],i:["il","it","r","ib"],c:[[R,"r","t"],[C,"l","y3"],[S,"r","b"]]}],Bn=[92,{a:[["adj1",8333],["adj2",5e4]],h:[[1,"hc","y1","adj1",0,"maxAdj1"],[1,"r","y3","adj2",0,1e5]],g:[["a2",20,0,"adj2",1e5],["q1",11,1e5,"a2"],["q2",7,"q1","a2"],["q3",14,"q2",2],["maxAdj1",15,"q3","h","ss"],["a1",20,1,"adj1","maxAdj1"],["y1",15,"ss","a1",1e5],["y3",15,"h","a2",1e5],["y2",11,"y3","y1"],["y4",11,"b","y1"],["dx1",5,"wd2",M],["dy1",8,"y1",M],["ir",10,"l","dx1"],["it",11,"y1","dy1"],["ib",16,"b","dy1","y1"]],p:[{s:[[0,"l","t"],[2,"wd2","y1",S,R],[1,"hc","y2"],[2,"wd2","y1",C,-R],[2,"wd2","y1",S,-R],[1,"hc","y4"],[2,"wd2","y1",0,R],[5]],l:!1},{s:[[0,"l","t"],[2,"wd2","y1",S,R],[1,"hc","y2"],[2,"wd2","y1",C,-R],[2,"wd2","y1",S,-R],[1,"hc","y4"],[2,"wd2","y1",0,R]],f:0}],i:["l","it","ir","ib"],c:[[R,"l","t"],[C,"r","y3"],[S,"l","b"]]}],_n=[93,{a:[["adj",16667]],h:[[1,"l","x1","adj",0,5e4]],g:[["a",20,0,"adj",5e4],["x1",15,"ss","a",1e5],["x2",11,"r","x1"],["y2",11,"b","x1"],["il",15,"x1",29289,1e5],["ir",11,"r","il"],["ib",11,"b","il"]],p:[{s:[[0,"l","x1"],[2,"x1","x1",C,R],[1,"x2","t"],[2,"x1","x1",S,R],[1,"r","y2"],[2,"x1","x1",0,R],[1,"x1","b"],[2,"x1","x1",R,R],[5]],l:!1},{s:[[0,"x1","b"],[2,"x1","x1",R,R],[1,"l","x1"],[2,"x1","x1",C,R],[0,"x2","t"],[2,"x1","x1",S,R],[1,"r","y2"],[2,"x1","x1",0,R]],f:0}],i:["il","il","ir","ib"],c:[[S,"hc","t"],[C,"l","vc"],[R,"hc","b"],[0,"r","vc"]]}],Dn=[94,{a:[["adj",8333]],h:[[1,"l","x1","adj",0,25e3]],g:[["a",20,0,"adj",25e3],["x1",15,"ss","a",1e5],["x2",15,"ss","a",5e4],["x3",11,"r","x2"],["x4",11,"r","x1"],["y2",11,"vc","x1"],["y3",10,"vc","x1"],["y4",11,"b","x1"],["it",15,"x1",29289,1e5],["il",10,"x1","it"],["ir",11,"r","il"],["ib",11,"b","it"]],p:[{s:[[0,"x2","b"],[2,"x1","x1",R,R],[1,"x1","y3"],[2,"x1","x1",0,-R],[2,"x1","x1",R,-R],[1,"x1","x1"],[2,"x1","x1",C,R],[1,"x3","t"],[2,"x1","x1",S,R],[1,"x4","y2"],[2,"x1","x1",C,-R],[2,"x1","x1",S,-R],[1,"x4","y4"],[2,"x1","x1",0,R],[5]],l:!1},{s:[[0,"x2","b"],[2,"x1","x1",R,R],[1,"x1","y3"],[2,"x1","x1",0,-R],[2,"x1","x1",R,-R],[1,"x1","x1"],[2,"x1","x1",C,R],[0,"x3","t"],[2,"x1","x1",S,R],[1,"x4","y2"],[2,"x1","x1",C,-R],[2,"x1","x1",S,-R],[1,"x4","y4"],[2,"x1","x1",0,R]],f:0}],i:["il","il","ir","ib"],c:[[S,"hc","t"],[C,"l","vc"],[R,"hc","b"],[0,"r","vc"]]}],Fn=I(11),Nn=2147483647,Un=[104,{a:[["adj1",18750],["adj2",-8333],["adj3",112500],["adj4",-38333]],h:[[2,"x1","y1","adj2",-Nn,Nn,"adj1",-Nn,Nn],[2,"x2","y2","adj4",-Nn,Nn,"adj3",-Nn,Nn]],g:[["y1",15,"h","adj1",1e5],["x1",15,"w","adj2",1e5],["y2",15,"h","adj3",1e5],["x2",15,"w","adj4",1e5]],p:[{s:[[0,"l","t"],[1,"r","t"],[1,"r","b"],[1,"l","b"],[5]],l:!1},{s:[[0,"x1","y1"],[1,"x2","y2"]],f:0}],i:["l","t","r","b"],c:[[0,"r","vc"],[R,"hc","b"],[C,"l","vc"],[S,"hc","t"]]}],Ln=[105,{a:[["adj1",18750],["adj2",-8333],["adj3",18750],["adj4",-16667],["adj5",112500],["adj6",-46667]],h:[[2,"x1","y1","adj2",-Nn,Nn,"adj1",-Nn,Nn],[2,"x2","y2","adj4",-Nn,Nn,"adj3",-Nn,Nn],[2,"x3","y3","adj6",-Nn,Nn,"adj5",-Nn,Nn]],g:[["y1",15,"h","adj1",1e5],["x1",15,"w","adj2",1e5],["y2",15,"h","adj3",1e5],["x2",15,"w","adj4",1e5],["y3",15,"h","adj5",1e5],["x3",15,"w","adj6",1e5]],p:[{s:[[0,"l","t"],[1,"r","t"],[1,"r","b"],[1,"l","b"],[5]],l:!1},{s:[[0,"x1","y1"],[1,"x2","y2"],[1,"x3","y3"]],f:0}],i:["l","t","r","b"],c:[[0,"r","vc"],[R,"hc","b"],[C,"l","vc"],[S,"hc","t"]]}],qn=[106,{a:[["adj1",18750],["adj2",-8333],["adj3",18750],["adj4",-16667],["adj5",1e5],["adj6",-16667],["adj7",112963],["adj8",-8333]],h:[[2,"x1","y1","adj2",-Nn,Nn,"adj1",-Nn,Nn],[2,"x2","y2","adj4",-Nn,Nn,"adj3",-Nn,Nn],[2,"x3","y3","adj6",-Nn,Nn,"adj5",-Nn,Nn],[2,"x4","y4","adj8",-Nn,Nn,"adj7",-Nn,Nn]],g:[["y1",15,"h","adj1",1e5],["x1",15,"w","adj2",1e5],["y2",15,"h","adj3",1e5],["x2",15,"w","adj4",1e5],["y3",15,"h","adj5",1e5],["x3",15,"w","adj6",1e5],["y4",15,"h","adj7",1e5],["x4",15,"w","adj8",1e5]],p:[{s:[[0,"l","t"],[1,"r","t"],[1,"r","b"],[1,"l","b"],[5]],l:!1},{s:[[0,"x1","y1"],[1,"x2","y2"],[1,"x3","y3"],[1,"x4","y4"]],f:0}],i:["l","t","r","b"],c:[[0,"r","vc"],[R,"hc","b"],[C,"l","vc"],[S,"hc","t"]]}],zn=[110,{a:[["adj1",18750],["adj2",-8333],["adj3",112500],["adj4",-38333]],h:[[2,"x1","y1","adj2",-Nn,Nn,"adj1",-Nn,Nn],[2,"x2","y2","adj4",-Nn,Nn,"adj3",-Nn,Nn]],g:[["y1",15,"h","adj1",1e5],["x1",15,"w","adj2",1e5],["y2",15,"h","adj3",1e5],["x2",15,"w","adj4",1e5]],p:[{s:[[0,"l","t"],[1,"r","t"],[1,"r","b"],[1,"l","b"],[5]]},{s:[[0,"x1","y1"],[1,"x2","y2"]],f:0}],i:["l","t","r","b"],c:[[0,"r","vc"],[R,"hc","b"],[C,"l","vc"],[S,"hc","t"]]}],$n=[111,{a:[["adj1",18750],["adj2",-8333],["adj3",18750],["adj4",-16667],["adj5",112500],["adj6",-46667]],h:[[2,"x1","y1","adj2",-Nn,Nn,"adj1",-Nn,Nn],[2,"x2","y2","adj4",-Nn,Nn,"adj3",-Nn,Nn],[2,"x3","y3","adj6",-Nn,Nn,"adj5",-Nn,Nn]],g:[["y1",15,"h","adj1",1e5],["x1",15,"w","adj2",1e5],["y2",15,"h","adj3",1e5],["x2",15,"w","adj4",1e5],["y3",15,"h","adj5",1e5],["x3",15,"w","adj6",1e5]],p:[{s:[[0,"l","t"],[1,"r","t"],[1,"r","b"],[1,"l","b"],[5]]},{s:[[0,"x1","y1"],[1,"x2","y2"],[1,"x3","y3"]],f:0}],i:["l","t","r","b"],c:[[0,"r","vc"],[R,"hc","b"],[C,"l","vc"],[S,"hc","t"]]}],Hn=[112,{a:[["adj1",18750],["adj2",-8333],["adj3",18750],["adj4",-16667],["adj5",1e5],["adj6",-16667],["adj7",112963],["adj8",-8333]],h:[[2,"x1","y1","adj2",-Nn,Nn,"adj1",-Nn,Nn],[2,"x2","y2","adj4",-Nn,Nn,"adj3",-Nn,Nn],[2,"x3","y3","adj6",-Nn,Nn,"adj5",-Nn,Nn],[2,"x4","y4","adj8",-Nn,Nn,"adj7",-Nn,Nn]],g:[["y1",15,"h","adj1",1e5],["x1",15,"w","adj2",1e5],["y2",15,"h","adj3",1e5],["x2",15,"w","adj4",1e5],["y3",15,"h","adj5",1e5],["x3",15,"w","adj6",1e5],["y4",15,"h","adj7",1e5],["x4",15,"w","adj8",1e5]],p:[{s:[[0,"l","t"],[1,"r","t"],[1,"r","b"],[1,"l","b"],[5]]},{s:[[0,"x1","y1"],[1,"x2","y2"],[1,"x3","y3"],[1,"x4","y4"]],f:0}],i:["l","t","r","b"],c:[[0,"r","vc"],[R,"hc","b"],[C,"l","vc"],[S,"hc","t"]]}],Vn=[107,{a:[["adj1",18750],["adj2",-8333],["adj3",112500],["adj4",-38333]],h:[[2,"x1","y1","adj2",-Nn,Nn,"adj1",-Nn,Nn],[2,"x2","y2","adj4",-Nn,Nn,"adj3",-Nn,Nn]],g:[["y1",15,"h","adj1",1e5],["x1",15,"w","adj2",1e5],["y2",15,"h","adj3",1e5],["x2",15,"w","adj4",1e5]],p:[{s:[[0,"l","t"],[1,"r","t"],[1,"r","b"],[1,"l","b"],[5]],l:!1},{s:[[0,"x1","t"],[1,"x1","b"],[5]],f:0},{s:[[0,"x1","y1"],[1,"x2","y2"]],f:0}],i:["l","t","r","b"],c:[[0,"r","vc"],[R,"hc","b"],[C,"l","vc"],[S,"hc","t"]]}],Wn=[108,{a:[["adj1",18750],["adj2",-8333],["adj3",18750],["adj4",-16667],["adj5",112500],["adj6",-46667]],h:[[2,"x1","y1","adj2",-Nn,Nn,"adj1",-Nn,Nn],[2,"x2","y2","adj4",-Nn,Nn,"adj3",-Nn,Nn],[2,"x3","y3","adj6",-Nn,Nn,"adj5",-Nn,Nn]],g:[["y1",15,"h","adj1",1e5],["x1",15,"w","adj2",1e5],["y2",15,"h","adj3",1e5],["x2",15,"w","adj4",1e5],["y3",15,"h","adj5",1e5],["x3",15,"w","adj6",1e5]],p:[{s:[[0,"l","t"],[1,"r","t"],[1,"r","b"],[1,"l","b"],[5]],l:!1},{s:[[0,"x1","t"],[1,"x1","b"],[5]],f:0},{s:[[0,"x1","y1"],[1,"x2","y2"],[1,"x3","y3"]],f:0}],i:["l","t","r","b"],c:[[0,"r","vc"],[R,"hc","b"],[C,"l","vc"],[S,"hc","t"]]}],Gn=[109,{a:[["adj1",18750],["adj2",-8333],["adj3",18750],["adj4",-16667],["adj5",1e5],["adj6",-16667],["adj7",112963],["adj8",-8333]],h:[[2,"x1","y1","adj2",-Nn,Nn,"adj1",-Nn,Nn],[2,"x2","y2","adj4",-Nn,Nn,"adj3",-Nn,Nn],[2,"x3","y3","adj6",-Nn,Nn,"adj5",-Nn,Nn],[2,"x4","y4","adj8",-Nn,Nn,"adj7",-Nn,Nn]],g:[["y1",15,"h","adj1",1e5],["x1",15,"w","adj2",1e5],["y2",15,"h","adj3",1e5],["x2",15,"w","adj4",1e5],["y3",15,"h","adj5",1e5],["x3",15,"w","adj6",1e5],["y4",15,"h","adj7",1e5],["x4",15,"w","adj8",1e5]],p:[{s:[[0,"l","t"],[1,"r","t"],[1,"r","b"],[1,"l","b"],[5]],l:!1},{s:[[0,"x1","t"],[1,"x1","b"],[5]],f:0},{s:[[0,"x1","y1"],[1,"x2","y2"],[1,"x3","y3"],[1,"x4","y4"]],f:0}],i:["l","t","r","b"],c:[[0,"r","vc"],[R,"hc","b"],[C,"l","vc"],[S,"hc","t"]]}],Kn=[113,{a:[["adj1",18750],["adj2",-8333],["adj3",112500],["adj4",-38333]],h:[[2,"x1","y1","adj2",-Nn,Nn,"adj1",-Nn,Nn],[2,"x2","y2","adj4",-Nn,Nn,"adj3",-Nn,Nn]],g:[["y1",15,"h","adj1",1e5],["x1",15,"w","adj2",1e5],["y2",15,"h","adj3",1e5],["x2",15,"w","adj4",1e5]],p:[{s:[[0,"l","t"],[1,"r","t"],[1,"r","b"],[1,"l","b"],[5]]},{s:[[0,"x1","t"],[1,"x1","b"],[5]],f:0},{s:[[0,"x1","y1"],[1,"x2","y2"]],f:0}],i:["l","t","r","b"],c:[[0,"r","vc"],[R,"hc","b"],[C,"l","vc"],[S,"hc","t"]]}],Qn=[114,{a:[["adj1",18750],["adj2",-8333],["adj3",18750],["adj4",-16667],["adj5",112500],["adj6",-46667]],h:[[2,"x1","y1","adj2",-Nn,Nn,"adj1",-Nn,Nn],[2,"x2","y2","adj4",-Nn,Nn,"adj3",-Nn,Nn],[2,"x3","y3","adj6",-Nn,Nn,"adj5",-Nn,Nn]],g:[["y1",15,"h","adj1",1e5],["x1",15,"w","adj2",1e5],["y2",15,"h","adj3",1e5],["x2",15,"w","adj4",1e5],["y3",15,"h","adj5",1e5],["x3",15,"w","adj6",1e5]],p:[{s:[[0,"l","t"],[1,"r","t"],[1,"r","b"],[1,"l","b"],[5]]},{s:[[0,"x1","t"],[1,"x1","b"],[5]],f:0},{s:[[0,"x1","y1"],[1,"x2","y2"],[1,"x3","y3"]],f:0}],i:["l","t","r","b"],c:[[0,"r","vc"],[R,"hc","b"],[C,"l","vc"],[S,"hc","t"]]}],Yn=[115,{a:[["adj1",18750],["adj2",-8333],["adj3",18750],["adj4",-16667],["adj5",1e5],["adj6",-16667],["adj7",112963],["adj8",-8333]],h:[[2,"x1","y1","adj2",-Nn,Nn,"adj1",-Nn,Nn],[2,"x2","y2","adj4",-Nn,Nn,"adj3",-Nn,Nn],[2,"x3","y3","adj6",-Nn,Nn,"adj5",-Nn,Nn],[2,"x4","y4","adj8",-Nn,Nn,"adj7",-Nn,Nn]],g:[["y1",15,"h","adj1",1e5],["x1",15,"w","adj2",1e5],["y2",15,"h","adj3",1e5],["x2",15,"w","adj4",1e5],["y3",15,"h","adj5",1e5],["x3",15,"w","adj6",1e5],["y4",15,"h","adj7",1e5],["x4",15,"w","adj8",1e5]],p:[{s:[[0,"l","t"],[1,"r","t"],[1,"r","b"],[1,"l","b"],[5]]},{s:[[0,"x1","t"],[1,"x1","b"],[5]],f:0},{s:[[0,"x1","y1"],[1,"x2","y2"],[1,"x3","y3"],[1,"x4","y4"]],f:0}],i:["l","t","r","b"],c:[[0,"r","vc"],[R,"hc","b"],[C,"l","vc"],[S,"hc","t"]]}],Jn=[116,{a:[["adj1",-20833],["adj2",62500]],h:[[2,"xPos","yPos","adj1",-Nn,Nn,"adj2",-Nn,Nn]],g:[["dxPos",15,"w","adj1",1e5],["dyPos",15,"h","adj2",1e5],["xPos",10,"hc","dxPos"],["yPos",10,"vc","dyPos"],["dx",11,"xPos","hc"],["dy",11,"yPos","vc"],["dq",15,"dxPos","h","w"],["ady",0,"dyPos"],["adq",0,"dq"],["dz",11,"ady","adq"],["xg1",18,"dxPos",7,2],["xg2",18,"dxPos",10,5],["x1",15,"w","xg1",12],["x2",15,"w","xg2",12],["yg1",18,"dyPos",7,2],["yg2",18,"dyPos",10,5],["y1",15,"h","yg1",12],["y2",15,"h","yg2",12],["t1",18,"dxPos","l","xPos"],["xlprep",18,"dz","l","t1"],["xlcomp",11,"xlprep","l"],["xl",18,"xlcomp","l","xlprep"],["t2",18,"dyPos","x1","xPos"],["xt",18,"dz","t2","x1"],["t3",18,"dxPos","xPos","r"],["xrprep",18,"dz","r","t3"],["xrcomp",11,"xrprep","r"],["xr",18,"xrcomp","xrprep","r"],["t4",18,"dyPos","xPos","x1"],["xb",18,"dz","t4","x1"],["t5",18,"dxPos","y1","yPos"],["yl",18,"dz","y1","t5"],["t6",18,"dyPos","t","yPos"],["ytprep",18,"dz","t6","t"],["ytcomp",11,"ytprep","t"],["yt",18,"ytcomp","t","ytprep"],["t7",18,"dxPos","yPos","y1"],["yr",18,"dz","y1","t7"],["t8",18,"dyPos","yPos","b"],["ybprep",18,"dz","t8","b"],["ybcomp",11,"ybprep","b"],["yb",18,"ybcomp","ybprep","b"]],p:[{s:[[0,"l","t"],[1,"x1","t"],[1,"xt","yt"],[1,"x2","t"],[1,"r","t"],[1,"r","y1"],[1,"xr","yr"],[1,"r","y2"],[1,"r","b"],[1,"x2","b"],[1,"xb","yb"],[1,"x1","b"],[1,"l","b"],[1,"l","y2"],[1,"xl","yl"],[1,"l","y1"],[5]]}],i:["l","t","r","b"],c:[[S,"hc","t"],[C,"l","vc"],[R,"hc","b"],[0,"r","vc"],[R,"xPos","yPos"]]}],Xn=[117,{a:[["adj1",-20833],["adj2",62500],["adj3",16667]],h:[[2,"xPos","yPos","adj1",-Nn,Nn,"adj2",-Nn,Nn]],g:[["dxPos",15,"w","adj1",1e5],["dyPos",15,"h","adj2",1e5],["xPos",10,"hc","dxPos"],["yPos",10,"vc","dyPos"],["dq",15,"dxPos","h","w"],["ady",0,"dyPos"],["adq",0,"dq"],["dz",11,"ady","adq"],["xg1",18,"dxPos",7,2],["xg2",18,"dxPos",10,5],["x1",15,"w","xg1",12],["x2",15,"w","xg2",12],["yg1",18,"dyPos",7,2],["yg2",18,"dyPos",10,5],["y1",15,"h","yg1",12],["y2",15,"h","yg2",12],["t1",18,"dxPos","l","xPos"],["xlprep",18,"dz","l","t1"],["xlcomp",11,"xlprep","l"],["xl",18,"xlcomp","l","xlprep"],["t2",18,"dyPos","x1","xPos"],["xt",18,"dz","t2","x1"],["t3",18,"dxPos","xPos","r"],["xrprep",18,"dz","r","t3"],["xrcomp",11,"xrprep","r"],["xr",18,"xrcomp","xrprep","r"],["t4",18,"dyPos","xPos","x1"],["xb",18,"dz","t4","x1"],["t5",18,"dxPos","y1","yPos"],["yl",18,"dz","y1","t5"],["t6",18,"dyPos","t","yPos"],["ytprep",18,"dz","t6","t"],["ytcomp",11,"ytprep","t"],["yt",18,"ytcomp","t","ytprep"],["t7",18,"dxPos","yPos","y1"],["yr",18,"dz","y1","t7"],["t8",18,"dyPos","yPos","b"],["ybprep",18,"dz","t8","b"],["ybcomp",11,"ybprep","b"],["yb",18,"ybcomp","ybprep","b"],["u1",15,"ss","adj3",1e5],["u2",11,"r","u1"],["v2",11,"b","u1"],["il",15,"u1",29289,1e5],["ir",11,"r","il"],["ib",11,"b","il"]],p:[{s:[[0,"l","u1"],[2,"u1","u1",C,R],[1,"x1","t"],[1,"xt","yt"],[1,"x2","t"],[1,"u2","t"],[2,"u1","u1",S,R],[1,"r","y1"],[1,"xr","yr"],[1,"r","y2"],[1,"r","v2"],[2,"u1","u1",0,R],[1,"x2","b"],[1,"xb","yb"],[1,"x1","b"],[1,"u1","b"],[2,"u1","u1",R,R],[1,"l","y2"],[1,"xl","yl"],[1,"l","y1"],[5]]}],i:["il","il","ir","ib"],c:[[S,"hc","t"],[C,"l","vc"],[R,"hc","b"],[0,"r","vc"],[R,"xPos","yPos"]]}],Zn=[118,{a:[["adj1",-20833],["adj2",62500]],h:[[2,"xPos","yPos","adj1",-Nn,Nn,"adj2",-Nn,Nn]],g:[["dxPos",15,"w","adj1",1e5],["dyPos",15,"h","adj2",1e5],["xPos",10,"hc","dxPos"],["yPos",10,"vc","dyPos"],["sdx",13,"dxPos","h"],["sdy",13,"dyPos","w"],["pang",4,"sdx","sdy"],["stAng",10,"pang",Fn],["enAng",11,"pang",Fn],["dx1",5,"wd2","stAng"],["dy1",8,"hd2","stAng"],["x1",10,"hc","dx1"],["y1",10,"vc","dy1"],["dxEdge",5,"wd2","pang"],["dyEdge",8,"hd2","pang"],["xEdge",10,"hc","dxEdge"],["yEdge",10,"vc","dyEdge"],["posMag",12,"dxPos","dyPos"],["edgeMag",12,"dxEdge","dyEdge"],["ahInside",11,"edgeMag","posMag"],["xTip",18,"ahInside","xEdge","xPos"],["yTip",18,"ahInside","yEdge","yPos"],["dx2",5,"wd2","enAng"],["dy2",8,"hd2","enAng"],["x2",10,"hc","dx2"],["y2",10,"vc","dy2"],["stAng1",4,"dx1","dy1"],["enAng1",4,"dx2","dy2"],["swAng1",11,"enAng1","stAng1"],["swAng2",10,"swAng1",A],["swAng",18,"swAng1","swAng1","swAng2"],["idx",5,"wd2",M],["idy",8,"hd2",M],["il",11,"hc","idx"],["ir",10,"hc","idx"],["it",11,"vc","idy"],["ib",10,"vc","idy"]],p:[{s:[[0,"xTip","yTip"],[1,"x1","y1"],[2,"wd2","hd2","stAng1","swAng"],[5]]}],i:["il","it","ir","ib"],c:[[S,"hc","t"],[S,"il","it"],[C,"l","vc"],[R,"il","ib"],[R,"hc","b"],[R,"ir","ib"],[0,"r","vc"],[S,"ir","it"],["pang","xTip","yTip"]]}],tr=[119,{a:[["adj1",-20833],["adj2",62500]],h:[[2,"xPos","yPos","adj1",-Nn,Nn,"adj2",-Nn,Nn]],g:[["dxPos",15,"w","adj1",1e5],["dyPos",15,"h","adj2",1e5],["xPos",10,"hc","dxPos"],["yPos",10,"vc","dyPos"],["ht",19,"hd2","dxPos","dyPos"],["wt",21,"wd2","dxPos","dyPos"],["g2",19,"wd2","ht","wt"],["g3",21,"hd2","ht","wt"],["g4",10,"hc","g2"],["g5",10,"vc","g3"],["g6",11,"g4","xPos"],["g7",11,"g5","yPos"],["g8",12,"g6","g7"],["g9",15,"ss",6600,21600],["g10",11,"g8","g9"],["g11",14,"g10",3],["g12",15,"ss",1800,21600],["g13",10,"g11","g12"],["g14",15,"g13","g6","g8"],["g15",15,"g13","g7","g8"],["g16",10,"g14","xPos"],["g17",10,"g15","yPos"],["g18",15,"ss",4800,21600],["g19",13,"g11",2],["g20",10,"g18","g19"],["g21",15,"g20","g6","g8"],["g22",15,"g20","g7","g8"],["g23",10,"g21","xPos"],["g24",10,"g22","yPos"],["g25",15,"ss",1200,21600],["g26",15,"ss",600,21600],["x23",10,"xPos","g26"],["x24",10,"g16","g25"],["x25",10,"g23","g12"],["il",15,"w",2977,21600],["it",15,"h",3262,21600],["ir",15,"w",17087,21600],["ib",15,"h",17337,21600],["g27",15,"w",67,21600],["g28",15,"h",21577,21600],["g29",15,"w",21582,21600],["g30",15,"h",1235,21600],["pang",4,"dxPos","dyPos"]],p:[{s:[[0,.09027777777777778,.3326388888888889],[2,.15631944444444446,.2127314814814815,I(-190.48748333333333),I(123.78053333333334)],[2,.12344907407407407,.16821759259259259,I(-144.10238333333334),I(89.94523333333333)],[2,.10104166666666667,.13761574074074073,I(-145.80791666666667),I(99.72301666666667)],[2,.11243055555555556,.15266203703703704,I(-130.98606666666666),I(117.24173333333333)],[2,.12344907407407407,.16835648148148147,I(-78.70888333333333),I(109.02691666666666)],[2,.1568287037037037,.21342592592592594,I(-46.26725),I(130.269)],[2,.13391203703703702,.18210648148148148,I(.6250166666666667),I(114.03333333333333)],[2,.1562962962962963,.21331018518518519,I(22.4516),I(115.17255)],[2,.1787037037037037,.24405092592592592,I(66.24263333333333),I(75.71101666666667)],[2,.10092592592592593,.13699074074074075,I(-274.94208333333336),I(146.73556666666667)],[2,.1005787037037037,.13761574074074073,I(-246.8285),I(152.51885)],[5]]},{s:[[0,"x23","yPos"],[2,"g26","g26",0,A],[5]]},{s:[[0,"x24","g17"],[2,"g25","g25",0,A],[5]]},{s:[[0,"x25","g24"],[2,"g12","g12",0,A],[5]]},{s:[[0,.10863425925925926,.6059490740740741],[2,.1005787037037037,.13761574074074073,I(86.742),I(26.4295)],[0,.16037037037037036,.8078472222222223],[2,.10092592592592593,.13699074074074075,I(73.61046666666667),I(11.447466666666667)],[0,.3814351851851852,.9048611111111111],[2,.1562962962962963,.21331018518518519,I(137.62415),I(14.0811)],[0,.6672916666666666,.8044212962962963],[2,.1562962962962963,.21331018518518519,I(6.453266666666667),I(15.99835)],[0,.7900231481481481,.5313425925925926],[2,.13391203703703702,.18210648148148148,I(-70.29235),I(70.91736666666667)],[0,.9675462962962963,.35541666666666666],[2,.12344907407407407,.16835648148148147,I(30.318033333333332),I(27.7515)],[0,.8871296296296296,.12560185185185185],[2,.11243055555555556,.15266203703703704,I(-13.744333333333334),I(14.8589)],[0,.6731018518518519,.09148148148148148],[2,.11243055555555556,.15266203703703704,I(-149.18145),I(18.195366666666665)],[0,.5125231481481481,.10925925925925926],[2,.10104166666666667,.13761574074074073,I(-163.49426666666668),I(17.68635)],[0,.32407407407407407,.12018518518518519],[2,.15631944444444446,.2127314814814815,I(-66.70695),I(12.31935)],[0,.09553240740740741,.3654861111111111],[2,.15631944444444446,.2127314814814815,I(157.65435),I(11.858166666666667)]],f:0}],u:!0,i:["il","it","ir","ib"],c:[[C,"g27","vc"],[R,"hc","g28"],[0,"g29","vc"],[S,"hc","g30"],["pang","xPos","yPos"]]}],er=.125,nr=1/6,rr=5/6,ir=[131,{p:[{s:[[0,0,0],[1,1,0],[1,1,1],[1,0,1],[5]]}],i:["l","t","r","b"],c:[[S,"hc","t"],[C,"l","vc"],[R,"hc","b"],[0,"r","vc"]],u:!0}],or=[132,{g:[["ir",15,"w",3,4],["ib",15,"h",3,4]],p:[{s:[[0,0,.5],[1,.5,0],[1,1,.5],[1,.5,1],[5]]}],i:["wd4","hd4","ir","ib"],c:[[S,"hc","t"],[C,"l","vc"],[R,"hc","b"],[0,"r","vc"]],u:!0}],sr=[133,{g:[["x3",15,"w",2,5],["x4",15,"w",3,5],["x5",15,"w",4,5],["x6",15,"w",9,10]],p:[{s:[[0,0,1],[1,.2,0],[1,1,0],[1,.8,1],[5]]}],i:["wd5","t","x5","b"],c:[[S,"x4","t"],[S,"hc","t"],[C,"wd10","vc"],[R,"x3","b"],[R,"hc","b"],[0,"x6","vc"]],u:!0}],ar=[134,{g:[["x2",15,"w",7,8]],p:[{s:[[0,0,0],[1,1,0],[1,1,1],[1,0,1],[5]]},{s:[[0,er,0],[1,er,1],[0,.875,0],[1,.875,1]],f:0}],i:["wd8","t","x2","b"],c:[[S,"hc","t"],[C,"l","vc"],[R,"hc","b"],[0,"r","vc"]],u:!0}],cr=[135,{p:[{s:[[0,0,0],[1,1,0],[1,1,1],[1,0,1],[5]]},{s:[[0,er,0],[1,er,1],[0,0,er],[1,1,er]],f:0}],i:["wd8","hd8","r","b"],c:[[S,"hc","t"],[C,"l","vc"],[R,"hc","b"],[0,"r","vc"]],u:!0}],hr=[136,{g:[["y1",15,"h",17322,21600],["y2",15,"h",20172,21600]],p:[{s:[[0,0,0],[1,1,0],[1,1,.8019444444444445],[4,.5,.8019444444444445,.5,1.1075,0,.9338888888888889],[5]]}],i:["l","t","r","y1"],c:[[S,"hc","t"],[C,"l","vc"],[R,"hc","y2"],[0,"r","vc"]],u:!0}],lr=[137,{g:[["y2",15,"h",3675,21600],["y8",15,"h",20782,21600],["x3",15,"w",9298,21600],["x4",15,"w",12286,21600],["x5",15,"w",18595,21600]],p:[{s:[[0,0,.9621296296296297],[4,.43046296296296294,1.0899074074074073,.43046296296296294,.8343518518518519,.8608796296296296,.8343518518518519],[1,.8608796296296296,.1701388888888889],[1,0,.1701388888888889],[5],[0,.07092592592592592,.1701388888888889],[1,.07092592592592592,.08402777777777778],[1,.9259259259259259,.08402777777777778],[1,.9259259259259259,.7524074074074074],[4,.893425925925926,.7524074074074074,.8608796296296296,.7570370370370371,.8608796296296296,.7570370370370371],[1,.8608796296296296,.1701388888888889],[5],[0,.1375925925925926,.08402777777777778],[1,.1375925925925926,0],[1,1,0],[1,1,.6662962962962963],[4,.9629629629629629,.6662962962962963,.9259259259259259,.6697685185185185,.9259259259259259,.6697685185185185],[1,.9259259259259259,.08402777777777778],[5]],l:!1},{s:[[0,0,.1701388888888889],[1,.8608796296296296,.1701388888888889],[1,.8608796296296296,.8343518518518519],[4,.43046296296296294,.8343518518518519,.43046296296296294,1.0899074074074073,0,.9621296296296297],[5],[0,.07092592592592592,.1701388888888889],[1,.07092592592592592,.08402777777777778],[1,.9259259259259259,.08402777777777778],[1,.9259259259259259,.7524074074074074],[4,.893425925925926,.7524074074074074,.8608796296296296,.7570370370370371,.8608796296296296,.7570370370370371],[0,.1375925925925926,.08402777777777778],[1,.1375925925925926,0],[1,1,0],[1,1,.6662962962962963],[4,.9629629629629629,.6662962962962963,.9259259259259259,.6697685185185185,.9259259259259259,.6697685185185185]],f:0}],i:["l","y2","x5","y8"],c:[[S,"x4","t"],[C,"l","vc"],[R,"x3","y8"],[0,"r","vc"]],u:!0}],dr=[138,{g:[["il",15,"w",1018,21600],["ir",15,"w",20582,21600],["it",15,"h",3163,21600],["ib",15,"h",18437,21600]],p:[{s:[[0,.16087962962962962,0],[1,.8391203703703703,0],[2,.16087962962962962,.5,S,C],[1,.16087962962962962,1],[2,.16087962962962962,.5,R,C],[5]]}],i:["il","it","ir","ib"],c:[[S,"hc","t"],[C,"l","vc"],[R,"hc","b"],[0,"r","vc"]],u:!0}],ur=[139,{g:[["x2",15,"w",4,5]],p:[{s:[[0,0,.5],[1,.2,0],[1,.8,0],[1,1,.5],[1,.8,1],[1,.2,1],[5]]}],i:["wd5","t","x2","b"],c:[[S,"hc","t"],[C,"l","vc"],[R,"hc","b"],[0,"r","vc"]],u:!0}],pr=[140,{p:[{s:[[0,0,.2],[1,1,0],[1,1,1],[1,0,1],[5]]}],i:["l","hd5","r","b"],c:[[S,"hc","hd10"],[C,"l","vc"],[R,"hc","b"],[0,"r","vc"]],u:!0}],fr=[141,{g:[["x3",15,"w",4,5],["x4",15,"w",9,10]],p:[{s:[[0,0,0],[1,1,0],[1,.8,1],[1,.2,1],[5]]}],i:["wd5","t","x3","b"],c:[[S,"hc","t"],[C,"wd10","vc"],[R,"hc","b"],[0,"x4","vc"]],u:!0}],yr=[142,{g:[["idx",5,"wd2",M],["idy",8,"hd2",M],["il",11,"hc","idx"],["ir",10,"hc","idx"],["it",11,"vc","idy"],["ib",10,"vc","idy"]],p:[{s:[[0,"l","vc"],[2,"wd2","hd2",C,A],[5]]}],i:["il","it","ir","ib"],c:[[S,"hc","t"],[S,"il","it"],[C,"l","vc"],[R,"il","ib"],[R,"hc","b"],[R,"ir","ib"],[0,"r","vc"],[S,"ir","it"]],u:!0}],gr=[143,{p:[{s:[[0,0,.2],[1,.2,0],[1,1,0],[1,1,1],[1,0,1],[5]]}],i:["l","hd5","r","b"],c:[[S,"hc","t"],[C,"l","vc"],[R,"hc","b"],[0,"r","vc"]],u:!0}],xr=[144,{g:[["y2",15,"h",9,10],["ib",15,"h",4,5]],p:[{s:[[0,0,.1],[2,.25,.1,C,-C],[2,.25,.1,C,C],[1,1,.9],[2,.25,.1,0,-C],[2,.25,.1,0,C],[5]]}],i:["l","hd5","r","ib"],c:[[S,"hc","hd10"],[C,"l","vc"],[R,"hc","y2"],[0,"r","vc"]],u:!0}],vr=[145,{g:[["idx",5,"wd2",M],["idy",8,"hd2",M],["il",11,"hc","idx"],["ir",10,"hc","idx"],["it",11,"vc","idy"],["ib",10,"vc","idy"]],p:[{s:[[0,"l","vc"],[2,"wd2","hd2",C,A],[5]],l:!1},{s:[[0,"il","it"],[1,"ir","ib"],[0,"ir","it"],[1,"il","ib"]],f:0},{s:[[0,"l","vc"],[2,"wd2","hd2",C,A],[5]],f:0}],i:["il","it","ir","ib"],c:[[S,"hc","t"],[S,"il","it"],[C,"l","vc"],[R,"il","ib"],[R,"hc","b"],[R,"ir","ib"],[0,"r","vc"],[S,"ir","it"]],u:!0}],mr=[146,{g:[["idx",5,"wd2",M],["idy",8,"hd2",M],["il",11,"hc","idx"],["ir",10,"hc","idx"],["it",11,"vc","idy"],["ib",10,"vc","idy"]],p:[{s:[[0,"l","vc"],[2,"wd2","hd2",C,A],[5]],l:!1},{s:[[0,"hc","t"],[1,"hc","b"],[0,"l","vc"],[1,"r","vc"]],f:0},{s:[[0,"l","vc"],[2,"wd2","hd2",C,A],[5]],f:0}],i:["il","it","ir","ib"],c:[[S,"hc","t"],[S,"il","it"],[C,"l","vc"],[R,"il","ib"],[R,"hc","b"],[R,"ir","ib"],[0,"r","vc"],[S,"ir","it"]],u:!0}],wr=[147,{g:[["ir",15,"w",3,4],["ib",15,"h",3,4]],p:[{s:[[0,0,0],[1,1,0],[1,.5,.5],[1,1,1],[1,0,1],[1,.5,.5],[5]]}],i:["wd4","hd4","ir","ib"],c:[[S,"hc","t"],[S,"hc","vc"],[R,"hc","b"]],u:!0}],br=[148,{g:[["ir",15,"w",3,4],["ib",15,"h",3,4]],p:[{s:[[0,0,.5],[1,.5,0],[1,1,.5],[1,.5,1],[5]],l:!1},{s:[[0,0,.5],[1,1,.5]],f:0},{s:[[0,0,.5],[1,.5,0],[1,1,.5],[1,.5,1],[5]],f:0}],i:["wd4","hd4","ir","ib"],c:[[S,"hc","t"],[C,"l","vc"],[R,"hc","b"],[0,"r","vc"]],u:!0}],Pr=[149,{g:[["x2",15,"w",3,4]],p:[{s:[[0,0,1],[1,.5,0],[1,1,1],[5]]}],i:["wd4","vc","x2","b"],c:[[S,"hc","t"],[C,"wd4","vc"],[R,"hc","b"],[0,"x2","vc"]],u:!0}],Cr=[150,{g:[["x2",15,"w",3,4]],p:[{s:[[0,0,0],[1,1,0],[1,.5,1],[5]]}],i:["wd4","t","x2","vc"],c:[[S,"hc","t"],[C,"wd4","vc"],[R,"hc","b"],[0,"x2","vc"]],u:!0}],Ar=[151,{g:[["x4",15,"w",3,4]],p:[{s:[[0,0,0],[1,1,0],[1,.5,1],[5]],l:!1},{s:[[0,.4,.8],[1,.6,.8]],f:0},{s:[[0,0,0],[1,1,0],[1,.5,1],[5]],f:0}],i:["wd4","t","x4","vc"],c:[[0,"x4","vc"],[R,"hc","b"],[C,"wd4","vc"],[S,"hc","t"]],u:!0}],jr=[152,{g:[["x2",15,"w",5,6]],p:[{s:[[0,nr,0],[1,1,0],[2,nr,.5,S,-C],[1,nr,1],[2,nr,.5,R,C],[5]]}],i:["wd6","t","x2","b"],c:[[S,"hc","t"],[C,"l","vc"],[R,"hc","b"],[0,"x2","vc"]],u:!0}],Tr=[153,{g:[["idx",5,"wd2",M],["idy",8,"hd2",M],["il",11,"hc","idx"],["ir",10,"hc","idx"],["it",11,"vc","idy"],["ib",10,"vc","idy"],["ang1",4,"w","h"],["ang2",10,S,"ang1"]],p:[{s:[[0,"hc","b"],[2,"wd2","hd2",R,"ang2"],[1,"r","ib"],[1,"r","b"],[5]]}],i:["il","it","ir","ib"],c:[[S,"hc","t"],[C,"l","vc"],[R,"hc","b"],[0,"r","vc"]],u:!0}],Sr=[154,{g:[["y3",15,"h",5,6]],p:[{s:[[0,0,nr],[2,.5,nr,C,C],[1,1,rr],[2,.5,nr,0,C],[5]],l:!1},{s:[[0,1,nr],[2,.5,nr,0,C]],f:0},{s:[[0,0,nr],[2,.5,nr,C,C],[1,1,rr],[2,.5,nr,0,C],[5]],f:0}],i:["l","hd3","r","y3"],c:[[S,"hc","hd3"],[S,"hc","t"],[C,"l","vc"],[R,"hc","b"],[0,"r","vc"]],u:!0}],Rr=[155,{g:[["x2",15,"w",2,3]],p:[{s:[[0,nr,0],[1,rr,0],[2,nr,.5,S,C],[1,nr,1],[2,nr,.5,R,C],[5]],l:!1},{s:[[0,rr,1],[2,nr,.5,R,C]],f:0},{s:[[0,nr,0],[1,rr,0],[2,nr,.5,S,C],[1,nr,1],[2,nr,.5,R,C],[5]],f:0}],i:["wd6","t","x2","b"],c:[[S,"hc","t"],[C,"l","vc"],[R,"hc","b"],[0,"x2","vc"],[0,"r","vc"]],u:!0}],Er=[156,{g:[["x2",15,"w",5,6]],p:[{s:[[0,0,.5],[1,nr,0],[1,rr,0],[2,nr,.5,S,C],[1,nr,1],[5]]}],i:["wd6","t","x2","b"],c:[[S,"hc","t"],[C,"l","vc"],[R,"hc","b"],[0,"r","vc"]],u:!0}],Mr=[157,{g:[["idx",5,"wd2",M],["idy",8,"hd2",M],["ir",10,"hc","idx"],["it",11,"vc","idy"],["ib",10,"vc","idy"]],p:[{s:[[0,"l","t"],[1,"hc","t"],[2,"wd2","hd2",S,C],[1,"l","b"],[5]]}],i:["l","it","ir","ib"],c:[[S,"hc","t"],[C,"l","vc"],[R,"hc","b"],[0,"r","vc"]],u:!0}],Or=[158,{g:[["x2",11,"r","ssd6"],["y2",11,"b","ssd6"],["il",15,"ssd6",29289,1e5],["ir",11,"r","il"],["ib",11,"b","il"]],p:[{s:[[0,"l","ssd6"],[2,"ssd6","ssd6",C,R],[1,"x2","t"],[2,"ssd6","ssd6",S,R],[1,"r","y2"],[2,"ssd6","ssd6",0,R],[1,"ssd6","b"],[2,"ssd6","ssd6",R,R],[5]]}],i:["il","il","ir","ib"],c:[[S,"hc","t"],[C,"l","vc"],[R,"hc","b"],[0,"r","vc"]]}],kr=[159,{g:[["y1",15,"h",4,5]],p:[{s:[[0,0,0],[1,1,0],[1,1,.8],[1,.5,1],[1,0,.8],[5]]}],i:["l","t","r","y1"],c:[[S,"hc","t"],[C,"l","vc"],[R,"hc","b"],[0,"r","vc"]],u:!0}],Ir=I(70),Br=I(110),_r=[175,{a:[["adj1",23520]],h:[[1,"l","y2","adj1",0,73490]],g:[["a1",20,0,"adj1",73490],["dx1",15,"w",73490,2e5],["dy1",15,"h",73490,2e5],["dx2",15,"ss","a1",2e5],["x1",11,"hc","dx1"],["x2",11,"hc","dx2"],["x3",10,"hc","dx2"],["x4",10,"hc","dx1"],["y1",11,"vc","dy1"],["y2",11,"vc","dx2"],["y3",10,"vc","dx2"],["y4",10,"vc","dy1"]],p:[{s:[[0,"x1","y2"],[1,"x2","y2"],[1,"x2","y1"],[1,"x3","y1"],[1,"x3","y2"],[1,"x4","y2"],[1,"x4","y3"],[1,"x3","y3"],[1,"x3","y4"],[1,"x2","y4"],[1,"x2","y3"],[1,"x1","y3"],[5]]}],i:["x1","y2","x4","y3"],c:[[0,"x4","vc"],[R,"hc","y4"],[C,"x1","vc"],[S,"hc","y1"]]}],Dr=[176,{a:[["adj1",23520]],h:[[1,"l","y1","adj1",0,1e5]],g:[["a1",20,0,"adj1",1e5],["dy1",15,"h","a1",2e5],["dx1",15,"w",73490,2e5],["y1",11,"vc","dy1"],["y2",10,"vc","dy1"],["x1",11,"hc","dx1"],["x2",10,"hc","dx1"]],p:[{s:[[0,"x1","y1"],[1,"x2","y1"],[1,"x2","y2"],[1,"x1","y2"],[5]]}],i:["x1","y1","x2","y2"],c:[[0,"x2","vc"],[R,"hc","y2"],[C,"x1","vc"],[S,"hc","y1"]],u:!0}],Fr=[177,{a:[["adj1",23520]],h:[[1,"l","th","adj1",0,51965]],g:[["a1",20,0,"adj1",51965],["th",15,"ss","a1",1e5],["a",4,"w","h"],["sa",8,1,"a"],["ca",5,1,"a"],["ta",9,1,"a"],["dl",12,"w","h"],["rw",15,"dl",51965,1e5],["lM",11,"dl","rw"],["xM",15,"ca","lM",2],["yM",15,"sa","lM",2],["dxAM",15,"sa","th",2],["dyAM",15,"ca","th",2],["xA",11,"xM","dxAM"],["yA",10,"yM","dyAM"],["xB",10,"xM","dxAM"],["yB",11,"yM","dyAM"],["xBC",11,"hc","xB"],["yBC",13,"xBC","ta"],["yC",10,"yBC","yB"],["xD",11,"r","xB"],["xE",11,"r","xA"],["yFE",11,"vc","yA"],["xFE",14,"yFE","ta"],["xF",11,"xE","xFE"],["xL",10,"xA","xFE"],["yG",11,"b","yA"],["yH",11,"b","yB"],["yI",11,"b","yC"],["xC2",11,"r","xM"],["yC3",11,"b","yM"]],p:[{s:[[0,"xA","yA"],[1,"xB","yB"],[1,"hc","yC"],[1,"xD","yB"],[1,"xE","yA"],[1,"xF","vc"],[1,"xE","yG"],[1,"xD","yH"],[1,"hc","yI"],[1,"xB","yH"],[1,"xA","yG"],[1,"xL","vc"],[5]]}],i:["xA","yB","xE","yH"],c:[[C,"xM","yM"],[S,"xC2","yM"],[0,"xC2","yC3"],[R,"xM","yC3"]]}],Nr=[178,{a:[["adj1",23520],["adj2",5880],["adj3",11760]],h:[[1,"l","y3","adj1",1e3,36745],[1,"r","y2","adj2",0,"maxAdj2"],[0,"x2","t","adj3",1e3,"maxAdj3"]],g:[["a1",20,1e3,"adj1",36745],["ma1",3,"a1"],["ma3h",17,73490,"ma1",4],["ma3w",15,36745,"w","h"],["maxAdj3",7,"ma3h","ma3w"],["a3",20,1e3,"adj3","maxAdj3"],["m4a3",13,-4,"a3"],["maxAdj2",16,73490,"m4a3","a1"],["a2",20,0,"adj2","maxAdj2"],["dy1",15,"h","a1",2e5],["yg",15,"h","a2",1e5],["rad",15,"h","a3",1e5],["dx1",15,"w",73490,2e5],["y3",11,"vc","dy1"],["y4",10,"vc","dy1"],["a",10,"yg","rad"],["y2",11,"y3","a"],["y1",11,"y2","rad"],["y5",11,"b","y1"],["x1",11,"hc","dx1"],["x3",10,"hc","dx1"],["x2",11,"hc","rad"]],p:[{s:[[0,"hc","y1"],[2,"rad","rad",S,A],[5],[0,"hc","y5"],[2,"rad","rad",R,A],[5],[0,"x1","y3"],[1,"x3","y3"],[1,"x3","y4"],[1,"x1","y4"],[5]]}],i:["x1","y3","x3","y4"],c:[[0,"x3","vc"],[R,"hc","y5"],[C,"x1","vc"],[S,"hc","y1"]]}],Ur=[179,{a:[["adj1",23520],["adj2",11760]],h:[[1,"l","y1","adj1",0,36745],[1,"r","y2","adj2",0,"mAdj2"]],g:[["a1",20,0,"adj1",36745],["2a1",13,"a1",2],["mAdj2",11,1e5,"2a1"],["a2",20,0,"adj2","mAdj2"],["dy1",15,"h","a1",1e5],["dy2",15,"h","a2",2e5],["dx1",15,"w",73490,2e5],["y2",11,"vc","dy2"],["y3",10,"vc","dy2"],["y1",11,"y2","dy1"],["y4",10,"y3","dy1"],["x1",11,"hc","dx1"],["x2",10,"hc","dx1"],["yC1",17,"y1","y2",2],["yC2",17,"y3","y4",2]],p:[{s:[[0,"x1","y1"],[1,"x2","y1"],[1,"x2","y2"],[1,"x1","y2"],[5],[0,"x1","y3"],[1,"x2","y3"],[1,"x2","y4"],[1,"x1","y4"],[5]]}],i:["x1","y1","x2","y4"],c:[[0,"x2","yC1"],[0,"x2","yC2"],[R,"hc","y4"],[C,"x1","yC1"],[C,"x1","yC2"],[S,"hc","y1"]],u:!0}],Lr=[180,{a:[["adj1",23520],["adj2",Br],["adj3",11760]],h:[[1,"l","y1","adj1",0,5e4],[4,"lx","t","adj2",Ir,Br],[1,"r","y2","adj3",0,"maxAdj3"]],g:[["a1",20,0,"adj1",5e4],["crAng",20,Ir,"adj2",Br],["2a1",13,"a1",2],["maxAdj3",11,1e5,"2a1"],["a3",20,0,"adj3","maxAdj3"],["dy1",15,"h","a1",1e5],["dy2",15,"h","a3",2e5],["dx1",15,"w",73490,2e5],["x1",11,"hc","dx1"],["x8",10,"hc","dx1"],["y2",11,"vc","dy2"],["y3",10,"vc","dy2"],["y1",11,"y2","dy1"],["y4",10,"y3","dy1"],["cadj2",11,"crAng",R],["xadj2",9,"hd2","cadj2"],["len",12,"xadj2","hd2"],["bhw",15,"len","dy1","hd2"],["bhw2",14,"bhw",2],["x7",16,"hc","xadj2","bhw2"],["dx67",15,"xadj2","y1","hd2"],["x6",11,"x7","dx67"],["dx57",15,"xadj2","y2","hd2"],["x5",11,"x7","dx57"],["dx47",15,"xadj2","y3","hd2"],["x4",11,"x7","dx47"],["dx37",15,"xadj2","y4","hd2"],["x3",11,"x7","dx37"],["dx27",13,"xadj2",2],["x2",11,"x7","dx27"],["rx7",10,"x7","bhw"],["rx6",10,"x6","bhw"],["rx5",10,"x5","bhw"],["rx4",10,"x4","bhw"],["rx3",10,"x3","bhw"],["rx2",10,"x2","bhw"],["dx7",15,"dy1","hd2","len"],["rxt",10,"x7","dx7"],["lxt",11,"rx7","dx7"],["rx",18,"cadj2","rxt","rx7"],["lx",18,"cadj2","x7","lxt"],["dy3",15,"dy1","xadj2","len"],["dy4",3,"dy3"],["ry",18,"cadj2","dy3","t"],["ly",18,"cadj2","t","dy4"],["dlx",11,"w","rx"],["drx",11,"w","lx"],["dly",11,"h","ry"],["dry",11,"h","ly"],["xC1",17,"rx","lx",2],["xC2",17,"drx","dlx",2],["yC1",17,"ry","ly",2],["yC2",17,"y1","y2",2],["yC3",17,"y3","y4",2],["yC4",17,"dry","dly",2]],p:[{s:[[0,"x1","y1"],[1,"x6","y1"],[1,"lx","ly"],[1,"rx","ry"],[1,"rx6","y1"],[1,"x8","y1"],[1,"x8","y2"],[1,"rx5","y2"],[1,"rx4","y3"],[1,"x8","y3"],[1,"x8","y4"],[1,"rx3","y4"],[1,"drx","dry"],[1,"dlx","dly"],[1,"x3","y4"],[1,"x1","y4"],[1,"x1","y3"],[1,"x4","y3"],[1,"x5","y2"],[1,"x1","y2"],[5]]}],i:["x1","y1","x8","y4"],c:[[0,"x8","yC2"],[0,"x8","yC3"],[R,"xC2","yC4"],[C,"x1","yC2"],[C,"x1","yC3"],[S,"xC1","yC1"]]}],qr=I(18),zr=I(306),$r=I(36),Hr=I(72),Vr=21600,Wr=[9,{a:[["hf",105146],["vf",110557]],g:[["swd2",15,"wd2","hf",1e5],["shd2",15,"hd2","vf",1e5],["svc",15,"vc","vf",1e5],["dx1",5,"swd2",qr],["dx2",5,"swd2",zr],["dy1",8,"shd2",qr],["dy2",8,"shd2",zr],["x1",11,"hc","dx1"],["x2",11,"hc","dx2"],["x3",10,"hc","dx2"],["x4",10,"hc","dx1"],["y1",11,"svc","dy1"],["y2",11,"svc","dy2"],["it",15,"y1","dx2","dx1"]],p:[{s:[[0,"x1","y1"],[1,"hc","t"],[1,"x4","y1"],[1,"x3","y2"],[1,"x2","y2"],[5]]}],i:["x2","it","x3","y2"],c:[[S,"hc","t"],[C,"x1","y1"],[R,"x2","y2"],[R,"hc","b"],[R,"x3","y2"],[0,"x4","y1"]],u:!0}],Gr=[10,{a:[["adj",25e3],["vf",115470]],h:[[0,"x1","t","adj",0,"maxAdj"]],g:[["maxAdj",15,5e4,"w","ss"],["a",20,0,"adj","maxAdj"],["shd2",15,"hd2","vf",1e5],["x1",15,"ss","a",1e5],["x2",11,"r","x1"],["dy1",8,"shd2",E],["y1",11,"vc","dy1"],["y2",10,"vc","dy1"],["q1",15,"maxAdj",-1,2],["q2",10,"a","q1"],["q3",18,"q2",4,2],["q4",18,"q2",3,2],["q5",18,"q2","q1",0],["q6",17,"a","q5","q1"],["q7",15,"q6","q4",-1],["q8",10,"q3","q7"],["il",15,"w","q8",24],["it",15,"h","q8",24],["ir",11,"r","il"],["ib",11,"b","it"]],p:[{s:[[0,"l","vc"],[1,"x1","y1"],[1,"x2","y1"],[1,"r","vc"],[1,"x2","y2"],[1,"x1","y2"],[5]]}],i:["il","it","ir","ib"],c:[[0,"r","vc"],[R,"x2","y2"],[R,"x1","y2"],[C,"l","vc"],[S,"x1","y1"],[S,"x2","y1"]]}],Kr=[11,{a:[["hf",102572],["vf",105210]],g:[["swd2",15,"wd2","hf",1e5],["shd2",15,"hd2","vf",1e5],["svc",15,"vc","vf",1e5],["dx1",15,"swd2",97493,1e5],["dx2",15,"swd2",78183,1e5],["dx3",15,"swd2",43388,1e5],["dy1",15,"shd2",62349,1e5],["dy2",15,"shd2",22252,1e5],["dy3",15,"shd2",90097,1e5],["x1",11,"hc","dx1"],["x2",11,"hc","dx2"],["x3",11,"hc","dx3"],["x4",10,"hc","dx3"],["x5",10,"hc","dx2"],["x6",10,"hc","dx1"],["y1",11,"svc","dy1"],["y2",10,"svc","dy2"],["y3",10,"svc","dy3"],["ib",11,"b","y1"]],p:[{s:[[0,"x1","y2"],[1,"x2","y1"],[1,"hc","t"],[1,"x5","y1"],[1,"x6","y2"],[1,"x4","y3"],[1,"x3","y3"],[5]]}],i:["x2","y1","x5","ib"],c:[[0,"x5","y1"],[0,"x6","y2"],[R,"x4","y3"],[R,"x3","y3"],[C,"x1","y2"],[C,"x2","y1"],[S,"hc","t"]],u:!0}],Qr=[12,{a:[["adj",29289]],h:[[0,"x1","t","adj",0,5e4]],g:[["a",20,0,"adj",5e4],["x1",15,"ss","a",1e5],["x2",11,"r","x1"],["y2",11,"b","x1"],["il",14,"x1",2],["ir",11,"r","il"],["ib",11,"b","il"]],p:[{s:[[0,"l","x1"],[1,"x1","t"],[1,"x2","t"],[1,"r","x1"],[1,"r","y2"],[1,"x2","b"],[1,"x1","b"],[1,"l","y2"],[5]]}],i:["il","il","ir","ib"],c:[[0,"r","x1"],[0,"r","y2"],[R,"x2","b"],[R,"x1","b"],[C,"l","y2"],[C,"l","x1"],[S,"x1","t"],[S,"x2","t"]]}],Yr=[13,{a:[["vf",105146]],g:[["shd2",15,"hd2","vf",1e5],["dx1",5,"wd2",$r],["dx2",5,"wd2",Hr],["x1",11,"hc","dx1"],["x2",11,"hc","dx2"],["x3",10,"hc","dx2"],["x4",10,"hc","dx1"],["dy1",8,"shd2",Hr],["dy2",8,"shd2",$r],["y1",11,"vc","dy1"],["y2",11,"vc","dy2"],["y3",10,"vc","dy2"],["y4",10,"vc","dy1"]],p:[{s:[[0,"l","vc"],[1,"x1","y2"],[1,"x2","y1"],[1,"x3","y1"],[1,"x4","y2"],[1,"r","vc"],[1,"x4","y3"],[1,"x3","y4"],[1,"x2","y4"],[1,"x1","y3"],[5]]}],i:["x1","y2","x4","y3"],c:[[0,"x4","y2"],[0,"r","vc"],[0,"x4","y3"],[R,"x3","y4"],[R,"x2","y4"],[C,"x1","y3"],[C,"l","vc"],[C,"x1","y2"],[S,"x2","y1"],[S,"x3","y1"]],u:!0}],Jr=[14,{g:[["x1",15,"w",2894,Vr],["x2",15,"w",7906,Vr],["x3",15,"w",13694,Vr],["x4",15,"w",18706,Vr],["y1",15,"h",2894,Vr],["y2",15,"h",7906,Vr],["y3",15,"h",13694,Vr],["y4",15,"h",18706,Vr]],p:[{s:[[0,"l","y2"],[1,"x1","y1"],[1,"x2","t"],[1,"x3","t"],[1,"x4","y1"],[1,"r","y2"],[1,"r","y3"],[1,"x4","y4"],[1,"x3","b"],[1,"x2","b"],[1,"x1","y4"],[1,"l","y3"],[5]]}],i:["x1","y1","x4","y4"],c:[[0,"x4","y1"],[0,"r","y2"],[0,"r","y3"],[0,"x4","y4"],[R,"x3","b"],[R,"x2","b"],[C,"x1","y4"],[C,"l","y3"],[C,"l","y2"],[C,"x1","y1"],[S,"x2","t"],[S,"x3","t"]],u:!0}],Xr=[130,{a:[["adj",25e3]],h:[[0,"x1","t","adj",0,5e4]],g:[["a",20,0,"adj",5e4],["x1",15,"ss","a",1e5],["x2",11,"r","x1"],["y2",11,"b","x1"],["d",11,"w","h"],["il",18,"d","l","x1"],["ir",18,"d","r","x2"],["it",18,"d","x1","t"],["ib",18,"d","y2","b"]],p:[{s:[[0,"l","x1"],[1,"x1","x1"],[1,"x1","t"],[1,"x2","t"],[1,"x2","x1"],[1,"r","x1"],[1,"r","y2"],[1,"x2","y2"],[1,"x2","b"],[1,"x1","b"],[1,"x1","y2"],[1,"l","y2"],[5]]}],i:["il","it","ir","ib"],c:[[S,"hc","t"],[C,"l","vc"],[R,"hc","b"],[0,"r","vc"]]}],Zr=[72,{a:[["adj",25e3]],h:[[0,"l","y1","adj",0,1e5]],g:[["a",20,0,"adj",1e5],["y1",15,"ss","a",1e5],["y4",11,"b","y1"],["y2",14,"y4",2],["y3",17,"y1","b",2],["x4",11,"r","y1"],["x2",14,"x4",2],["x3",17,"y1","r",2]],p:[{s:[[0,"l","y1"],[1,"x4","y1"],[1,"x4","b"],[1,"l","b"],[5]],l:!1},{s:[[0,"x4","y1"],[1,"r","t"],[1,"r","y4"],[1,"x4","b"],[5]],f:5,l:!1},{s:[[0,"l","y1"],[1,"y1","t"],[1,"r","t"],[1,"x4","y1"],[5]],f:3,l:!1},{s:[[0,"l","y1"],[1,"y1","t"],[1,"r","t"],[1,"r","y4"],[1,"x4","b"],[1,"l","b"],[5],[0,"l","y1"],[1,"x4","y1"],[1,"r","t"],[0,"x4","y1"],[1,"x4","b"]],f:0}],i:["l","y1","x4","b"],c:[[S,"x3","t"],[S,"x2","y1"],[C,"l","y3"],[R,"x2","b"],[0,"x4","y3"],[0,"r","y2"]]}],ti=[74,{g:[["x1",15,"w",5022,Vr],["x3",15,"w",8472,Vr],["x4",15,"w",8757,Vr],["x5",15,"w",10012,Vr],["x8",15,"w",12860,Vr],["x9",15,"w",13917,Vr],["x11",15,"w",16577,Vr],["y1",15,"h",3890,Vr],["y2",15,"h",6080,Vr],["y4",15,"h",7437,Vr],["y6",15,"h",9705,Vr],["y7",15,"h",12007,Vr],["y10",15,"h",14277,Vr],["y11",15,"h",14915,Vr]],p:[{s:[[0,.39222222222222225,0],[1,.5953703703703703,.2814814814814815],[1,.5115740740740741,.3146759259259259],[1,.7674537037037037,.5558796296296297],[1,.6836574074074074,.5961574074074074],[1,1,1],[1,.4635185185185185,.6905092592592592],[1,.5658333333333333,.6475462962962963],[1,.2325,.44930555555555557],[1,.35194444444444445,.38805555555555554],[1,0,.18009259259259258],[5]]}],i:["x4","y4","x9","y10"],c:[[S,"x3","t"],[S,"l","y1"],[C,"x1","y6"],[C,"x5","y11"],[R,"r","b"],[0,"x11","y7"],[0,"x8","y2"]],u:!0}],ei=[81,{a:[["adj",16667]],h:[[0,"x1","b","adj",0,5e4]],g:[["a",20,0,"adj",5e4],["dy2",15,"ss","a",1e5],["dy1",14,"dy2",5],["x1",11,"r","dy2"],["x2",10,"x1","dy1"],["y2",11,"b","dy2"],["y1",10,"y2","dy1"]],p:[{s:[[0,"l","t"],[1,"r","t"],[1,"r","y2"],[1,"x1","b"],[1,"l","b"],[5]],l:!1},{s:[[0,"x1","b"],[1,"x2","y1"],[1,"r","y2"],[5]],f:5,l:!1},{s:[[0,"x1","b"],[1,"x2","y1"],[1,"r","y2"],[1,"x1","b"],[1,"l","b"],[1,"l","t"],[1,"r","t"],[1,"r","y2"]],f:0}],i:["l","t","r","y2"],c:[[S,"hc","t"],[C,"l","vc"],[R,"hc","b"],[0,"r","vc"]]}],ni=[82,{a:[["adj",12500]],h:[[0,"x1","t","adj",0,5e4]],g:[["a",20,0,"adj",5e4],["x1",15,"ss","a",1e5],["x2",11,"r","x1"],["y2",11,"b","x1"]],p:[{s:[[0,"x1","x1"],[1,"x2","x1"],[1,"x2","y2"],[1,"x1","y2"],[5]],l:!1},{s:[[0,"l","t"],[1,"r","t"],[1,"x2","x1"],[1,"x1","x1"],[5]],f:3,l:!1},{s:[[0,"l","b"],[1,"x1","y2"],[1,"x2","y2"],[1,"r","b"],[5]],f:5,l:!1},{s:[[0,"l","t"],[1,"x1","x1"],[1,"x1","y2"],[1,"l","b"],[5]],f:2,l:!1},{s:[[0,"r","t"],[1,"r","b"],[1,"x2","y2"],[1,"x2","x1"],[5]],f:4,l:!1},{s:[[0,"l","t"],[1,"r","t"],[1,"r","b"],[1,"l","b"],[5],[0,"x1","x1"],[1,"x2","x1"],[1,"x2","y2"],[1,"x1","y2"],[5],[0,"l","t"],[1,"x1","x1"],[0,"l","b"],[1,"x1","y2"],[0,"r","t"],[1,"x2","x1"],[0,"r","b"],[1,"x2","y2"]],f:0}],i:["x1","x1","x2","y2"],c:[[0,"r","vc"],[0,"x2","vc"],[R,"hc","b"],[R,"hc","y2"],[C,"l","vc"],[C,"x1","vc"],[S,"hc","t"],[S,"hc","x1"]]}],ri=[84,{a:[["adj1",33333],["adj2",33333]],h:[[1,"l","y1","adj1",0,"maxAdj1"],[0,"x1","t","adj2",0,"maxAdj2"]],g:[["maxAdj2",15,1e5,"w","ss"],["a2",20,0,"adj2","maxAdj2"],["x1",15,"ss","a2",1e5],["g1",15,"h","x1","w"],["g2",11,"h","g1"],["maxAdj1",15,1e5,"g2","ss"],["a1",20,0,"adj1","maxAdj1"],["y1",15,"ss","a1",1e5],["dx2",15,"y1","w","h"],["x2",11,"r","dx2"],["dy2",15,"x1","h","w"],["y2",11,"b","dy2"],["cx1",14,"x1",2],["cy1",17,"y2","b",2],["cx2",17,"x2","r",2],["cy2",14,"y1",2]],p:[{s:[[0,"l","t"],[1,"r","t"],[1,"x2","y1"],[1,"x1","y1"],[1,"x1","y2"],[1,"l","b"],[5]]}],i:["l","t","r","b"],c:[[0,"cx2","cy2"],[R,"cx1","cy1"],[C,"l","vc"],[S,"hc","t"]]}],ii=[85,{a:[["adj1",5e4],["adj2",5e4]],h:[[1,"l","y1","adj1",0,"maxAdj1"],[0,"x1","t","adj2",0,"maxAdj2"]],g:[["maxAdj1",15,1e5,"h","ss"],["maxAdj2",15,1e5,"w","ss"],["a1",20,0,"adj1","maxAdj1"],["a2",20,0,"adj2","maxAdj2"],["x1",15,"ss","a2",1e5],["dy1",15,"ss","a1",1e5],["y1",11,"b","dy1"],["cx1",14,"x1",2],["cy1",17,"y1","b",2],["d",11,"w","h"],["it",18,"d","y1","t"],["ir",18,"d","r","x1"]],p:[{s:[[0,"l","t"],[1,"x1","t"],[1,"x1","y1"],[1,"r","y1"],[1,"r","b"],[1,"l","b"],[5]]}],i:["l","it","ir","b"],c:[[0,"r","cy1"],[R,"hc","b"],[C,"l","vc"],[S,"cx1","t"]]}],oi=[5,{g:[["ir",15,"w",3,4],["ib",15,"h",3,4]],p:[{s:[[0,"l","vc"],[1,"hc","t"],[1,"r","vc"],[1,"hc","b"],[5]]}],i:["wd4","hd4","ir","ib"],c:[[S,"hc","t"],[C,"l","vc"],[R,"hc","b"],[0,"r","vc"]],u:!0}],si=[6,{a:[["adj",25e3]],h:[[0,"x2","t","adj",0,"maxAdj"]],g:[["maxAdj",15,1e5,"w","ss"],["a",20,0,"adj","maxAdj"],["x1",15,"ss","a",2e5],["x2",15,"ss","a",1e5],["x6",11,"r","x1"],["x5",11,"r","x2"],["x3",14,"x5",2],["x4",11,"r","x3"],["il",15,"wd2","a","maxAdj"],["q1",15,5,"a","maxAdj"],["q2",17,1,"q1",12],["il",13,"q2","w"],["it",13,"q2","h"],["ir",11,"r","il"],["ib",11,"b","it"],["q3",15,"h","hc","x2"],["y1",20,0,"q3","h"],["y2",11,"b","y1"]],p:[{s:[[0,"l","b"],[1,"x2","t"],[1,"r","t"],[1,"x5","b"],[5]]}],i:["il","it","ir","ib"],c:[[S,"hc","y2"],[S,"x4","t"],[0,"x6","vc"],[R,"x3","b"],[R,"hc","y1"],[C,"x1","vc"]]}],ai=[7,{a:[["adj",25e3]],h:[[0,"x2","t","adj",0,"maxAdj"]],g:[["maxAdj",15,5e4,"w","ss"],["a",20,0,"adj","maxAdj"],["x1",15,"ss","a",2e5],["x2",15,"ss","a",1e5],["x3",11,"r","x2"],["x4",11,"r","x1"],["il",15,"wd3","a","maxAdj"],["it",15,"hd3","a","maxAdj"],["ir",11,"r","il"]],p:[{s:[[0,"l","b"],[1,"x2","t"],[1,"x3","t"],[1,"r","b"],[5]]}],i:["il","it","ir","b"],c:[[S,"hc","t"],[C,"x1","vc"],[R,"hc","b"],[0,"x4","vc"]]}],ci=[83,{a:[["adj1",12500]],h:[[0,"x1","t","adj1",0,5e4]],g:[["a1",20,0,"adj1",5e4],["x1",15,"ss","a1",1e5],["x4",11,"r","x1"],["y4",11,"b","x1"]],p:[{s:[[0,"l","t"],[1,"r","t"],[1,"r","b"],[1,"l","b"],[5],[0,"x1","x1"],[1,"x1","y4"],[1,"x4","y4"],[1,"x4","x1"],[5]]}],i:["x1","x1","x4","y4"],c:[[S,"hc","t"],[C,"l","vc"],[R,"hc","b"],[0,"r","vc"]]}],hi=[86,{a:[["adj",5e4]],h:[[1,"l","y2","adj",0,1e5]],g:[["a",20,0,"adj",1e5],["x2",15,"w","a",1e5],["x1",14,"x2",2],["x3",17,"x2","r",2],["y2",15,"h","a",1e5],["y1",14,"y2",2],["y3",17,"y2","b",2]],p:[{s:[[0,"l","y2"],[1,"x2","t"],[1,"r","t"],[1,"l","b"],[5]]}],i:["l","t","x3","y3"],c:[[0,"hc","vc"],[C,"l","y3"],[C,"x1","y1"],[S,"x3","t"]],u:!0}],li={p:[{s:[[0,"l","t"],[1,"r","t"],[1,"r","b"],[1,"l","b"],[5]]}],i:["l","t","r","b"],c:[[S,"hc","t"],[C,"l","vc"],[R,"hc","b"],[0,"r","vc"]],u:!0},di=[4,li],ui=[25,{a:[["adj",16667]],h:[[0,"x1","t","adj",0,5e4]],g:[["a",20,0,"adj",5e4],["x1",15,"ss","a",1e5],["x2",11,"r","x1"],["y2",11,"b","x1"],["il",15,"x1",29289,1e5],["ir",11,"r","il"],["ib",11,"b","il"]],p:[{s:[[0,"l","x1"],[2,"x1","x1",C,R],[1,"x2","t"],[2,"x1","x1",S,R],[1,"r","y2"],[2,"x1","x1",0,R],[1,"x1","b"],[2,"x1","x1",R,R],[5]]}],i:["il","il","ir","ib"],c:[[S,"hc","t"],[C,"l","vc"],[R,"hc","b"],[0,"r","vc"]]}],pi=[26,{a:[["adj",16667]],h:[[0,"x1","t","adj",0,5e4]],g:[["a",20,0,"adj",5e4],["dx1",15,"ss","a",1e5],["x1",11,"r","dx1"],["idx",15,"dx1",29289,1e5],["ir",11,"r","idx"]],p:[{s:[[0,"l","t"],[1,"x1","t"],[2,"dx1","dx1",S,R],[1,"r","b"],[1,"l","b"],[5]]}],i:["l","t","ir","b"],c:[[S,"hc","t"],[C,"l","vc"],[R,"hc","b"],[0,"r","vc"]]}],fi=[27,{a:[["adj1",16667],["adj2",0]],h:[[0,"tx2","t","adj1",0,5e4],[0,"bx1","b","adj2",0,5e4]],g:[["a1",20,0,"adj1",5e4],["a2",20,0,"adj2",5e4],["tx1",15,"ss","a1",1e5],["tx2",11,"r","tx1"],["bx1",15,"ss","a2",1e5],["bx2",11,"r","bx1"],["by1",11,"b","bx1"],["d",11,"tx1","bx1"],["tdx",15,"tx1",29289,1e5],["bdx",15,"bx1",29289,1e5],["il",18,"d","tdx","bdx"],["ir",11,"r","il"],["ib",11,"b","bdx"]],p:[{s:[[0,"tx1","t"],[1,"tx2","t"],[2,"tx1","tx1",S,R],[1,"r","by1"],[2,"bx1","bx1",0,R],[1,"bx1","b"],[2,"bx1","bx1",R,R],[1,"l","tx1"],[2,"tx1","tx1",C,R],[5]]}],i:["il","tdx","ir","ib"],c:[[0,"r","vc"],[R,"hc","b"],[C,"l","vc"],[S,"hc","t"]]}],yi=[29,{a:[["adj1",16667],["adj2",16667]],h:[[0,"x1","t","adj1",0,5e4],[0,"x2","t","adj2",0,5e4]],g:[["a1",20,0,"adj1",5e4],["a2",20,0,"adj2",5e4],["x1",15,"ss","a1",1e5],["dx2",15,"ss","a2",1e5],["x2",11,"r","dx2"],["il",15,"x1",29289,1e5],["ir",17,"x2","r",2]],p:[{s:[[0,"x1","t"],[1,"x2","t"],[1,"r","dx2"],[1,"r","b"],[1,"l","b"],[1,"l","x1"],[2,"x1","x1",C,R],[5]]}],i:["il","il","ir","b"],c:[[0,"r","vc"],[R,"hc","b"],[C,"l","vc"],[S,"hc","t"]]}],gi=[30,{a:[["adj",16667]],h:[[0,"x1","t","adj",0,5e4]],g:[["a",20,0,"adj",5e4],["dx1",15,"ss","a",1e5],["x1",11,"r","dx1"],["it",15,"dx1",1,2],["ir",17,"x1","r",2]],p:[{s:[[0,"l","t"],[1,"x1","t"],[1,"r","dx1"],[1,"r","b"],[1,"l","b"],[5]]}],i:["l","it","ir","b"],c:[[0,"r","vc"],[R,"hc","b"],[C,"l","vc"],[S,"hc","t"]]}],xi=[31,{a:[["adj1",16667],["adj2",0]],h:[[0,"tx2","t","adj1",0,5e4],[0,"bx1","b","adj2",0,5e4]],g:[["a1",20,0,"adj1",5e4],["a2",20,0,"adj2",5e4],["tx1",15,"ss","a1",1e5],["tx2",11,"r","tx1"],["bx1",15,"ss","a2",1e5],["bx2",11,"r","bx1"],["by1",11,"b","bx1"],["d",11,"tx1","bx1"],["dx",18,"d","tx1","bx1"],["il",15,"dx",1,2],["ir",11,"r","il"],["it",15,"tx1",1,2],["ib",17,"by1","b",2]],p:[{s:[[0,"tx1","t"],[1,"tx2","t"],[1,"r","tx1"],[1,"r","by1"],[1,"bx2","b"],[1,"bx1","b"],[1,"l","by1"],[1,"l","tx1"],[5]]}],i:["il","it","ir","ib"],c:[[0,"r","vc"],[R,"hc","b"],[C,"l","vc"],[S,"hc","t"]]}],vi=[32,{a:[["adj1",0],["adj2",16667]],h:[[0,"lx1","t","adj1",0,5e4],[0,"rx2","t","adj2",0,5e4]],g:[["a1",20,0,"adj1",5e4],["a2",20,0,"adj2",5e4],["lx1",15,"ss","a1",1e5],["lx2",11,"r","lx1"],["ly1",11,"b","lx1"],["rx1",15,"ss","a2",1e5],["rx2",11,"r","rx1"],["ry1",11,"b","rx1"],["d",11,"lx1","rx1"],["dx",18,"d","lx1","rx1"],["il",15,"dx",1,2],["ir",11,"r","il"],["ib",11,"b","il"]],p:[{s:[[0,"lx1","t"],[1,"rx2","t"],[1,"r","rx1"],[1,"r","ly1"],[1,"lx2","b"],[1,"rx1","b"],[1,"l","ry1"],[1,"l","lx1"],[5]]}],i:["il","il","ir","ib"],c:[[0,"r","vc"],[R,"hc","b"],[C,"l","vc"],[S,"hc","t"]]}],mi=[28,{a:[["adj1",16667],["adj2",0]],h:[[0,"x1","t","adj1",0,5e4],[0,"x2","t","adj2",0,5e4]],g:[["a1",20,0,"adj1",5e4],["a2",20,0,"adj2",5e4],["x1",15,"ss","a1",1e5],["y1",11,"b","x1"],["a",15,"ss","a2",1e5],["x2",11,"r","a"],["y2",11,"b","a"],["dx1",15,"x1",29289,1e5],["dx2",15,"a",29289,1e5],["d",11,"dx1","dx2"],["dx",18,"d","dx1","dx2"],["ir",11,"r","dx"],["ib",11,"b","dx"]],p:[{s:[[0,"x1","t"],[1,"x2","t"],[2,"a","a",S,R],[1,"r","y1"],[2,"x1","x1",0,R],[1,"a","b"],[2,"a","a",R,R],[1,"l","x1"],[2,"x1","x1",C,R],[5]]}],i:["dx","dx","ir","ib"],c:[[0,"r","vc"],[R,"hc","b"],[C,"l","vc"],[S,"hc","t"]]}],wi=[121,{a:[["adj1",16667],["adj2",5e4]],h:[[1,"hc","y2","adj1",0,33333],[0,"x2","t","adj2",25e3,75e3]],g:[["a1",20,0,"adj1",33333],["a2",20,25e3,"adj2",75e3],["x10",11,"r","wd8"],["dx2",15,"w","a2",2e5],["x2",11,"hc","dx2"],["x9",10,"hc","dx2"],["x3",10,"x2","wd32"],["x8",11,"x9","wd32"],["x5",10,"x2","wd8"],["x6",11,"x9","wd8"],["x4",11,"x5","wd32"],["x7",10,"x6","wd32"],["y1",15,"h","a1",2e5],["y2",15,"h","a1",1e5],["y4",11,"b","y2"],["y3",14,"y4",2],["hR",15,"h","a1",4e5],["y5",11,"b","hR"],["y6",11,"y2","hR"]],p:[{s:[[0,"l","t"],[1,"x4","t"],[2,"wd32","hR",S,C],[1,"x3","y1"],[2,"wd32","hR",S,-C],[1,"x8","y2"],[2,"wd32","hR",R,-C],[1,"x7","y1"],[2,"wd32","hR",R,C],[1,"r","t"],[1,"x10","y3"],[1,"r","y4"],[1,"x9","y4"],[1,"x9","y5"],[2,"wd32","hR",0,R],[1,"x3","b"],[2,"wd32","hR",R,R],[1,"x2","y4"],[1,"l","y4"],[1,"wd8","y3"],[5]],l:!1},{s:[[0,"x5","hR"],[2,"wd32","hR",0,R],[1,"x3","y1"],[2,"wd32","hR",S,-C],[1,"x5","y2"],[5],[0,"x6","hR"],[2,"wd32","hR",C,-R],[1,"x8","y1"],[2,"wd32","hR",S,C],[1,"x6","y2"],[5]],f:5,l:!1},{s:[[0,"l","t"],[1,"x4","t"],[2,"wd32","hR",S,C],[1,"x3","y1"],[2,"wd32","hR",S,-C],[1,"x8","y2"],[2,"wd32","hR",R,-C],[1,"x7","y1"],[2,"wd32","hR",R,C],[1,"r","t"],[1,"x10","y3"],[1,"r","y4"],[1,"x9","y4"],[1,"x9","y5"],[2,"wd32","hR",0,R],[1,"x3","b"],[2,"wd32","hR",R,R],[1,"x2","y4"],[1,"l","y4"],[1,"wd8","y3"],[5],[0,"x5","hR"],[1,"x5","y2"],[0,"x6","y2"],[1,"x6","hR"],[0,"x2","y4"],[1,"x2","y6"],[0,"x9","y6"],[1,"x9","y4"]],f:0}],i:["x2","y2","x9","b"],c:[[S,"hc","y2"],[C,"wd8","y3"],[R,"hc","b"],[0,"x10","y3"]]}],bi=[122,{a:[["adj1",16667],["adj2",5e4]],h:[[1,"hc","y2","adj1",0,33333],[0,"x2","b","adj2",25e3,75e3]],g:[["a1",20,0,"adj1",33333],["a2",20,25e3,"adj2",75e3],["x10",11,"r","wd8"],["dx2",15,"w","a2",2e5],["x2",11,"hc","dx2"],["x9",10,"hc","dx2"],["x3",10,"x2","wd32"],["x8",11,"x9","wd32"],["x5",10,"x2","wd8"],["x6",11,"x9","wd8"],["x4",11,"x5","wd32"],["x7",10,"x6","wd32"],["dy1",15,"h","a1",2e5],["y1",11,"b","dy1"],["dy2",15,"h","a1",1e5],["y2",11,"b","dy2"],["y4",10,"t","dy2"],["y3",17,"y4","b",2],["hR",15,"h","a1",4e5],["y6",11,"b","hR"],["y7",11,"y1","hR"]],p:[{s:[[0,"l","b"],[1,"x4","b"],[2,"wd32","hR",R,-C],[1,"x3","y1"],[2,"wd32","hR",R,C],[1,"x8","y2"],[2,"wd32","hR",S,C],[1,"x7","y1"],[2,"wd32","hR",S,-C],[1,"r","b"],[1,"x10","y3"],[1,"r","y4"],[1,"x9","y4"],[1,"x9","hR"],[2,"wd32","hR",0,-R],[1,"x3","t"],[2,"wd32","hR",S,-R],[1,"x2","y4"],[1,"l","y4"],[1,"wd8","y3"],[5]],l:!1},{s:[[0,"x5","y6"],[2,"wd32","hR",0,-R],[1,"x3","y1"],[2,"wd32","hR",R,C],[1,"x5","y2"],[5],[0,"x6","y6"],[2,"wd32","hR",C,R],[1,"x8","y1"],[2,"wd32","hR",R,-C],[1,"x6","y2"],[5]],f:5,l:!1},{s:[[0,"l","b"],[1,"wd8","y3"],[1,"l","y4"],[1,"x2","y4"],[1,"x2","hR"],[2,"wd32","hR",C,R],[1,"x8","t"],[2,"wd32","hR",S,R],[1,"x9","y4"],[1,"x9","y4"],[1,"r","y4"],[1,"x10","y3"],[1,"r","b"],[1,"x7","b"],[2,"wd32","hR",R,C],[1,"x8","y1"],[2,"wd32","hR",R,-C],[1,"x3","y2"],[2,"wd32","hR",S,-C],[1,"x4","y1"],[2,"wd32","hR",S,C],[5],[0,"x5","y2"],[1,"x5","y6"],[0,"x6","y6"],[1,"x6","y2"],[0,"x2","y7"],[1,"x2","y4"],[0,"x9","y4"],[1,"x9","y7"]],f:0}],i:["x2","t","x9","y2"],c:[[S,"hc","t"],[C,"wd8","y3"],[R,"hc","y2"],[0,"x10","y3"]]}],Pi=[123,{a:[["adj1",25e3],["adj2",5e4],["adj3",12500]],h:[[1,"hc","q1","adj1",0,1e5],[0,"x2","b","adj2",25e3,75e3],[1,"l","y8","adj3","minAdj3","a1"]],g:[["a1",20,0,"adj1",1e5],["a2",20,25e3,"adj2",75e3],["q10",11,1e5,"a1"],["q11",14,"q10",2],["q12",11,"a1","q11"],["minAdj3",6,0,"q12"],["a3",20,"minAdj3","adj3","a1"],["dx2",15,"w","a2",2e5],["x2",11,"hc","dx2"],["x3",10,"x2","wd8"],["x4",11,"r","x3"],["x5",11,"r","x2"],["x6",11,"r","wd8"],["dy1",15,"h","a3",1e5],["f1",15,4,"dy1","w"],["q1",15,"x3","x3","w"],["q2",11,"x3","q1"],["y1",13,"f1","q2"],["cx1",14,"x3",2],["cy1",13,"f1","cx1"],["cx2",11,"r","cx1"],["q1",15,"h","a1",1e5],["dy3",11,"q1","dy1"],["q3",15,"x2","x2","w"],["q4",11,"x2","q3"],["q5",13,"f1","q4"],["y3",10,"q5","dy3"],["q6",16,"dy1","dy3","y3"],["q7",10,"q6","dy1"],["cy3",10,"q7","dy3"],["rh",11,"b","q1"],["q8",15,"dy1",14,16],["y2",17,"q8","rh",2],["y5",10,"q5","rh"],["y6",10,"y3","rh"],["cx4",14,"x2",2],["q9",13,"f1","cx4"],["cy4",10,"q9","rh"],["cx5",11,"r","cx4"],["cy6",10,"cy3","rh"],["y7",10,"y1","dy3"],["cy7",16,"q1","q1","y7"],["y8",11,"b","dy1"]],p:[{s:[[0,"l","t"],[3,"cx1","cy1","x3","y1"],[1,"x2","y3"],[3,"hc","cy3","x5","y3"],[1,"x4","y1"],[3,"cx2","cy1","r","t"],[1,"x6","y2"],[1,"r","rh"],[3,"cx5","cy4","x5","y5"],[1,"x5","y6"],[3,"hc","cy6","x2","y6"],[1,"x2","y5"],[3,"cx4","cy4","l","rh"],[1,"wd8","y2"],[5]],l:!1},{s:[[0,"x3","y7"],[1,"x3","y1"],[1,"x2","y3"],[3,"hc","cy3","x5","y3"],[1,"x4","y1"],[1,"x4","y7"],[3,"hc","cy7","x3","y7"],[5]],f:5,l:!1},{s:[[0,"l","t"],[3,"cx1","cy1","x3","y1"],[1,"x2","y3"],[3,"hc","cy3","x5","y3"],[1,"x4","y1"],[3,"cx2","cy1","r","t"],[1,"x6","y2"],[1,"r","rh"],[3,"cx5","cy4","x5","y5"],[1,"x5","y6"],[3,"hc","cy6","x2","y6"],[1,"x2","y5"],[3,"cx4","cy4","l","rh"],[1,"wd8","y2"],[5],[0,"x2","y5"],[1,"x2","y3"],[0,"x5","y3"],[1,"x5","y5"],[0,"x3","y1"],[1,"x3","y7"],[0,"x4","y7"],[1,"x4","y1"]],f:0}],i:["x2","q1","x5","y6"],c:[[S,"hc","q1"],[C,"wd8","y2"],[R,"hc","b"],[0,"x6","y2"]]}],Ci=[124,{a:[["adj1",25e3],["adj2",5e4],["adj3",12500]],h:[[1,"hc","rh","adj1",0,1e5],[0,"x2","t","adj2",25e3,1e5],[1,"l","dy1","adj3","minAdj3","a1"]],g:[["a1",20,0,"adj1",1e5],["a2",20,25e3,"adj2",75e3],["q10",11,1e5,"a1"],["q11",14,"q10",2],["q12",11,"a1","q11"],["minAdj3",6,0,"q12"],["a3",20,"minAdj3","adj3","a1"],["dx2",15,"w","a2",2e5],["x2",11,"hc","dx2"],["x3",10,"x2","wd8"],["x4",11,"r","x3"],["x5",11,"r","x2"],["x6",11,"r","wd8"],["dy1",15,"h","a3",1e5],["f1",15,4,"dy1","w"],["q1",15,"x3","x3","w"],["q2",11,"x3","q1"],["u1",13,"f1","q2"],["y1",11,"b","u1"],["cx1",14,"x3",2],["cu1",13,"f1","cx1"],["cy1",11,"b","cu1"],["cx2",11,"r","cx1"],["q1",15,"h","a1",1e5],["dy3",11,"q1","dy1"],["q3",15,"x2","x2","w"],["q4",11,"x2","q3"],["q5",13,"f1","q4"],["u3",10,"q5","dy3"],["y3",11,"b","u3"],["q6",16,"dy1","dy3","u3"],["q7",10,"q6","dy1"],["cu3",10,"q7","dy3"],["cy3",11,"b","cu3"],["rh",11,"b","q1"],["q8",15,"dy1",14,16],["u2",17,"q8","rh",2],["y2",11,"b","u2"],["u5",10,"q5","rh"],["y5",11,"b","u5"],["u6",10,"u3","rh"],["y6",11,"b","u6"],["cx4",14,"x2",2],["q9",13,"f1","cx4"],["cu4",10,"q9","rh"],["cy4",11,"b","cu4"],["cx5",11,"r","cx4"],["cu6",10,"cu3","rh"],["cy6",11,"b","cu6"],["u7",10,"u1","dy3"],["y7",11,"b","u7"],["cu7",16,"q1","q1","u7"],["cy7",11,"b","cu7"]],p:[{s:[[0,"l","b"],[3,"cx1","cy1","x3","y1"],[1,"x2","y3"],[3,"hc","cy3","x5","y3"],[1,"x4","y1"],[3,"cx2","cy1","r","b"],[1,"x6","y2"],[1,"r","q1"],[3,"cx5","cy4","x5","y5"],[1,"x5","y6"],[3,"hc","cy6","x2","y6"],[1,"x2","y5"],[3,"cx4","cy4","l","q1"],[1,"wd8","y2"],[5]],l:!1},{s:[[0,"x3","y7"],[1,"x3","y1"],[1,"x2","y3"],[3,"hc","cy3","x5","y3"],[1,"x4","y1"],[1,"x4","y7"],[3,"hc","cy7","x3","y7"],[5]],f:5,l:!1},{s:[[0,"l","b"],[1,"wd8","y2"],[1,"l","q1"],[3,"cx4","cy4","x2","y5"],[1,"x2","y6"],[3,"hc","cy6","x5","y6"],[1,"x5","y5"],[3,"cx5","cy4","r","q1"],[1,"x6","y2"],[1,"r","b"],[3,"cx2","cy1","x4","y1"],[1,"x5","y3"],[3,"hc","cy3","x2","y3"],[1,"x3","y1"],[3,"cx1","cy1","l","b"],[5],[0,"x2","y3"],[1,"x2","y5"],[0,"x5","y5"],[1,"x5","y3"],[0,"x3","y7"],[1,"x3","y1"],[0,"x4","y1"],[1,"x4","y7"]],f:0}],i:["x2","y6","x5","rh"],c:[[S,"hc","t"],[C,"wd8","y2"],[R,"hc","rh"],[0,"x6","y2"]]}],Ai=[125,{a:[["adj1",5e4],["adj2",5e4],["adj3",16667]],h:[[1,"x4","ry2","adj1",0,"maxAdj1"],[0,"x1","t","adj2",0,"maxAdj2"],[1,"x3","ry2","adj3",0,33333]],g:[["a3",20,0,"adj3",33333],["maxAdj1",11,1e5,"a3"],["a1",20,0,"adj1","maxAdj1"],["w1",11,"wd2","wd32"],["maxAdj2",15,1e5,"w1","ss"],["a2",20,0,"adj2","maxAdj2"],["x1",15,"ss","a2",1e5],["x4",11,"r","x1"],["dy1",15,"h","a1",2e5],["dy2",15,"h","a3",-2e5],["ly1",16,"vc","dy2","dy1"],["ry4",16,"vc","dy1","dy2"],["ly2",10,"ly1","dy1"],["ry3",11,"b","ly2"],["ly4",15,"ly2",2,1],["ry1",11,"b","ly4"],["ly3",11,"ly4","ly1"],["ry2",11,"b","ly3"],["hR",15,"a3","ss",4e5],["x2",11,"hc","wd32"],["x3",10,"hc","wd32"],["y1",10,"ly1","hR"],["y2",11,"ry2","hR"]],p:[{s:[[0,"l","ly2"],[1,"x1","t"],[1,"x1","ly1"],[1,"hc","ly1"],[2,"wd32","hR",S,C],[2,"wd32","hR",S,-C],[1,"x4","ry2"],[1,"x4","ry1"],[1,"r","ry3"],[1,"x4","b"],[1,"x4","ry4"],[1,"hc","ry4"],[2,"wd32","hR",R,R],[1,"x2","ly3"],[1,"x1","ly3"],[1,"x1","ly4"],[5]]},{s:[[0,"x3","y1"],[2,"wd32","hR",0,R],[2,"wd32","hR",S,-C],[1,"x3","ry2"],[5]],f:5,l:!1},{s:[[0,"x3","y1"],[1,"x3","ry2"],[0,"x2","y2"],[1,"x2","ly3"]],f:0}],i:["x1","ly1","x4","ry4"],c:[[0,"r","ry3"],[R,"x4","b"],[R,"x1","ly4"],[C,"l","ly2"],[S,"x1","t"],[S,"x4","ry1"]]}],ji=[126,{a:[["adj",12500]],h:[[1,"l","ch","adj",0,25e3]],g:[["a",20,0,"adj",25e3],["ch",15,"ss","a",1e5],["ch2",14,"ch",2],["ch4",14,"ch",4],["x3",10,"ch","ch2"],["x4",10,"ch","ch"],["x6",11,"r","ch"],["x7",11,"r","ch2"],["x5",11,"x6","ch2"],["y3",11,"b","ch"],["y4",11,"b","ch2"]],p:[{s:[[0,"ch2","b"],[2,"ch2","ch2",R,-R],[1,"ch2","y4"],[2,"ch4","ch4",R,-C],[1,"ch","y3"],[1,"ch","ch2"],[2,"ch2","ch2",C,R],[1,"x7","t"],[2,"ch2","ch2",S,C],[1,"x6","ch"],[1,"x6","y4"],[2,"ch2","ch2",0,R],[5],[0,"x4","ch2"],[2,"ch2","ch2",0,R],[2,"ch4","ch4",R,C],[5]],l:!1},{s:[[0,"x4","ch2"],[2,"ch2","ch2",0,R],[2,"ch4","ch4",R,C],[5],[0,"ch","y4"],[2,"ch2","ch2",0,S],[2,"ch4","ch4",S,C],[5]],f:5},{s:[[0,"ch","y3"],[1,"ch","ch2"],[2,"ch2","ch2",C,R],[1,"x7","t"],[2,"ch2","ch2",S,C],[1,"x6","ch"],[1,"x6","y4"],[2,"ch2","ch2",0,R],[1,"ch2","b"],[2,"ch2","ch2",R,C],[5],[0,"x3","t"],[2,"ch2","ch2",S,C],[2,"ch4","ch4",R,C],[1,"x4","ch2"],[0,"x6","ch"],[1,"x3","ch"],[0,"ch2","y3"],[2,"ch4","ch4",S,C],[1,"ch","y4"],[0,"ch2","b"],[2,"ch2","ch2",R,-R],[1,"ch","y3"]],f:0}],i:["ch","ch","x6","y4"],c:[[S,"hc","t"],[0,"ch","vc"],[R,"hc","b"],[C,"x6","vc"]]}],Ti=[127,{a:[["adj",12500]],h:[[0,"ch","t","adj",0,25e3]],g:[["a",20,0,"adj",25e3],["ch",15,"ss","a",1e5],["ch2",14,"ch",2],["ch4",14,"ch",4],["y3",10,"ch","ch2"],["y4",10,"ch","ch"],["y6",11,"b","ch"],["y7",11,"b","ch2"],["y5",11,"y6","ch2"],["x3",11,"r","ch"],["x4",11,"r","ch2"]],p:[{s:[[0,"r","ch2"],[2,"ch2","ch2",0,R],[1,"x4","ch2"],[2,"ch4","ch4",0,C],[1,"x3","ch"],[1,"ch2","ch"],[2,"ch2","ch2",S,-R],[1,"l","y7"],[2,"ch2","ch2",C,-C],[1,"ch","y6"],[1,"x4","y6"],[2,"ch2","ch2",R,-R],[5],[0,"ch2","y4"],[2,"ch2","ch2",R,-R],[2,"ch4","ch4",0,-C],[5]],l:!1},{s:[[0,"ch2","y4"],[2,"ch2","ch2",R,-R],[2,"ch4","ch4",0,-C],[5],[0,"x4","ch"],[2,"ch2","ch2",R,-S],[2,"ch4","ch4",C,-C],[5]],f:5,l:!1},{s:[[0,"l","y3"],[2,"ch2","ch2",C,R],[1,"x3","ch"],[1,"x3","ch2"],[2,"ch2","ch2",C,C],[1,"r","y5"],[2,"ch2","ch2",0,R],[1,"ch","y6"],[1,"ch","y7"],[2,"ch2","ch2",0,C],[5],[0,"x3","ch"],[1,"x4","ch"],[2,"ch2","ch2",R,-R],[0,"x4","ch"],[1,"x4","ch2"],[2,"ch4","ch4",0,C],[0,"ch2","y4"],[1,"ch2","y3"],[2,"ch4","ch4",C,C],[2,"ch2","ch2",0,C],[0,"ch","y3"],[1,"ch","y6"]],f:0}],i:["ch","ch","x4","y6"],c:[[R,"hc","ch"],[C,"l","vc"],[S,"hc","y6"],[0,"r","vc"]]}],Si=I(18),Ri=I(54),Ei=I(75),Mi=I(306),Oi=I(342),ki=[[2,{a:[["adj",5e4]],h:[[0,"x2","t","adj",0,1e5]],g:[["a",20,0,"adj",1e5],["x1",15,"w","a",2e5],["x2",15,"w","a",1e5],["x3",10,"x1","wd2"]],p:[{s:[[0,"l","b"],[1,"x2","t"],[1,"r","b"],[5]]}],i:["x1","vc","x3","b"],c:[[S,"x2","t"],[C,"x1","vc"],[R,"l","b"],[R,"x2","b"],[R,"r","b"],[0,"x3","vc"]],u:!0}],[3,{g:[["it",15,"h",7,12],["ir",15,"w",7,12],["ib",15,"h",11,12]],p:[{s:[[0,"l","b"],[1,"l","t"],[1,"r","b"],[5]]}],i:["wd12","it","ir","ib"],c:[[S,"l","t"],[C,"l","vc"],[R,"l","b"],[R,"hc","b"],[R,"r","b"],[0,"hc","vc"]],u:!0}],di,oi,si,ai,Wr,Gr,Kr,Qr,Yr,Jr,[15,{a:[["adj",12500]],h:[[1,"hc","yAdj","adj",0,5e4]],g:[["a",20,0,"adj",5e4],["iwd2",15,"wd2","a",5e4],["ihd2",15,"hd2","a",5e4],["sdx",5,"iwd2",M],["sdy",8,"ihd2",M],["sx1",11,"hc","sdx"],["sx2",10,"hc","sdx"],["sy1",11,"vc","sdy"],["sy2",10,"vc","sdy"],["yAdj",11,"vc","ihd2"]],p:[{s:[[0,"l","vc"],[1,"sx1","sy1"],[1,"hc","t"],[1,"sx2","sy1"],[1,"r","vc"],[1,"sx2","sy2"],[1,"hc","b"],[1,"sx1","sy2"],[5]]}],i:["sx1","sy1","sx2","sy2"],c:[[S,"hc","t"],[C,"l","vc"],[R,"hc","b"],[0,"r","vc"]],u:!0}],[16,{a:[["adj",19098],["hf",105146],["vf",110557]],h:[[1,"hc","yAdj","adj",0,5e4]],g:[["a",20,0,"adj",5e4],["swd2",15,"wd2","hf",1e5],["shd2",15,"hd2","vf",1e5],["svc",15,"vc","vf",1e5],["dx1",5,"swd2",Si],["dx2",5,"swd2",Mi],["dy1",8,"shd2",Si],["dy2",8,"shd2",Mi],["x1",11,"hc","dx1"],["x2",11,"hc","dx2"],["x3",10,"hc","dx2"],["x4",10,"hc","dx1"],["y1",11,"svc","dy1"],["y2",11,"svc","dy2"],["iwd2",15,"swd2","a",5e4],["ihd2",15,"shd2","a",5e4],["sdx1",5,"iwd2",Oi],["sdx2",5,"iwd2",Ri],["sdy1",8,"ihd2",Ri],["sdy2",8,"ihd2",Oi],["sx1",11,"hc","sdx1"],["sx2",11,"hc","sdx2"],["sx3",10,"hc","sdx2"],["sx4",10,"hc","sdx1"],["sy1",11,"svc","sdy1"],["sy2",11,"svc","sdy2"],["sy3",10,"svc","ihd2"],["yAdj",11,"svc","ihd2"]],p:[{s:[[0,"x1","y1"],[1,"sx2","sy1"],[1,"hc","t"],[1,"sx3","sy1"],[1,"x4","y1"],[1,"sx4","sy2"],[1,"x3","y2"],[1,"hc","sy3"],[1,"x2","y2"],[1,"sx1","sy2"],[5]]}],i:["sx1","sy1","sx4","sy3"],c:[[S,"hc","t"],[C,"x1","y1"],[R,"x2","y2"],[R,"x3","y2"],[0,"x4","y1"]],u:!0}],[17,{a:[["adj",28868],["hf",115470]],h:[[1,"hc","yAdj","adj",0,5e4]],g:[["a",20,0,"adj",5e4],["swd2",15,"wd2","hf",1e5],["dx1",5,"swd2",O],["x1",11,"hc","dx1"],["x2",10,"hc","dx1"],["y2",10,"vc","hd4"],["iwd2",15,"swd2","a",5e4],["ihd2",15,"hd2","a",5e4],["sdx2",14,"iwd2",2],["sx1",11,"hc","iwd2"],["sx2",11,"hc","sdx2"],["sx3",10,"hc","sdx2"],["sx4",10,"hc","iwd2"],["sdy1",8,"ihd2",E],["sy1",11,"vc","sdy1"],["sy2",10,"vc","sdy1"],["yAdj",11,"vc","ihd2"]],p:[{s:[[0,"x1","hd4"],[1,"sx2","sy1"],[1,"hc","t"],[1,"sx3","sy1"],[1,"x2","hd4"],[1,"sx4","vc"],[1,"x2","y2"],[1,"sx3","sy2"],[1,"hc","b"],[1,"sx2","sy2"],[1,"x1","y2"],[1,"sx1","vc"],[5]]}],i:["sx1","sy1","sx4","sy2"],c:[[0,"x2","hd4"],[0,"x2","y2"],[R,"hc","b"],[C,"x1","y2"],[C,"x1","hd4"],[S,"hc","t"]],u:!0}],[18,{a:[["adj",34601],["hf",102572],["vf",105210]],h:[[1,"hc","yAdj","adj",0,5e4]],g:[["a",20,0,"adj",5e4],["swd2",15,"wd2","hf",1e5],["shd2",15,"hd2","vf",1e5],["svc",15,"vc","vf",1e5],["dx1",15,"swd2",97493,1e5],["dx2",15,"swd2",78183,1e5],["dx3",15,"swd2",43388,1e5],["dy1",15,"shd2",62349,1e5],["dy2",15,"shd2",22252,1e5],["dy3",15,"shd2",90097,1e5],["x1",11,"hc","dx1"],["x2",11,"hc","dx2"],["x3",11,"hc","dx3"],["x4",10,"hc","dx3"],["x5",10,"hc","dx2"],["x6",10,"hc","dx1"],["y1",11,"svc","dy1"],["y2",10,"svc","dy2"],["y3",10,"svc","dy3"],["iwd2",15,"swd2","a",5e4],["ihd2",15,"shd2","a",5e4],["sdx1",15,"iwd2",97493,1e5],["sdx2",15,"iwd2",78183,1e5],["sdx3",15,"iwd2",43388,1e5],["sx1",11,"hc","sdx1"],["sx2",11,"hc","sdx2"],["sx3",11,"hc","sdx3"],["sx4",10,"hc","sdx3"],["sx5",10,"hc","sdx2"],["sx6",10,"hc","sdx1"],["sdy1",15,"ihd2",90097,1e5],["sdy2",15,"ihd2",22252,1e5],["sdy3",15,"ihd2",62349,1e5],["sy1",11,"svc","sdy1"],["sy2",11,"svc","sdy2"],["sy3",10,"svc","sdy3"],["sy4",10,"svc","ihd2"],["yAdj",11,"svc","ihd2"]],p:[{s:[[0,"x1","y2"],[1,"sx1","sy2"],[1,"x2","y1"],[1,"sx3","sy1"],[1,"hc","t"],[1,"sx4","sy1"],[1,"x5","y1"],[1,"sx6","sy2"],[1,"x6","y2"],[1,"sx5","sy3"],[1,"x4","y3"],[1,"hc","sy4"],[1,"x3","y3"],[1,"sx2","sy3"],[5]]}],i:["sx2","sy1","sx5","sy3"],c:[[0,"x5","y1"],[0,"x6","y2"],[R,"x4","y3"],[R,"x3","y3"],[C,"x1","y2"],[C,"x2","y1"],[S,"hc","t"]],u:!0}],[19,{a:[["adj",37500]],h:[[1,"hc","yAdj","adj",0,5e4]],g:[["a",20,0,"adj",5e4],["dx1",5,"wd2",M],["x1",11,"hc","dx1"],["x2",10,"hc","dx1"],["dy1",8,"hd2",M],["y1",11,"vc","dy1"],["y2",10,"vc","dy1"],["iwd2",15,"wd2","a",5e4],["ihd2",15,"hd2","a",5e4],["sdx1",15,"iwd2",92388,1e5],["sdx2",15,"iwd2",38268,1e5],["sdy1",15,"ihd2",92388,1e5],["sdy2",15,"ihd2",38268,1e5],["sx1",11,"hc","sdx1"],["sx2",11,"hc","sdx2"],["sx3",10,"hc","sdx2"],["sx4",10,"hc","sdx1"],["sy1",11,"vc","sdy1"],["sy2",11,"vc","sdy2"],["sy3",10,"vc","sdy2"],["sy4",10,"vc","sdy1"],["yAdj",11,"vc","ihd2"]],p:[{s:[[0,"l","vc"],[1,"sx1","sy2"],[1,"x1","y1"],[1,"sx2","sy1"],[1,"hc","t"],[1,"sx3","sy1"],[1,"x2","y1"],[1,"sx4","sy2"],[1,"r","vc"],[1,"sx4","sy3"],[1,"x2","y2"],[1,"sx3","sy4"],[1,"hc","b"],[1,"sx2","sy4"],[1,"x1","y2"],[1,"sx1","sy3"],[5]]}],i:["sx1","sy1","sx4","sy4"],c:[[0,"r","vc"],[R,"x2","y2"],[R,"hc","b"],[R,"x1","y2"],[C,"l","vc"],[S,"x1","y1"],[S,"hc","t"],[S,"x2","y1"]],u:!0}],[20,{a:[["adj",42533],["hf",105146]],h:[[1,"hc","yAdj","adj",0,5e4]],g:[["a",20,0,"adj",5e4],["swd2",15,"wd2","hf",1e5],["dx1",15,"swd2",95106,1e5],["dx2",15,"swd2",58779,1e5],["x1",11,"hc","dx1"],["x2",11,"hc","dx2"],["x3",10,"hc","dx2"],["x4",10,"hc","dx1"],["dy1",15,"hd2",80902,1e5],["dy2",15,"hd2",30902,1e5],["y1",11,"vc","dy1"],["y2",11,"vc","dy2"],["y3",10,"vc","dy2"],["y4",10,"vc","dy1"],["iwd2",15,"swd2","a",5e4],["ihd2",15,"hd2","a",5e4],["sdx1",15,"iwd2",80902,1e5],["sdx2",15,"iwd2",30902,1e5],["sdy1",15,"ihd2",95106,1e5],["sdy2",15,"ihd2",58779,1e5],["sx1",11,"hc","iwd2"],["sx2",11,"hc","sdx1"],["sx3",11,"hc","sdx2"],["sx4",10,"hc","sdx2"],["sx5",10,"hc","sdx1"],["sx6",10,"hc","iwd2"],["sy1",11,"vc","sdy1"],["sy2",11,"vc","sdy2"],["sy3",10,"vc","sdy2"],["sy4",10,"vc","sdy1"],["yAdj",11,"vc","ihd2"]],p:[{s:[[0,"x1","y2"],[1,"sx2","sy2"],[1,"x2","y1"],[1,"sx3","sy1"],[1,"hc","t"],[1,"sx4","sy1"],[1,"x3","y1"],[1,"sx5","sy2"],[1,"x4","y2"],[1,"sx6","vc"],[1,"x4","y3"],[1,"sx5","sy3"],[1,"x3","y4"],[1,"sx4","sy4"],[1,"hc","b"],[1,"sx3","sy4"],[1,"x2","y4"],[1,"sx2","sy3"],[1,"x1","y3"],[1,"sx1","vc"],[5]]}],i:["sx2","sy2","sx5","sy3"],c:[[0,"x4","y2"],[0,"x4","y3"],[R,"x3","y4"],[R,"hc","b"],[R,"x2","y4"],[C,"x1","y3"],[C,"x1","y2"],[S,"x2","y1"],[S,"hc","t"],[S,"x3","y1"]],u:!0}],[21,{a:[["adj",37500]],h:[[1,"hc","yAdj","adj",0,5e4]],g:[["a",20,0,"adj",5e4],["dx1",5,"wd2",O],["dy1",8,"hd2",E],["x1",11,"hc","dx1"],["x3",15,"w",3,4],["x4",10,"hc","dx1"],["y1",11,"vc","dy1"],["y3",15,"h",3,4],["y4",10,"vc","dy1"],["iwd2",15,"wd2","a",5e4],["ihd2",15,"hd2","a",5e4],["sdx1",5,"iwd2",k],["sdx2",5,"iwd2",M],["sdx3",5,"iwd2",Ei],["sdy1",8,"ihd2",Ei],["sdy2",8,"ihd2",M],["sdy3",8,"ihd2",k],["sx1",11,"hc","sdx1"],["sx2",11,"hc","sdx2"],["sx3",11,"hc","sdx3"],["sx4",10,"hc","sdx3"],["sx5",10,"hc","sdx2"],["sx6",10,"hc","sdx1"],["sy1",11,"vc","sdy1"],["sy2",11,"vc","sdy2"],["sy3",11,"vc","sdy3"],["sy4",10,"vc","sdy3"],["sy5",10,"vc","sdy2"],["sy6",10,"vc","sdy1"],["yAdj",11,"vc","ihd2"]],p:[{s:[[0,"l","vc"],[1,"sx1","sy3"],[1,"x1","hd4"],[1,"sx2","sy2"],[1,"wd4","y1"],[1,"sx3","sy1"],[1,"hc","t"],[1,"sx4","sy1"],[1,"x3","y1"],[1,"sx5","sy2"],[1,"x4","hd4"],[1,"sx6","sy3"],[1,"r","vc"],[1,"sx6","sy4"],[1,"x4","y3"],[1,"sx5","sy5"],[1,"x3","y4"],[1,"sx4","sy6"],[1,"hc","b"],[1,"sx3","sy6"],[1,"wd4","y4"],[1,"sx2","sy5"],[1,"x1","y3"],[1,"sx1","sy4"],[5]]}],i:["sx2","sy2","sx5","sy5"],c:[[0,"x4","hd4"],[0,"r","vc"],[0,"x4","y3"],[R,"x3","y4"],[R,"hc","b"],[R,"wd4","y4"],[C,"x1","y3"],[C,"l","vc"],[C,"x1","hd4"],[S,"wd4","y1"],[S,"hc","t"],[S,"x3","y1"]],u:!0}],[22,{a:[["adj",37500]],h:[[1,"hc","yAdj","adj",0,5e4]],g:[["a",20,0,"adj",5e4],["dx1",15,"wd2",92388,1e5],["dx2",15,"wd2",70711,1e5],["dx3",15,"wd2",38268,1e5],["dy1",15,"hd2",92388,1e5],["dy2",15,"hd2",70711,1e5],["dy3",15,"hd2",38268,1e5],["x1",11,"hc","dx1"],["x2",11,"hc","dx2"],["x3",11,"hc","dx3"],["x4",10,"hc","dx3"],["x5",10,"hc","dx2"],["x6",10,"hc","dx1"],["y1",11,"vc","dy1"],["y2",11,"vc","dy2"],["y3",11,"vc","dy3"],["y4",10,"vc","dy3"],["y5",10,"vc","dy2"],["y6",10,"vc","dy1"],["iwd2",15,"wd2","a",5e4],["ihd2",15,"hd2","a",5e4],["sdx1",15,"iwd2",98079,1e5],["sdx2",15,"iwd2",83147,1e5],["sdx3",15,"iwd2",55557,1e5],["sdx4",15,"iwd2",19509,1e5],["sdy1",15,"ihd2",98079,1e5],["sdy2",15,"ihd2",83147,1e5],["sdy3",15,"ihd2",55557,1e5],["sdy4",15,"ihd2",19509,1e5],["sx1",11,"hc","sdx1"],["sx2",11,"hc","sdx2"],["sx3",11,"hc","sdx3"],["sx4",11,"hc","sdx4"],["sx5",10,"hc","sdx4"],["sx6",10,"hc","sdx3"],["sx7",10,"hc","sdx2"],["sx8",10,"hc","sdx1"],["sy1",11,"vc","sdy1"],["sy2",11,"vc","sdy2"],["sy3",11,"vc","sdy3"],["sy4",11,"vc","sdy4"],["sy5",10,"vc","sdy4"],["sy6",10,"vc","sdy3"],["sy7",10,"vc","sdy2"],["sy8",10,"vc","sdy1"],["idx",5,"iwd2",M],["idy",8,"ihd2",M],["il",11,"hc","idx"],["it",11,"vc","idy"],["ir",10,"hc","idx"],["ib",10,"vc","idy"],["yAdj",11,"vc","ihd2"]],p:[{s:[[0,"l","vc"],[1,"sx1","sy4"],[1,"x1","y3"],[1,"sx2","sy3"],[1,"x2","y2"],[1,"sx3","sy2"],[1,"x3","y1"],[1,"sx4","sy1"],[1,"hc","t"],[1,"sx5","sy1"],[1,"x4","y1"],[1,"sx6","sy2"],[1,"x5","y2"],[1,"sx7","sy3"],[1,"x6","y3"],[1,"sx8","sy4"],[1,"r","vc"],[1,"sx8","sy5"],[1,"x6","y4"],[1,"sx7","sy6"],[1,"x5","y5"],[1,"sx6","sy7"],[1,"x4","y6"],[1,"sx5","sy8"],[1,"hc","b"],[1,"sx4","sy8"],[1,"x3","y6"],[1,"sx3","sy7"],[1,"x2","y5"],[1,"sx2","sy6"],[1,"x1","y4"],[1,"sx1","sy5"],[5]]}],i:["il","it","ir","ib"],c:[[0,"x5","y2"],[0,"x6","y3"],[0,"r","vc"],[0,"x6","y4"],[0,"x5","y5"],[R,"x4","y6"],[R,"hc","b"],[R,"x3","y6"],[C,"x2","y5"],[C,"x1","y4"],[C,"l","vc"],[C,"x1","y3"],[C,"x2","y2"],[S,"x3","y1"],[S,"hc","t"],[S,"x4","y1"]],u:!0}],[23,{a:[["adj",37500]],h:[[1,"hc","yAdj","adj",0,5e4]],g:[["a",20,0,"adj",5e4],["dx1",5,"wd2",k],["dx2",5,"wd2",O],["dx3",5,"wd2",M],["dx4",2,"wd4"],["dx5",5,"wd2",Ei],["dy1",8,"hd2",Ei],["dy2",8,"hd2",E],["dy3",8,"hd2",M],["dy4",2,"hd4"],["dy5",8,"hd2",k],["x1",11,"hc","dx1"],["x2",11,"hc","dx2"],["x3",11,"hc","dx3"],["x4",11,"hc","dx4"],["x5",11,"hc","dx5"],["x6",10,"hc","dx5"],["x7",10,"hc","dx4"],["x8",10,"hc","dx3"],["x9",10,"hc","dx2"],["x10",10,"hc","dx1"],["y1",11,"vc","dy1"],["y2",11,"vc","dy2"],["y3",11,"vc","dy3"],["y4",11,"vc","dy4"],["y5",11,"vc","dy5"],["y6",10,"vc","dy5"],["y7",10,"vc","dy4"],["y8",10,"vc","dy3"],["y9",10,"vc","dy2"],["y10",10,"vc","dy1"],["iwd2",15,"wd2","a",5e4],["ihd2",15,"hd2","a",5e4],["sdx1",15,"iwd2",99144,1e5],["sdx2",15,"iwd2",92388,1e5],["sdx3",15,"iwd2",79335,1e5],["sdx4",15,"iwd2",60876,1e5],["sdx5",15,"iwd2",38268,1e5],["sdx6",15,"iwd2",13053,1e5],["sdy1",15,"ihd2",99144,1e5],["sdy2",15,"ihd2",92388,1e5],["sdy3",15,"ihd2",79335,1e5],["sdy4",15,"ihd2",60876,1e5],["sdy5",15,"ihd2",38268,1e5],["sdy6",15,"ihd2",13053,1e5],["sx1",11,"hc","sdx1"],["sx2",11,"hc","sdx2"],["sx3",11,"hc","sdx3"],["sx4",11,"hc","sdx4"],["sx5",11,"hc","sdx5"],["sx6",11,"hc","sdx6"],["sx7",10,"hc","sdx6"],["sx8",10,"hc","sdx5"],["sx9",10,"hc","sdx4"],["sx10",10,"hc","sdx3"],["sx11",10,"hc","sdx2"],["sx12",10,"hc","sdx1"],["sy1",11,"vc","sdy1"],["sy2",11,"vc","sdy2"],["sy3",11,"vc","sdy3"],["sy4",11,"vc","sdy4"],["sy5",11,"vc","sdy5"],["sy6",11,"vc","sdy6"],["sy7",10,"vc","sdy6"],["sy8",10,"vc","sdy5"],["sy9",10,"vc","sdy4"],["sy10",10,"vc","sdy3"],["sy11",10,"vc","sdy2"],["sy12",10,"vc","sdy1"],["idx",5,"iwd2",M],["idy",8,"ihd2",M],["il",11,"hc","idx"],["it",11,"vc","idy"],["ir",10,"hc","idx"],["ib",10,"vc","idy"],["yAdj",11,"vc","ihd2"]],p:[{s:[[0,"l","vc"],[1,"sx1","sy6"],[1,"x1","y5"],[1,"sx2","sy5"],[1,"x2","y4"],[1,"sx3","sy4"],[1,"x3","y3"],[1,"sx4","sy3"],[1,"x4","y2"],[1,"sx5","sy2"],[1,"x5","y1"],[1,"sx6","sy1"],[1,"hc","t"],[1,"sx7","sy1"],[1,"x6","y1"],[1,"sx8","sy2"],[1,"x7","y2"],[1,"sx9","sy3"],[1,"x8","y3"],[1,"sx10","sy4"],[1,"x9","y4"],[1,"sx11","sy5"],[1,"x10","y5"],[1,"sx12","sy6"],[1,"r","vc"],[1,"sx12","sy7"],[1,"x10","y6"],[1,"sx11","sy8"],[1,"x9","y7"],[1,"sx10","sy9"],[1,"x8","y8"],[1,"sx9","sy10"],[1,"x7","y9"],[1,"sx8","sy11"],[1,"x6","y10"],[1,"sx7","sy12"],[1,"hc","b"],[1,"sx6","sy12"],[1,"x5","y10"],[1,"sx5","sy11"],[1,"x4","y9"],[1,"sx4","sy10"],[1,"x3","y8"],[1,"sx3","sy9"],[1,"x2","y7"],[1,"sx2","sy8"],[1,"x1","y6"],[1,"sx1","sy7"],[5]]}],i:["il","it","ir","ib"],c:[[S,"hc","t"],[C,"l","vc"],[R,"hc","b"],[0,"r","vc"]],u:!0}],[24,{a:[["adj",37500]],h:[[1,"hc","yAdj","adj",0,5e4]],g:[["a",20,0,"adj",5e4],["dx1",15,"wd2",98079,1e5],["dx2",15,"wd2",92388,1e5],["dx3",15,"wd2",83147,1e5],["dx4",5,"wd2",M],["dx5",15,"wd2",55557,1e5],["dx6",15,"wd2",38268,1e5],["dx7",15,"wd2",19509,1e5],["dy1",15,"hd2",98079,1e5],["dy2",15,"hd2",92388,1e5],["dy3",15,"hd2",83147,1e5],["dy4",8,"hd2",M],["dy5",15,"hd2",55557,1e5],["dy6",15,"hd2",38268,1e5],["dy7",15,"hd2",19509,1e5],["x1",11,"hc","dx1"],["x2",11,"hc","dx2"],["x3",11,"hc","dx3"],["x4",11,"hc","dx4"],["x5",11,"hc","dx5"],["x6",11,"hc","dx6"],["x7",11,"hc","dx7"],["x8",10,"hc","dx7"],["x9",10,"hc","dx6"],["x10",10,"hc","dx5"],["x11",10,"hc","dx4"],["x12",10,"hc","dx3"],["x13",10,"hc","dx2"],["x14",10,"hc","dx1"],["y1",11,"vc","dy1"],["y2",11,"vc","dy2"],["y3",11,"vc","dy3"],["y4",11,"vc","dy4"],["y5",11,"vc","dy5"],["y6",11,"vc","dy6"],["y7",11,"vc","dy7"],["y8",10,"vc","dy7"],["y9",10,"vc","dy6"],["y10",10,"vc","dy5"],["y11",10,"vc","dy4"],["y12",10,"vc","dy3"],["y13",10,"vc","dy2"],["y14",10,"vc","dy1"],["iwd2",15,"wd2","a",5e4],["ihd2",15,"hd2","a",5e4],["sdx1",15,"iwd2",99518,1e5],["sdx2",15,"iwd2",95694,1e5],["sdx3",15,"iwd2",88192,1e5],["sdx4",15,"iwd2",77301,1e5],["sdx5",15,"iwd2",63439,1e5],["sdx6",15,"iwd2",47140,1e5],["sdx7",15,"iwd2",29028,1e5],["sdx8",15,"iwd2",9802,1e5],["sdy1",15,"ihd2",99518,1e5],["sdy2",15,"ihd2",95694,1e5],["sdy3",15,"ihd2",88192,1e5],["sdy4",15,"ihd2",77301,1e5],["sdy5",15,"ihd2",63439,1e5],["sdy6",15,"ihd2",47140,1e5],["sdy7",15,"ihd2",29028,1e5],["sdy8",15,"ihd2",9802,1e5],["sx1",11,"hc","sdx1"],["sx2",11,"hc","sdx2"],["sx3",11,"hc","sdx3"],["sx4",11,"hc","sdx4"],["sx5",11,"hc","sdx5"],["sx6",11,"hc","sdx6"],["sx7",11,"hc","sdx7"],["sx8",11,"hc","sdx8"],["sx9",10,"hc","sdx8"],["sx10",10,"hc","sdx7"],["sx11",10,"hc","sdx6"],["sx12",10,"hc","sdx5"],["sx13",10,"hc","sdx4"],["sx14",10,"hc","sdx3"],["sx15",10,"hc","sdx2"],["sx16",10,"hc","sdx1"],["sy1",11,"vc","sdy1"],["sy2",11,"vc","sdy2"],["sy3",11,"vc","sdy3"],["sy4",11,"vc","sdy4"],["sy5",11,"vc","sdy5"],["sy6",11,"vc","sdy6"],["sy7",11,"vc","sdy7"],["sy8",11,"vc","sdy8"],["sy9",10,"vc","sdy8"],["sy10",10,"vc","sdy7"],["sy11",10,"vc","sdy6"],["sy12",10,"vc","sdy5"],["sy13",10,"vc","sdy4"],["sy14",10,"vc","sdy3"],["sy15",10,"vc","sdy2"],["sy16",10,"vc","sdy1"],["idx",5,"iwd2",M],["idy",8,"ihd2",M],["il",11,"hc","idx"],["it",11,"vc","idy"],["ir",10,"hc","idx"],["ib",10,"vc","idy"],["yAdj",11,"vc","ihd2"]],p:[{s:[[0,"l","vc"],[1,"sx1","sy8"],[1,"x1","y7"],[1,"sx2","sy7"],[1,"x2","y6"],[1,"sx3","sy6"],[1,"x3","y5"],[1,"sx4","sy5"],[1,"x4","y4"],[1,"sx5","sy4"],[1,"x5","y3"],[1,"sx6","sy3"],[1,"x6","y2"],[1,"sx7","sy2"],[1,"x7","y1"],[1,"sx8","sy1"],[1,"hc","t"],[1,"sx9","sy1"],[1,"x8","y1"],[1,"sx10","sy2"],[1,"x9","y2"],[1,"sx11","sy3"],[1,"x10","y3"],[1,"sx12","sy4"],[1,"x11","y4"],[1,"sx13","sy5"],[1,"x12","y5"],[1,"sx14","sy6"],[1,"x13","y6"],[1,"sx15","sy7"],[1,"x14","y7"],[1,"sx16","sy8"],[1,"r","vc"],[1,"sx16","sy9"],[1,"x14","y8"],[1,"sx15","sy10"],[1,"x13","y9"],[1,"sx14","sy11"],[1,"x12","y10"],[1,"sx13","sy12"],[1,"x11","y11"],[1,"sx12","sy13"],[1,"x10","y12"],[1,"sx11","sy14"],[1,"x9","y13"],[1,"sx10","sy15"],[1,"x8","y14"],[1,"sx9","sy16"],[1,"hc","b"],[1,"sx8","sy16"],[1,"x7","y14"],[1,"sx7","sy15"],[1,"x6","y13"],[1,"sx6","sy14"],[1,"x5","y12"],[1,"sx5","sy13"],[1,"x4","y11"],[1,"sx4","sy12"],[1,"x3","y10"],[1,"sx3","sy11"],[1,"x2","y9"],[1,"sx2","sy10"],[1,"x1","y8"],[1,"sx1","sy9"],[5]]}],i:["il","it","ir","ib"],c:[[S,"hc","t"],[C,"l","vc"],[R,"hc","b"],[0,"r","vc"]],u:!0}],ui,pi,fi,yi,gi,xi,vi,mi,Ne,Ue,Le,Ze,tn,qe,ze,$e,He,en,nn,rn,on,sn,an,cn,hn,ln,dn,un,pn,fn,yn,gn,xn,vn,mn,wn,bn,Pn,Cn,An,jn,Tn,Sn,Rn,En,Mn,Zr,Ve,ti,We,Ge,Ke,Qe,[79,{g:[["x5",15,"w",4627,21600],["x12",15,"w",8485,21600],["x21",15,"w",16702,21600],["x24",15,"w",14522,21600],["y3",15,"h",6320,21600],["y6",15,"h",8615,21600],["y9",15,"h",13937,21600],["y18",15,"h",13290,21600]],p:[{s:[[0,.5,.26851851851851855],[1,.6723148148148148,0],[1,.6553240740740741,.2465277777777778],[1,.850925925925926,.2063425925925926],[1,.7732407407407408,.3386574074074074],[1,.976712962962963,.37671296296296297],[1,.8151388888888889,.4849537037037037],[1,1,.6152777777777778],[1,.7794907407407408,.5991666666666666],[1,.8400462962962963,.8377314814814815],[1,.649074074074074,.6693055555555556],[1,.613287037037037,.91375],[1,.4875925925925926,.6914351851851852],[1,.39282407407407405,1],[1,.35717592592592595,.7234722222222222],[1,.22046296296296297,.8156018518518519],[1,.2623611111111111,.6452314814814815],[1,.00625,.675324074074074],[1,.1723148148148148,.5451388888888888],[1,0,.3988425925925926],[1,.21421296296296297,.3526388888888889],[1,.01712962962962963,.10625],[1,.3385185185185185,.29259259259259257],[1,.38666666666666666,.10625],[5]]}],i:["x5","y3","x21","y9"],c:[[S,"x24","t"],[C,"l","y6"],[R,"x12","b"],[0,"r","y18"]],u:!0}],[80,{g:[["x2",15,"w",9722,21600],["x5",15,"w",5372,21600],["x16",15,"w",11612,21600],["x19",15,"w",14640,21600],["y2",15,"h",1887,21600],["y3",15,"h",6382,21600],["y8",15,"h",12877,21600],["y14",15,"h",19712,21600],["y16",15,"h",18842,21600],["y17",15,"h",15935,21600],["y24",15,"h",6645,21600]],p:[{s:[[0,.5306481481481482,.2010185185185185],[1,.6847222222222222,0],[1,.6724537037037037,.2674537037037037],[1,.8336574074074075,.14685185185185184],[1,.7583333333333333,.3024074074074074],[1,1,.3076388888888889],[1,.7863425925925925,.43527777777777776],[1,.8458333333333333,.5226851851851851],[1,.7583333333333333,.5699074074074074],[1,.8739351851851852,.7237037037037037],[1,.6777777777777778,.6643518518518519],[1,.6917592592592593,.8041666666666667],[1,.5638888888888889,.7377314814814815],[1,.5375925925925926,.8723148148148148],[1,.457037037037037,.8041666666666667],[1,.4027777777777778,.9125925925925926],[1,.34847222222222224,.8391203703703703],[1,.2276388888888889,1],[1,.2224537037037037,.8444444444444444],[1,.05949074074074074,.8252314814814815],[1,.15416666666666667,.711574074074074],[1,0,.5961574074074074],[1,.18217592592592594,.5366666666666666],[1,.05425925925925926,.38287037037037036],[1,.2487037037037037,.36189814814814814],[1,.20842592592592593,.16782407407407407],[1,.3958333333333333,.295462962962963],[1,.4500925925925926,.08736111111111111],[5]]}],i:["x5","y3","x19","y17"],c:[[S,"x2","y2"],[C,"l","y8"],[R,"x16","y16"],[0,"r","y24"]],u:!0}],ei,ni,ci,ri,ii,hi,Ye,Je,On,kn,In,Bn,_n,Dn,Un,Ln,qn,zn,$n,Hn,Vn,Wn,Gn,Kn,Qn,Yn,Jn,Xn,Zn,tr,Xe,wi,bi,Pi,Ci,Ai,ji,Ti,[128,{a:[["adj1",12500],["adj2",0]],h:[[1,"l","y1","adj1",0,2e4],[0,"xAdj","b","adj2",-1e4,1e4]],g:[["a1",20,0,"adj1",2e4],["a2",20,-1e4,"adj2",1e4],["y1",15,"h","a1",1e5],["dy2",15,"y1",10,3],["y2",11,"y1","dy2"],["y3",10,"y1","dy2"],["y4",11,"b","y1"],["y5",11,"y4","dy2"],["y6",10,"y4","dy2"],["dx1",15,"w","a2",1e5],["of2",15,"w","a2",5e4],["x1",0,"dx1"],["dx2",18,"of2",0,"of2"],["x2",11,"l","dx2"],["dx5",18,"of2","of2",0],["x5",11,"r","dx5"],["dx3",17,"dx2","x5",3],["x3",10,"x2","dx3"],["x4",17,"x3","x5",2],["x6",10,"l","dx5"],["x10",10,"r","dx2"],["x7",10,"x6","dx3"],["x8",17,"x7","x10",2],["x9",11,"r","x1"],["xAdj",10,"hc","dx1"],["xAdj2",11,"hc","dx1"],["il",6,"x2","x6"],["ir",7,"x5","x10"],["it",15,"h","a1",5e4],["ib",11,"b","it"]],p:[{s:[[0,"x2","y1"],[4,"x3","y2","x4","y3","x5","y1"],[1,"x10","y4"],[4,"x8","y6","x7","y5","x6","y4"],[5]]}],i:["il","it","ir","ib"],c:[[R,"xAdj2","y1"],[C,"x1","vc"],[S,"xAdj","y4"],[0,"x9","vc"]],u:!0}],[129,{a:[["adj1",6250],["adj2",0]],h:[[1,"l","y1","adj1",0,12500],[0,"xAdj","b","adj2",-1e4,1e4]],g:[["a1",20,0,"adj1",12500],["a2",20,-1e4,"adj2",1e4],["y1",15,"h","a1",1e5],["dy2",15,"y1",10,3],["y2",11,"y1","dy2"],["y3",10,"y1","dy2"],["y4",11,"b","y1"],["y5",11,"y4","dy2"],["y6",10,"y4","dy2"],["dx1",15,"w","a2",1e5],["of2",15,"w","a2",5e4],["x1",0,"dx1"],["dx2",18,"of2",0,"of2"],["x2",11,"l","dx2"],["dx8",18,"of2","of2",0],["x8",11,"r","dx8"],["dx3",17,"dx2","x8",6],["x3",10,"x2","dx3"],["dx4",17,"dx2","x8",3],["x4",10,"x2","dx4"],["x5",17,"x2","x8",2],["x6",10,"x5","dx3"],["x7",17,"x6","x8",2],["x9",10,"l","dx8"],["x15",10,"r","dx2"],["x10",10,"x9","dx3"],["x11",10,"x9","dx4"],["x12",17,"x9","x15",2],["x13",10,"x12","dx3"],["x14",17,"x13","x15",2],["x16",11,"r","x1"],["xAdj",10,"hc","dx1"],["il",6,"x2","x9"],["ir",7,"x8","x15"],["it",15,"h","a1",5e4],["ib",11,"b","it"]],p:[{s:[[0,"x2","y1"],[4,"x3","y2","x4","y3","x5","y1"],[4,"x6","y2","x7","y3","x8","y1"],[1,"x15","y4"],[4,"x14","y6","x13","y5","x12","y4"],[4,"x11","y6","x10","y5","x9","y4"],[5]]}],i:["il","it","ir","ib"],c:[[R,"x12","y1"],[C,"x1","vc"],[S,"x5","y4"],[0,"x16","vc"]],u:!0}],Xr,ir,or,sr,ar,cr,hr,lr,dr,ur,pr,fr,yr,gr,xr,vr,mr,wr,br,Pr,Cr,Ar,jr,Tr,Sr,Rr,Er,Mr,Or,kr,_r,Dr,Fr,Nr,Ur,Lr];class Ii{}class Bi{constructor(t,e){this.charPos=0,this.length=0,this.charPos=t,this.length=e}assignFrom(t){this.charPos=t.charPos,this.length=t.length}equals(t){return t.length===this.length&&t.charPos===this.charPos}clone(){return new Bi(this.charPos,this.length)}}function _i(t){return Di(t.graphic.model,t.range.clone())}function Di(t,e){const n=t.textBody,r=e.charPos>0&&e.charPos===n.length-1;return 0!==e.length||n.isParagraphBoundary(e.charPos)&&!r?e.length>0&&(e.length=1):e.charPos-=1,n.getResolvedCharacterRunPropertyBag(e,t.fontRef,t.hostContext.themeInfo,t.defaultCharProps)}class Fi{constructor(t){this.type=Ni,this.textRange=void 0===t?void 0:t.clone()}}class Ni{}class Ui{constructor(e){this.type=Ni,this.selectionUpdated=new t,this.cursorUpdated=new t,this.deselected=new t,this.isQuillSelectionRefactorEnable=Lt("QuillSelectionRefactor"),this.graphic=e,this._highlight=!1,this._range=new Bi(0,e.model.textBody.length-1),this._ipCharProps=_i(this)}get textRange(){return this._textRange}set textRange(t){N(this._textRange,t)||(this._textRange=t,this.selectionUpdated.emit())}get range(){return this.isQuillSelectionRefactorEnable?void 0===this.textRange?new Bi(0,this.graphic.model.textBody.length-1):this.textRange:this._range}set range(t){this._range.equals(t)||(this._range=t)}get highlight(){return this.isQuillSelectionRefactorEnable?void 0!==this.textRange:this._highlight}set highlight(t){this._highlight!==t&&(this._highlight=t)}get ipCharProps(){return this._ipCharProps}set ipCharProps(t){this._ipCharProps.equals(t)||(this._ipCharProps=t),this.isQuillSelectionRefactorEnable&&this.cursorUpdated.emit()}teardown(){this.isQuillSelectionRefactorEnable&&(this.textRange=void 0)}save(){return new Fi(this.isQuillSelectionRefactorEnable?this.textRange:this.range)}restore(t){(function(t){return t.type===Ni})(t)&&(this.isQuillSelectionRefactorEnable?this.textRange=t.textRange:void 0!==t.textRange&&this._range.assignFrom(t.textRange))}clone(t){const e=new Ui(t);return e._highlight=this._highlight,e._range=this._range.clone(),e._textRange=void 0===this._textRange?void 0:this._textRange.clone(),e}}class Li{}function qi(t){return t.type===Li}class zi{constructor(t){this.type=$i,this.savedTextSelection=t}}class $i{}class Hi{constructor(e){this.type=$i,this.selectionUpdated=new t,this.deselected=new t,this.isQuillSelectionRefactorEnabled=Lt("QuillSelectionRefactor"),this.graphic=e,this.shapeSelection=new pe(new Nt(e.id,e.model.shape,e.anchor)),this.textSelection=new Ui(new Nt(e.id,e.model.text,e.anchor))}teardown(){this.isQuillSelectionRefactorEnabled&&(this.shapeSelection.teardown(),this.textSelection.teardown())}save(){return new zi(this.textSelection.save())}restore(t){(function(t){return t.type===$i})(t)&&this.textSelection.restore(t.savedTextSelection)}clone(t){const e=new Hi(t);return e.textSelection.restore(this.textSelection.save()),e}}function Vi(t){return t.type===$i}function Wi(t){t.registerForType(Li,(t=>new Hi(t)))}class Gi{constructor(e,n,r){this.type=Li,this.modelUpdated=new t,this.hostContext=e,this.shape=n,this.text=r}get fallbackRenderData(){return this._fallbackRenderData}set fallbackRenderData(t){this._fallbackRenderData=t,this.text.fallbackRenderData=t,void 0!==t&&(this.fallbackRenderDataCache=t),this.modelUpdated.emit()}set style(t){var e;this._style=t,this.shape.style=this._style,this.text.fontRef=null===(e=this._style)||void 0===e?void 0:e.fontRef}get style(){return this._style}clone(){const t=new Gi(this.hostContext,this.shape.clone(),this.text.clone());return t.fallbackRenderDataCache=this.fallbackRenderDataCache,t._fallbackRenderData=this._fallbackRenderData,t._style=this._style,t}}class Ki{constructor(){this.type=0}clone(){return new Ki}equals(t){return Qi(t)}}function Qi(t){return 0===t.type}function Yi(t,e){return!t.pos.equals(e.pos)&&t.size.equals(e.size)&&t.rot===e.rot&&t.flip.equals(e.flip)}class Ji{constructor(t,e,n,r){this.left=t,this.top=e,this.right=n,this.bottom=r}width(){return this.right-this.left}height(){return this.bottom-this.top}isEmpty(){return 0===this.width()||0===this.height()}center(){return new _((this.left+this.right)/2,(this.top+this.bottom)/2)}clone(){return new Ji(this.left,this.top,this.right,this.bottom)}equals(t){return this.left===t.left&&this.top===t.top&&this.right===t.right&&this.bottom===t.bottom}contains(t){return t.x>=this.left&&t.x<=this.right&&t.y>=this.top&&t.y<=this.bottom}scaleAbout(t,e,n=new _(0,0)){this.translate(-n.x,-n.y),this.left*=t,this.top*=e,this.right*=t,this.bottom*=e,this.translate(n.x,n.y)}translate(t,e){this.left+=t,this.top+=e,this.right+=t,this.bottom+=e}normalize(){return this.left>this.right&&([this.left,this.right]=[this.right,this.left]),this.top>this.bottom&&([this.top,this.bottom]=[this.bottom,this.top]),this}}function Xi(t){return new Ji(t.pos.x,t.pos.y,t.pos.x+t.size.width,t.pos.y+t.size.height)}class Zi{constructor(t,e){this.paths=[],this.size=new _t(t,e)}}const to={b:t=>t.bottom,h:t=>t.height(),hc:t=>t.left+t.width()/2,hd2:t=>t.height()/2,hd3:t=>t.height()/3,hd4:t=>t.height()/4,hd5:t=>t.height()/5,hd6:t=>t.height()/6,hd8:t=>t.height()/8,hd10:t=>t.height()/10,l:t=>t.left,ls:t=>Math.max(t.width(),t.height()),r:t=>t.right,ss:t=>Math.min(t.width(),t.height()),ssd2:t=>to.ss(t)/2,ssd4:t=>to.ss(t)/4,ssd6:t=>to.ss(t)/6,ssd8:t=>to.ss(t)/8,ssd16:t=>to.ss(t)/16,ssd32:t=>to.ss(t)/32,t:t=>t.top,vc:t=>t.top+t.height()/2,w:t=>t.width(),wd2:t=>t.width()/2,wd3:t=>t.width()/3,wd4:t=>t.width()/4,wd5:t=>t.width()/5,wd6:t=>t.width()/6,wd8:t=>t.width()/8,wd10:t=>t.width()/10,wd12:t=>t.width()/12,wd32:t=>t.width()/32};function eo(t,e,n){return"number"==typeof t?t:t in e?e[t]:function(t,e){if(t in to)return to[t](e);throw new Error(`Invalid formula: ${t}`)}(t,n)}function no(t,e,n,r,i=!1){const o={},s=t=>eo(t,o,n);if(void 0!==t)for(let e=0;e<t.length;e++){const[n,s]=t[e];let a=s;i&&void 0!==r&&r.length===t.length&&4===r[e][0]&&(a=I(s/6e4)),o[n]=a}return void 0!==e&&e.forEach((t=>{const[e,...n]=t;o[e]=function(t,e){switch(t[0]){case 0:return Math.abs(e(t[1]));case 1:return Math.sqrt(Math.abs(e(t[1])));case 2:return e(t[1]);case 3:return-e(t[1]);case 4:return Math.atan2(e(t[2]),e(t[1]));case 5:return e(t[1])*Math.cos(e(t[2]));case 6:return Math.max(e(t[1]),e(t[2]));case 7:return Math.min(e(t[1]),e(t[2]));case 8:return e(t[1])*Math.sin(e(t[2]));case 9:return e(t[1])*Math.tan(e(t[2]));case 10:return e(t[1])+e(t[2]);case 11:return e(t[1])-e(t[2]);case 12:return function(t,e){return Math.sqrt(t*t+e*e)}(e(t[1]),e(t[2]));case 13:return e(t[1])*e(t[2]);case 14:return function(t,e){return 0===e?t:t/e}(e(t[1]),e(t[2]));case 15:return function(t,e,n){return 0===n?t*e:t*e/n}(e(t[1]),e(t[2]),e(t[3]));case 16:return e(t[1])+(e(t[2])-e(t[3]));case 17:return function(t,e,n){return 0===n?t+e:(t+e)/n}(e(t[1]),e(t[2]),e(t[3]));case 18:return e(t[1])>0?e(t[2]):e(t[3]);case 19:return e(t[1])*Math.cos(Math.atan2(e(t[3]),e(t[2])));case 20:return Math.min(Math.max(e(t[1]),e(t[2])),e(t[3]));case 21:return e(t[1])*Math.sin(Math.atan2(e(t[3]),e(t[2])));default:b(t)}}(n,s)})),o}class ro{constructor(t=1,e=0,n=0,r=1,i=0,o=0){this.m11=t,this.m12=e,this.m21=n,this.m22=r,this.m31=i,this.m32=o}apply(t){const e=this.m11*t.m11+this.m12*t.m21,n=this.m11*t.m12+this.m12*t.m22,r=this.m21*t.m11+this.m22*t.m21,i=this.m21*t.m12+this.m22*t.m22,o=this.m31*t.m11+this.m32*t.m21+t.m31,s=this.m31*t.m12+this.m32*t.m22+t.m32;return this.m11=e,this.m12=n,this.m21=r,this.m22=i,this.m31=o,this.m32=s,this}translate(t,e){return this.apply(io(t,e))}scale(t,e){return this.apply(oo(t,e))}rotate(t){return this.apply(function(t){const e=Math.cos(t),n=Math.sin(t);return new ro(e,n,-n,e,0,0)}(t))}}function io(t,e){return new ro(1,0,0,1,t,e)}function oo(t,e){return new ro(t,0,0,e,0,0)}const so=100;function ao(t,e,n,r=!1){const i=new Zi(so,so);let o,s;if(void 0!==t.u&&t.u)o=new Dt(new Bt(0,0),new _t(1,1)),s=new Dt(new Bt(0,0),new _t(so,so));else{const t=e.size.width/e.size.height;o=new Dt(new Bt(0,0),new _t(t*so,so)),i.size.width=t*so}const a=no(void 0!==n&&n.length>0?n:t.a,t.g,Xi(o),t.h,r);return t.p.forEach((t=>{i.paths.push(function(t,e,n,r){const i=Xi(n),o=new _(i.left+i.width()/2,i.top+i.height()/2),s=I(n.rot),a=io(-o.x,-o.y).scale(n.flip.x?-1:1,n.flip.y?-1:1).rotate(s).translate(o.x,o.y),c=(t,n)=>{const o=new _(eo(t,e,i),eo(n,e,i));if(o.multiply(a),void 0!==r){const t=oo(r.size.width,r.size.height).translate(r.pos.x,r.pos.y);o.multiply(t)}return o},h=void 0!==r?r.size.width:1,l=void 0!==r?r.size.height:1;return{fillMode:void 0===t.f?1:t.f,lineEnabled:void 0===t.l||t.l,segments:t.s.map((t=>{switch(t[0]){case 0:return{segmentType:0,beginPoint:c(t[1],t[2])};case 1:return{segmentType:1,endPoint:c(t[1],t[2])};case 2:return{segmentType:2,xRadius:eo(t[1],e,i)*h,yRadius:eo(t[2],e,i)*l,startAngle:eo(t[3],e,i),sweepAngle:eo(t[4],e,i)};case 3:return{segmentType:3,controlPoint:c(t[1],t[2]),endPoint:c(t[3],t[4])};case 4:return{segmentType:4,controlPoint1:c(t[1],t[2]),controlPoint2:c(t[3],t[4]),endPoint:c(t[5],t[6])};case 5:return{segmentType:5};default:b(t)}}))}}(t,a,o,s))})),i}function co(t){return Qi(t)?10:0}class ho{constructor(e,n,r,i){this.viewModelUpdated=new t,this.onModelUpdated=t=>{Be(t,46)?(this.viewModel.hitTestSlop=co(this.shape.fill),this.viewModel.setProps(this.shape.fill,this.shape.line,this.shape.style,this.shape.hostContext.themeInfo,this.shape.effects,void 0,void 0,this.context.highContrastModeInfo),this.viewModelUpdated.emit()):this.updateViewModel()},this.onAnchorTransformUpdated=()=>{const t=this.context.anchorPresenter.transform;Yi(t,this.transform)?(this.transform=t.clone(),this.viewModel.setCenter(t.getCenter()),this.viewModelUpdated.emit()):this.updateViewModel()},this.onViewModelUpdated=()=>{this.viewModelUpdated.emit()},this.graphic=e,this.shape=e.model,this.context=n,this.geometryRegistry=r,this.viewModel=i,this.shape.modelUpdated.on(this.onModelUpdated),this.context.anchorPresenter.transformUpdated.on(this.onAnchorTransformUpdated),this.viewModel.update.on(this.onViewModelUpdated),this.updateViewModel()}teardown(){this.viewModel.update.off(this.onViewModelUpdated),this.context.anchorPresenter.transformUpdated.off(this.onAnchorTransformUpdated),this.shape.modelUpdated.off(this.onModelUpdated),this.viewModel.teardown()}updateViewModel(){var t;this.transform=this.context.anchorPresenter.transform.clone();const e=ao(this.geometryRegistry.getGeometry(this.shape.geometry),this.transform,this.shape.geometry.adjustValues);var n,r;this.viewModel.setGeometry(e,this.transform),this.viewModel.setProps(this.shape.fill,this.shape.line,this.shape.style,this.shape.hostContext.themeInfo,this.shape.effects,void 0,void 0,this.context.highContrastModeInfo),this.viewModel.hitTestSlop=co(this.shape.fill),this.viewModel.ariaLabel=this.context.ariaLabelCreator.createAriaLabel(this.graphic),this.viewModel.accessibleNode=null===(t=this.context.accessibleNodeCreator)||void 0===t?void 0:t.createAccessibleNode(this.graphic),this.viewModel.model=this.graphic.model,n=this.viewModel,r={graphic:this.graphic},void 0!==n.source?n.source=Object.assign(Object.assign({},n.source),r):n.source=r,this.viewModelUpdated.emit()}}class lo{constructor(e,n,r,i){this.viewModelUpdated=new t,this.isFallbackRenderDataPresenter=!1,this.onModelUpdated=(t,e)=>{this.updateViewModel(e,!1)},this.onViewModelUpdated=t=>{this.updateViewModel(t,!0)},this.graphic=e,this.context=n,this.editContext=i,this.modelPresenterCreator=r,this.graphic.model.modelUpdated.on(this.onModelUpdated),this.updateViewModel()}get viewModel(){return void 0===this.currentPresenter&&m(0,"CurrentPresenter not resolved."),this.currentPresenter.viewModel}teardown(){this.graphic.model.modelUpdated.off(this.onModelUpdated),this.teardownCurrentPresenter()}teardownCurrentPresenter(){void 0!==this.currentPresenter&&(this.currentPresenter.viewModelUpdated.off(this.onViewModelUpdated),this.currentPresenter.teardown())}updateViewModel(t,e){this.ensureCurrentPresenter(t),this.viewModelUpdated.emit(e?t:void 0)}ensureCurrentPresenter(t){(void 0===this.currentPresenter||void 0===this.graphic.model.fallbackRenderData&&this.isFallbackRenderDataPresenter||void 0!==this.graphic.model.fallbackRenderData&&!this.isFallbackRenderDataPresenter||void 0!==this.graphic.model.fallbackRenderData&&this.isFallbackRenderDataPresenter&&this.currentPresenter.renderDataType!==this.graphic.model.fallbackRenderData.type)&&this.recreatePresenter(t)}recreatePresenter(t){if(this.teardownCurrentPresenter(),void 0!==this.graphic.model.fallbackRenderData){void 0===this.context.renderDataPresenterCreator&&m(0,"RenderDataPresenterCreator not provided");const e=this.context.renderDataPresenterCreator.createRenderDataPresenter(this.graphic,this.context,this.editContext);this.currentPresenter=e,this.isFallbackRenderDataPresenter=!0,e.init(this.onViewModelUpdated,t)}else this.currentPresenter=this.modelPresenterCreator(this.graphic,this.context,this.editContext),this.isFallbackRenderDataPresenter=!1,this.currentPresenter.viewModelUpdated.on(this.onViewModelUpdated)}}class uo extends mt{getGeometry(t){switch(t.type){case 0:{const e=this.get(t.preset);if(void 0===e)throw new Error(`Unregistered geometry for type:${t.preset}`);return e}case 1:return t.custom;default:b(t)}}}function po(t,e){const n=e.modelToVersionUpdateMap.get(t);return void 0===n&&m(0,"Undefined version in modelToVersionUpdateMap"),n}function fo(t,e){const n=e.modelToEditorMap.get(t);return void 0===n&&m(0,"Undefined quill instance in getQuillInstance"),n.quillEditorInstance}function yo(t,e){const n=t.modelToContainerMap.get(e);return void 0===n&&w("Text","TextContainerUndefined","Undefined text container when fetching from textHost"),n}function go(t,e,n=!0){void 0!==t.fallbackRenderData&&(t.fallbackRenderData=void 0),po(t.text,e).onEdit(),function(t,e,n,r){const i=yo(e,t);"inherit"!==i.style.visibility&&(i.style.visibility="inherit");const o=fo(t,e);o.hasFocus()||(r&&o.setSelection(n,0,"user"),i.style.cursor="text")}(t.text,e,t.text.textBody.length-1,n)}function xo(t,e){const n=po(t.text,e);n.exitEdit();let r=!1;const i=t;void 0!==i.fallbackRenderDataCache&&void 0===i.fallbackRenderData&&(n.isVersionUpdatedDuringEdit()?i.fallbackRenderDataCache=void 0:(i.fallbackRenderData=i.fallbackRenderDataCache,r=!0)),function(t,e,n){const r=yo(e,t),i=fo(t,e);i.hasFocus()&&i.blur(),"hidden"!==r.style.visibility&&n&&(r.style.visibility="hidden"),e.quillEditStatusUpdated.emit(t,1,!1)}(t.text,e,r)}const vo="selGrphAct";class mo{constructor(t,e=!1){this.actionType=vo,this.graphics=[],this.isFirstTimeSelect=!1,this.graphics=t,this.clearExisting=e}}function wo(t){return t.actionType===vo}class bo extends mo{constructor(t,e,n,r,i){super(e,n),this.textRange=t,this.ipCharProps=r,this.clearSelectionHighlight=i}}class Po{constructor(){this.zoomPanUpdated=new t,this._zoom=1,this._pan=new _(0,0),this.zoomOutEligibilityChecker=()=>({eligible:!0})}get zoom(){return this._zoom}set zoom(t){this._zoom!==t&&(this._zoom=t,this.zoomPanUpdated.emit())}get pan(){return new _(this._pan.x,this._pan.y)}set pan(t){this._pan.x===t.x&&this._pan.y===t.y||(this._pan=new _(t.x,t.y),this.zoomPanUpdated.emit())}static getInstance(){return void 0===Po.instance&&(Po.instance=new Po),Po.instance}setZoomAndPan(t,e){this._zoom===t&&this._pan.x===e.x&&this._pan.y===e.y||(this._zoom=t,this._pan=new _(e.x,e.y),this.zoomPanUpdated.emit())}getRelativePosition(t){return new _((t.x-this._pan.x)/this._zoom,(t.y-this._pan.y)/this._zoom)}getRelativeSize(t){return new _t(t.width/this._zoom,t.height/this._zoom)}getAbsolutePosition(t){return new _(t.x*this._zoom+this._pan.x,t.y*this._zoom+this._pan.y)}getAbsoluteSize(t){return new _t(t.width*this._zoom,t.height*this._zoom)}checkZoomOutEligibility(){return this.zoomOutEligibilityChecker()}setZoomOutEligibilityChecker(t){this.zoomOutEligibilityChecker=t}resetZoomOutEligibilityChecker(){this.zoomOutEligibilityChecker=()=>({eligible:!0})}}function Co(){return Po.getInstance()}function Ao(t,e,n){if(void 0===e.i)return Xi(n);const r=function(t,e,n,r,i){const o=new Zi(so,so);let s,a;if(void 0!==e.u&&e.u)s=new Dt(new Bt(0,0),new _t(1,1)),a=new Dt(new Bt(0,0),new _t(so,so));else{const t=n.size.width/n.size.height;s=new Dt(new Bt(0,0),new _t(t*so,so)),o.size.width=t*so}const c=no(null!=r?r:e.a,e.g,Xi(s)),h=n.getCenter(),l=io(-o.size.width/2,-o.size.height/2).scale(n.size.width/o.size.width*(n.flip.x?-1:1),n.size.height/o.size.height*(n.flip.y?-1:1)).rotate(i?0:I(n.rot)).translate(h.x,h.y);return t.map((t=>{const e=function(t,e,n,r,i){const o=Xi(r),s=new _(o.left+o.width()/2,o.top+o.height()/2),a=I(r.rot),c=io(-s.x,-s.y).scale(r.flip.x?-1:1,r.flip.y?-1:1).rotate(a).translate(s.x,s.y),h=new _(eo(t,n,o),eo(e,n,o));if(h.multiply(c),void 0!==i){const t=oo(i.size.width,i.size.height).translate(i.pos.x,i.pos.y);h.multiply(t)}return h}(t.x,t.y,c,s,a);return e.multiply(l),e}))}([{x:e.i[0],y:e.i[1]},{x:e.i[2],y:e.i[3]}],e,n,t,!0);return i=r[0],o=r[1],new Ji(i.x,i.y,o.x,o.y).normalize();var i,o}const jo="insertText";class To{constructor(t,e){this.actionType=jo,this.text=t,this.editPos=e}}class So{}class Ro{constructor(t,e,n,r){this.type=So,this.operations=t,this.selectionRange=e,this.ipCharProps=n,this.isFirstLastPara=r}}function Eo(t){return t.type===So}var Mo;!function(t){t[t.Edit=1]="Edit",t[t.View=2]="View"}(Mo||(Mo={}));class Oo{constructor(t){this.textModel=t,this.verOnEnterEdit=this.textModel.version.clone(),this.verOnExitEdit=this.textModel.version.clone(),this.isInEdit=!1}onEdit(){this.isInEdit||(this.isInEdit=!0,this.verOnEnterEdit=this.textModel.version.clone())}exitEdit(){this.isInEdit&&(this.isInEdit=!1,this.verOnExitEdit=this.textModel.version.clone())}isVersionUpdatedDuringEdit(){return 1===this.verOnExitEdit.compare(this.verOnEnterEdit)}}class ko{constructor(t,e,n,r,i){this.glow=t,this.shadow=e,this.innerShadow=n,this.reflection=r,this.softEdges=i}clone(){var t,e,n,r,i;return new ko(null===(t=this.glow)||void 0===t?void 0:t.clone(),null===(e=this.shadow)||void 0===e?void 0:e.clone(),null===(n=this.innerShadow)||void 0===n?void 0:n.clone(),null===(r=this.reflection)||void 0===r?void 0:r.clone(),null===(i=this.softEdges)||void 0===i?void 0:i.clone())}equals(t){return N(this.glow,t.glow)&&N(this.shadow,t.shadow)&&N(this.innerShadow,t.innerShadow)&&N(this.reflection,t.reflection)&&N(this.softEdges,t.softEdges)}}class Io{constructor(t,e){this.prompt=t,this.version=e}clone(){return new Io(this.prompt,this.version)}equals(t){return this.prompt===t.prompt&&this.version===t.version}}class Bo{constructor(){this.type=0}equals(t){return this.type===t.type}clone(){return new Bo}}class _o{constructor(){this.type=1}equals(t){return this.type===t.type}clone(){return new _o}}class Do{constructor(t,e){this.type=2,this.fontScale=t,this.lineSpaceReduction=e}equals(t){if(this.type!==t.type)return!1;const e=t;return this.fontScale===e.fontScale&&this.lineSpaceReduction===e.lineSpaceReduction}clone(){return new Do(this.fontScale,this.lineSpaceReduction)}}class Fo{constructor(t){this.bulletCharRepresentation=null!=t?t:""}equals(t){return this.bulletCharRepresentation===t.bulletCharRepresentation}}class No{}class Uo{constructor(t){this.bulletData=t,this.textBulletType=t instanceof Fo?2:0}equals(t){return this.textBulletType===t.textBulletType&&(0===this.textBulletType||this.bulletData instanceof Fo&&t.bulletData instanceof Fo&&this.bulletData.equals(t.bulletData))}clone(){return new Uo(this.bulletData)}}class Lo{constructor(t,e){this.unit=t,this.value=e}equals(t){return this.unit===t.unit&&this.value===t.value}clone(){return new Lo(this.unit,this.value)}}function qo(t){return 0===t.unit}class zo{constructor(t){this.type=1,this.source=t}equals(t){if(this.type!==t.type)return!1;const e=t;return this.source===e.source}clone(){return new zo(this.source)}}class $o{constructor(t,e,n){this.type=0,this.allowsOverflow=t,this.resizeLimit=e,this.isLimitSetByUser=n}equals(t){if(0!==t.type)return!1;const e=t;return this.allowsOverflow===e.allowsOverflow&&this.resizeLimit===e.resizeLimit&&this.isLimitSetByUser===e.isLimitSetByUser}clone(){return new $o(this.allowsOverflow,this.resizeLimit,this.isLimitSetByUser)}}class Ho{constructor(){this.charPropBag={bold:!1,italic:!1,baseline:0,underline:0,strike:0,fontSize:1100,fontFamily:"Calibri",fill:new ht(new tt(0,0,0,1)),letterSpacing:new Lo(1,0),highlight:new tt(0,0,0,0),cap:"none",line:new yt,effects:new ko,generativeFontEffect:new Io("",1)},this.paraPropBag={alignment:0,lineSpacing:new Lo(0,107),spaceBeforeParagraph:new Lo(1,0),spaceAfterParagraph:new Lo(1,8),leftMargin:0,rightMargin:0,indent:0,fontAlignment:"baseline",bullet:new Uo(0),direction:0},this.textBodyPropBag={anchoring:1,topInset:45729,bottomInset:45729,leftInset:91440,rightInset:91440,vertOverflow:2,horzOverflow:1,autoFit:new Bo,textWrapping:new zo,upRight:!1,spaceFirstLastPara:!1,pathGeometry:new Me(0)},this.lineSpacingFactor=1.34,this.directionalAutofit=!1,this.infoOnNoWrapping={allowsOverflow:!1,cssAttributePairOnOverflow:{attribute:"white-space",val:"pre"},horizResizeLimit:void 0,isLimitSetByUser:void 0},this.infoOnWordWrapping={source:void 0}}static getInstance(){return void 0===Ho.instance&&(Ho.instance=new Ho),Ho.instance}}class Vo{equals(t){return this.anchoring===t.anchoring&&this.topInset===t.topInset&&this.bottomInset===t.bottomInset&&this.leftInset===t.leftInset&&this.rightInset===t.rightInset&&this.vertOverflow===t.vertOverflow&&this.horzOverflow===t.horzOverflow&&!!N(this.autoFit,t.autoFit)&&!!N(this.textWrapping,t.textWrapping)&&this.upRight===t.upRight&&this.spaceFirstLastPara===t.spaceFirstLastPara&&this.pathGeometry===t.pathGeometry}clone(){return Wo(this)}setFrom(t){void 0!==t.anchoring&&this.anchoring!==t.anchoring&&(this.anchoring=t.anchoring),void 0!==t.topInset&&this.topInset!==t.topInset&&(this.topInset=t.topInset),void 0!==t.bottomInset&&this.bottomInset!==t.bottomInset&&(this.bottomInset=t.bottomInset),void 0!==t.leftInset&&this.leftInset!==t.leftInset&&(this.leftInset=t.leftInset),void 0!==t.rightInset&&this.rightInset!==t.rightInset&&(this.rightInset=t.rightInset),void 0!==t.vertOverflow&&this.vertOverflow!==t.vertOverflow&&(this.vertOverflow=t.vertOverflow),void 0!==t.horzOverflow&&this.horzOverflow!==t.horzOverflow&&(this.horzOverflow=t.horzOverflow),void 0===t.autoFit||void 0!==this.autoFit&&this.autoFit.equals(t.autoFit)||(this.autoFit=t.autoFit),void 0!==t.textWrapping&&this.textWrapping!==t.textWrapping&&(this.textWrapping=t.textWrapping),void 0!==t.upRight&&this.upRight!==t.upRight&&(this.upRight=t.upRight),void 0!==t.spaceFirstLastPara&&this.spaceFirstLastPara!==t.spaceFirstLastPara&&(this.spaceFirstLastPara=t.spaceFirstLastPara),void 0!==t.pathGeometry&&this.pathGeometry!==t.pathGeometry&&(this.pathGeometry=t.pathGeometry)}resolve(){const t=Ho.getInstance().textBodyPropBag;if(void 0===this.anchoring&&(this.anchoring=t.anchoring),void 0===this.topInset&&(this.topInset=t.topInset),void 0===this.bottomInset&&(this.bottomInset=t.bottomInset),void 0===this.leftInset&&(this.leftInset=t.leftInset),void 0===this.rightInset&&(this.rightInset=t.rightInset),void 0===this.vertOverflow&&(this.vertOverflow=t.vertOverflow),void 0===this.horzOverflow&&(this.horzOverflow=t.horzOverflow),void 0===this.autoFit&&(this.autoFit=new Bo),void 0===this.textWrapping){this.textWrapping=new zo;const t=this.textWrapping;void 0===t.source&&(t.source=Ho.getInstance().infoOnWordWrapping.source)}else if(0===this.textWrapping.type){const t=this.textWrapping;void 0===t.allowsOverflow&&(t.allowsOverflow=Ho.getInstance().infoOnNoWrapping.allowsOverflow),void 0===t.resizeLimit&&(t.resizeLimit=Ho.getInstance().infoOnNoWrapping.horizResizeLimit),void 0===t.isLimitSetByUser&&(t.isLimitSetByUser=Ho.getInstance().infoOnNoWrapping.isLimitSetByUser)}return void 0===this.upRight&&(this.upRight=t.upRight),void 0===this.spaceFirstLastPara&&(this.spaceFirstLastPara=t.spaceFirstLastPara),void 0===this.pathGeometry&&(this.pathGeometry=t.pathGeometry),this}intersect(t){this.anchoring!==t.anchoring&&(this.anchoring=void 0),this.topInset!==t.topInset&&(this.topInset=void 0),this.bottomInset!==t.bottomInset&&(this.bottomInset=void 0),this.leftInset!==t.leftInset&&(this.leftInset=void 0),this.rightInset!==t.rightInset&&(this.rightInset=void 0),this.vertOverflow!==t.vertOverflow&&(this.vertOverflow=void 0),this.horzOverflow!==t.horzOverflow&&(this.horzOverflow=void 0),void 0===this.autoFit||void 0!==t.autoFit&&this.autoFit.equals(t.autoFit)||(this.autoFit=void 0),void 0===this.textWrapping||void 0!==t.textWrapping&&this.textWrapping.equals(t.textWrapping)||(this.textWrapping=void 0),this.upRight!==t.upRight&&(this.upRight=void 0),this.spaceFirstLastPara!==t.spaceFirstLastPara&&(this.spaceFirstLastPara=void 0),this.pathGeometry!==t.pathGeometry&&(this.pathGeometry=void 0)}clear(t){this[t]=void 0}}function Wo(t){const e=new Vo;return void 0!==t.anchoring&&(e.anchoring=t.anchoring),void 0!==t.topInset&&(e.topInset=t.topInset),void 0!==t.bottomInset&&(e.bottomInset=t.bottomInset),void 0!==t.leftInset&&(e.leftInset=t.leftInset),void 0!==t.rightInset&&(e.rightInset=t.rightInset),void 0!==t.vertOverflow&&(e.vertOverflow=t.vertOverflow),void 0!==t.horzOverflow&&(e.horzOverflow=t.horzOverflow),void 0!==t.autoFit&&(e.autoFit=t.autoFit.clone()),void 0!==t.textWrapping&&(e.textWrapping=t.textWrapping.clone()),void 0!==t.upRight&&(e.upRight=t.upRight),void 0!==t.spaceFirstLastPara&&(e.spaceFirstLastPara=t.spaceFirstLastPara),void 0!==t.pathGeometry&&(e.pathGeometry=t.pathGeometry),e}function Go(t){return!0===t.textBody.getTextBodyPropertyBag().upRight}class Ko{constructor(t,e){this.type=0,this.x=t,this.y=e}}class Qo{constructor(t,e,n,r,i=!1){this.type=1,this.scaleX=t,this.scaleY=e,this.originX=n,this.originY=r,this.lockAspectRatio=i}}class Yo{constructor(t){this.type=2,this.rotation=t}}function Jo(t){return Xo(t.container)}function Xo(t){const e=t.getElementsByClassName("ql-editor")[0];let n=0;for(const t of e.childNodes){const e=t.offsetHeight,r=[];for(const e of t.childNodes){const t=Math.round(parseFloat(getComputedStyle(e).lineHeight));if(0===t)return 0;r.push(t)}if(1===t.childNodes.length)n+=Math.round(e/r[0]);else{r.sort(((t,e)=>e-t));let t=0,i=e;for(;i>0&&t<r.length;){const e=i-r[t];e>=0&&(i=e,n+=1),t+=1}}}return n}const Zo="deleteText";class ts{constructor(t,e=!1){this.actionType=Zo,this.textRange=t,this.isOnCaretPlacement=e}}const es="replaceText";class ns{constructor(t,e,n){this.actionType=es,this.text=t,this.textRange=e,this.textRangeAfter=n}}function rs(t,e){(e<0||e>=t)&&w("Text","InvalidCharPosition",`Invalid char position: ${e}, text length: ${t}`)}function is(t,e){(e.charPos<0||e.length<0||e.charPos>=t||e.charPos+e.length>t)&&w("Text","InvalidTextRange",`Invalid range position: ${e.charPos}, input range length: ${e.length}, model text length: ${t}`)}function os(t){return Lt("ThumbnailTemplateTextBoxWidthMismatch")?Math.floor(t/10)/10+"pt":t/100+"pt"}function ss(t){return t.transforms.length>0?nt(function(t){return xe(t)?Ce(t):at(t)?be(t):t}(t.transforms.reduce(((t,e)=>e.transform(t)),t))):t}function as(t,e){if(et(t))return ss(t);if(ye(t)){if(void 0===e)throw new Error("ThemeInfo should be provided to resolve SchemeColors.");return ss(function(t,e){const n=t.theme.colorScheme.presets[t.schemeMapping[e.presetColorType]];return new tt(n.r,n.g,n.b,n.a,[...e.transforms])}(e,t))}throw new Error(`Unsupported color type to resolve: ${t.type}.`)}class cs{constructor(t,e){this.position=t,this.color=e}clone(){return new cs(this.position,this.color)}equals(t){return this.position===t.position&&this.color.equals(t.color)}}class hs{constructor(t,e,n,r,i,o=!0){this.type=3,this.gradientType=t,this.stops=e,this.fromRect=n,this.toRect=r,this.angle=i,this.rotateWithShape=o}clone(){var t,e;return new hs(this.gradientType,this.stops.map((t=>t.clone())),null===(t=this.fromRect)||void 0===t?void 0:t.clone(),null===(e=this.toRect)||void 0===e?void 0:e.clone(),this.angle,this.rotateWithShape)}equals(t){return!!ls(t)&&this.gradientType===t.gradientType&&function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n+=1)if(!F(t[n],e[n]))return!1;return!0}(this.stops,t.stops)&&N(this.fromRect,t.fromRect)&&N(this.toRect,t.toRect)&&this.angle===t.angle&&this.rotateWithShape===t.rotateWithShape}}function ls(t){return 3===t.type}function ds(t){return 96*t/72}function us(t){return t/914400*96}function ps(t,e){switch(t){case 0:return e.major;case 1:return e.minor;case 2:return;default:b(t)}}function fs(t,e){const n=function(t){switch(t){case"+mn-lt":return[1,0];case"+mn-ea":return[1,1];case"+mn-cs":return[1,2];case"+mj-lt":return[0,0];case"+mj-ea":return[0,1];case"+mj-cs":return[0,2];default:return}}(t);if(void 0===n)return t;const r=ps(n[0],e);return void 0!==r?function(t,e){switch(t){case 0:return e.latin.typeface;case 1:return e.eastAsian.typeface;case 2:return e.complexScript.typeface;default:b(t)}}(n[1],r):""}class ys{equals(t){return!!(N(this.fill,t.fill)&&this.bold===t.bold&&this.italic===t.italic&&this.underline===t.underline&&this.strike===t.strike&&this.fontSize===t.fontSize&&this.fontFamily===t.fontFamily&&N(this.letterSpacing,t.letterSpacing)&&this.cap===t.cap&&this.highlight===t.highlight&&N(this.line,t.line)&&N(this.effects,t.effects)&&N(this.generativeFontEffect,t.generativeFontEffect)&&this.baseline===t.baseline)}clone(){return gs(this)}setFrom(t){void 0===t.fill||void 0!==this.fill&&this.fill.equals(t.fill)||(this.fill=t.fill.clone()),void 0!==t.bold&&this.bold!==t.bold&&(this.bold=t.bold),void 0!==t.italic&&this.italic!==t.italic&&(this.italic=t.italic),void 0!==t.underline&&this.underline!==t.underline&&(this.underline=t.underline),void 0!==t.strike&&this.strike!==t.strike&&(this.strike=t.strike),void 0!==t.fontSize&&this.fontSize!==t.fontSize&&(this.fontSize=t.fontSize),void 0!==t.fontFamily&&this.fontFamily!==t.fontFamily&&(this.fontFamily=t.fontFamily),void 0===t.generativeFontEffect||void 0!==this.generativeFontEffect&&this.generativeFontEffect.equals(t.generativeFontEffect)||(this.generativeFontEffect=t.generativeFontEffect.clone()),void 0===t.letterSpacing||void 0!==this.letterSpacing&&this.letterSpacing.equals(t.letterSpacing)||(this.letterSpacing=t.letterSpacing.clone()),void 0!==t.cap&&this.cap!==t.cap&&(this.cap=t.cap),void 0!==t.highlight&&this.highlight!==t.highlight&&(this.highlight=t.highlight),void 0===t.line||void 0!==this.line&&this.line.equals(t.line)||(this.line=t.line.clone()),void 0===t.effects||void 0!==this.effects&&this.effects.equals(t.effects)||(this.effects=t.effects.clone()),void 0!==t.baseline&&this.baseline!==t.baseline&&(this.baseline=t.baseline)}resolve(t,e,n){const r=null!=n?n:Ho.getInstance().charPropBag;return void 0===this.fill&&(void 0!==t&&void 0!==t.color?this.fill=new ht(as(t.color,e)):this.fill=r.fill.clone()),void 0===this.bold&&(this.bold=r.bold),void 0===this.italic&&(this.italic=r.italic),void 0===this.underline&&(this.underline=r.underline),void 0===this.strike&&(this.strike=r.strike),void 0===this.fontSize&&(this.fontSize=r.fontSize),void 0===this.letterSpacing&&(this.letterSpacing=r.letterSpacing),void 0!==this.fontFamily?this.fontFamily=void 0!==e?fs(this.fontFamily,e.theme.fontScheme):this.fontFamily:this.fontFamily=void 0!==t&&void 0!==e?function(t,e){const n=ps(t.index,e);return void 0!==n?n.latin.typeface:""}(t,e.theme.fontScheme):r.fontFamily,void 0===this.generativeFontEffect&&(this.generativeFontEffect=r.generativeFontEffect),void 0===this.highlight&&(this.highlight=r.highlight),void 0===this.cap&&(this.cap=r.cap),void 0===this.line&&(this.line=r.line),void 0===this.effects&&(this.effects=r.effects),void 0===this.baseline&&(this.baseline=r.baseline),this}intersect(t){void 0===this.fill||void 0!==t.fill&&this.fill.equals(t.fill)||(this.fill=void 0),this.bold!==t.bold&&(this.bold=void 0),this.italic!==t.italic&&(this.italic=void 0),this.underline!==t.underline&&(this.underline=void 0),this.strike!==t.strike&&(this.strike=void 0),this.fontSize!==t.fontSize&&(this.fontSize=void 0),this.fontFamily!==t.fontFamily&&(this.fontFamily=void 0),void 0===this.generativeFontEffect||void 0!==t.generativeFontEffect&&this.generativeFontEffect.equals(t.generativeFontEffect)||(this.generativeFontEffect=void 0),void 0===this.letterSpacing||void 0!==t.letterSpacing&&this.letterSpacing.equals(t.letterSpacing)||(this.letterSpacing=void 0),this.highlight!==t.highlight&&(this.highlight=void 0),this.cap!==t.cap&&(this.cap=void 0),void 0===this.line||void 0!==t.line&&this.line.equals(t.line)||(this.line=void 0),void 0===this.effects||void 0!==t.effects&&this.effects.equals(t.effects)||(this.effects=void 0),this.baseline!==t.baseline&&(this.baseline=void 0)}clear(t){this[t]=void 0}}function gs(t){const e=new ys;return void 0!==t.fill&&(e.fill=t.fill.clone()),void 0!==t.bold&&(e.bold=t.bold),void 0!==t.italic&&(e.italic=t.italic),void 0!==t.underline&&(e.underline=t.underline),void 0!==t.strike&&(e.strike=t.strike),void 0!==t.fontSize&&(e.fontSize=t.fontSize),void 0!==t.fontFamily&&(e.fontFamily=t.fontFamily),void 0!==t.generativeFontEffect&&(e.generativeFontEffect=t.generativeFontEffect.clone()),void 0!==t.letterSpacing&&(e.letterSpacing=t.letterSpacing.clone()),void 0!==t.highlight&&(e.highlight=t.highlight),void 0!==t.cap&&(e.cap=t.cap),void 0!==t.line&&(e.line=t.line.clone()),void 0!==t.effects&&(e.effects=t.effects.clone()),void 0!==t.baseline&&(e.baseline=t.baseline),e}function xs(t,e){if(2!==(null==e?void 0:e.type))return t;const n=e;return void 0===n.fontScale?t:n.fontScale/1e5*t}function vs(t,e){if(2!==(null==e?void 0:e.type)||!qo(t))return t;const n=e;return void 0===n.lineSpaceReduction?t:new Lo(0,t.value-n.lineSpaceReduction.value)}class ms{equals(t){return this.alignment===t.alignment&&!!N(this.lineSpacing,t.lineSpacing)&&!!N(this.spaceBeforeParagraph,t.spaceBeforeParagraph)&&!!N(this.spaceAfterParagraph,t.spaceAfterParagraph)&&this.leftMargin===t.leftMargin&&this.rightMargin===t.rightMargin&&this.indent===t.indent&&this.fontAlignment===t.fontAlignment&&this.direction===t.direction}clone(){return ws(this)}setFrom(t){void 0!==t.alignment&&this.alignment!==t.alignment&&(this.alignment=t.alignment),void 0===t.lineSpacing||N(t.lineSpacing,this.lineSpacing)||(this.lineSpacing=t.lineSpacing.clone()),void 0===t.spaceBeforeParagraph||N(t.spaceBeforeParagraph,this.spaceBeforeParagraph)||(this.spaceBeforeParagraph=t.spaceBeforeParagraph.clone()),void 0===t.spaceAfterParagraph||N(t.spaceAfterParagraph,this.spaceAfterParagraph)||(this.spaceAfterParagraph=t.spaceAfterParagraph.clone()),void 0!==t.leftMargin&&this.leftMargin!==t.leftMargin&&(this.leftMargin=t.leftMargin),void 0!==t.rightMargin&&this.rightMargin!==t.rightMargin&&(this.rightMargin=t.rightMargin),void 0!==t.indent&&this.indent!==t.indent&&(this.indent=t.indent),void 0!==t.fontAlignment&&this.fontAlignment!==t.fontAlignment&&(this.fontAlignment=t.fontAlignment),void 0===t.bullet||N(t.bullet,this.bullet)||(this.bullet=t.bullet.clone()),void 0!==t.direction&&this.direction!==t.direction&&(this.direction=t.direction)}resolve(){const t=Ho.getInstance().paraPropBag;return void 0===this.alignment&&(this.alignment=t.alignment),void 0===this.lineSpacing&&(this.lineSpacing=t.lineSpacing.clone()),void 0===this.spaceBeforeParagraph&&(this.spaceBeforeParagraph=t.spaceBeforeParagraph.clone()),void 0===this.spaceAfterParagraph&&(this.spaceAfterParagraph=t.spaceAfterParagraph.clone()),void 0===this.leftMargin&&(this.leftMargin=t.leftMargin),void 0===this.rightMargin&&(this.rightMargin=t.rightMargin),void 0===this.indent&&(this.indent=t.indent),void 0===this.fontAlignment&&(this.fontAlignment=t.fontAlignment),void 0===this.bullet&&(this.bullet=t.bullet.clone()),void 0===this.direction&&(this.direction=t.direction),this}intersect(t){this.alignment!==t.alignment&&(this.alignment=void 0),void 0===this.lineSpacing||void 0!==t.lineSpacing&&this.lineSpacing.equals(t.lineSpacing)||(this.lineSpacing=void 0),void 0===this.spaceBeforeParagraph||void 0!==t.spaceBeforeParagraph&&this.spaceBeforeParagraph.equals(t.spaceBeforeParagraph)||(this.lineSpacing=void 0),void 0===this.spaceAfterParagraph||void 0!==t.spaceAfterParagraph&&this.spaceAfterParagraph.equals(t.spaceAfterParagraph)||(this.lineSpacing=void 0),this.leftMargin!==t.leftMargin&&(this.leftMargin=void 0),this.rightMargin!==t.rightMargin&&(this.rightMargin=void 0),this.indent!==t.indent&&(this.indent=void 0),this.fontAlignment===t.fontAlignment&&(this.fontAlignment=void 0),void 0===this.bullet||void 0!==t.bullet&&this.bullet.equals(t.bullet)||(this.bullet=void 0),this.direction!==t.direction&&(this.direction=void 0)}clear(t){this[t]=void 0}}function ws(t){const e=new ms;return void 0!==t.alignment&&(e.alignment=t.alignment),void 0!==t.lineSpacing&&(e.lineSpacing=t.lineSpacing.clone()),void 0!==t.spaceBeforeParagraph&&(e.spaceBeforeParagraph=t.spaceBeforeParagraph.clone()),void 0!==t.spaceAfterParagraph&&(e.spaceAfterParagraph=t.spaceAfterParagraph.clone()),void 0!==t.leftMargin&&(e.leftMargin=t.leftMargin),void 0!==t.rightMargin&&(e.rightMargin=t.rightMargin),void 0!==t.indent&&(e.indent=t.indent),void 0!==t.fontAlignment&&(e.fontAlignment=t.fontAlignment),void 0!==t.bullet&&(e.bullet=t.bullet.clone()),void 0!==t.direction&&(e.direction=t.direction),e}function bs(t,e){return lt(t)?rt(as(t.color,e)):ls(t)?rt(as(t.stops[0].color,e)):Qi(t)?"transparent":rt(new tt(0,0,0,1))}function Ps(t){var e;return 0===t.textWrapping.type&&null!==(e=t.textWrapping.allowsOverflow)&&void 0!==e&&e&&0===t.autoFit.type}function Cs(t,e,n,r){var i,o;const s={},a=gs(t).resolve(e.fontRef,e.hostContext.themeInfo,e.defaultCharProps);let c,h=a.fontFamily,l=a.bold,d=a.italic;if(void 0!==n.fontManager){const{fontFamily:t,style:e}=n.fontManager.resolveFont(h,{bold:l,italic:d});h=t,l=e.bold,d=e.italic,c=n.fontManager.ensureFont(h)}else c=h;const u=bs(a.fill,e.hostContext.themeInfo);s.color=u,s.bold=l,s.italic=d,s.underline=0!==a.underline,2===a.strike?s.textDecoration="line-through double":s.strike=1===a.strike,s.caretColor=Qi(a.fill)?rt(new tt(0,0,0,1)):u;let p=a.fontSize;if(void 0===r?p=xs(a.fontSize,e.textBody.getTextBodyPropertyBag().autoFit):p*=r/1e5,Lt("EnableSuperSubScript")&&(p*=void 0===a.baseline||0===a.baseline?1:.6666666666666666,s.verticalAlign=`${null!==(i=a.baseline)&&void 0!==i?i:0}%`),s.size=os(p),s.font=c,qo(a.letterSpacing)?s.letterSpacing=a.letterSpacing.value/100+"em":s.letterSpacing=`${a.letterSpacing.value}pt`,s.background=rt(as(a.highlight)),s.textTransform=a.cap,void 0!==a.line){const t=a.line;if(void 0!==t.fill){const n=bs(t.fill,e.hostContext.themeInfo);s.outlineColor=n,s.caretColor=Qi(a.fill)?n:u,s.outlineWidth=`${null!==(o=t.weight)&&void 0!==o?o:1}pt`}}return s}function As(t,e){const n={},r=ws(t).resolve();switch(r.alignment){case 0:n.align="left";break;case 2:n.align="right";break;case 1:n.align="center";break;case 3:n.align="justify";break;default:b(r.alignment)}if(Ps(Wo(e).resolve()))switch(r.alignment){case 0:n.alignself="flex-start";break;case 2:n.alignself="flex-end";break;case 1:n.alignself="center";break;case 3:break;default:throw new Error("Unsupprted alignement type")}Lt("TextInternationalizationRTL")&&(1===r.direction?n.direction="rtl":n.direction="ltr");const i=vs(r.lineSpacing,e.autoFit);n.lineheight=qo(i)?i.value*Ho.getInstance().lineSpacingFactor/100:`${ds(i.value)}px`;const o=r.spaceBeforeParagraph;qo(o)||(n.spaceBeforePara=`${ds(o.value)}px`);const s=r.spaceAfterParagraph;return qo(s)||(n.spaceAfterPara=`${ds(s.value)}px`),n.paraLeftMargin=`${us(r.leftMargin)}px`,n.paraRightMargin=`${us(r.rightMargin)}px`,n.paraIndent=`${us(r.indent)}px`,Lt("EnableSuperSubScript")||(n.verticalAlign=r.fontAlignment),n}var js=n(862),Ts=n.n(js);const Ss=Ts().import("parchment"),Rs={scope:Ss.Scope.BLOCK_BLOT,whitelist:void 0},Es={scope:Ss.Scope.INLINE,whitelist:void 0},Ms=new(Ts().import("parchment").Attributor.Style)("alignself","align-self",Rs),Os=new(Ts().import("parchment").Attributor.Style)("caretColor","caret-color",Es),ks=new(Ts().import("parchment").Attributor.Attribute)("direction","dir"),Is=Ts().import("formats/font");Is.whitelist=void 0;const Bs=Ts().import("formats/size");Bs.whitelist=void 0;const _s=new(Ts().import("parchment").Attributor.Style)("letterSpacing","letter-spacing",Es),Ds=new(Ts().import("parchment").Attributor.Style)("lineheight","line-height",Rs),Fs=new(Ts().import("parchment").Attributor.Style)("outlineColor","-webkit-text-stroke-color",Es),Ns=new(Ts().import("parchment").Attributor.Style)("outlineWidth","-webkit-text-stroke-width",Es),Us=new(Ts().import("parchment").Attributor.Style)("paraIndent","text-indent",Rs),Ls=new(Ts().import("parchment").Attributor.Style)("paraLeftMargin","margin-left",Rs),qs=new(Ts().import("parchment").Attributor.Style)("paraRightMargin","margin-right",Rs),zs=new(Ts().import("parchment").Attributor.Style)("spaceAfterPara","margin-bottom",Rs),$s=new(Ts().import("parchment").Attributor.Style)("spaceBeforePara","margin-top",Rs),Hs=Ts().import("parchment"),Vs=new Hs.Attributor.Style("align","text-align",{scope:Hs.Scope.BLOCK,whitelist:["left","right","center","justify"]}),Ws=new(Ts().import("parchment").Attributor.Style)("textDecoration","text-decoration",Es),Gs=Ts().import("parchment"),Ks=new Gs.Attributor.Style("textTransform","text-transform",{scope:Gs.Scope.INLINE_BLOT,whitelist:["none","uppercase","lowercase"]}),Qs=Ts().import("parchment"),Ys=new Qs.Attributor.Style("verticalAlign","vertical-align",{scope:Qs.Scope.INLINE_BLOT,whitelist:void 0}),Js=Ts().import("parchment"),Xs=new Js.Attributor.Style("whitespace","white-space",{scope:Js.Scope.INLINE_BLOT,whitelist:["pre-wrap","normal","break-spaces"]}),Zs=Ts().import("delta"),ta=Ts().import("core/module"),ea=["insertText","insertReplacementText"];class na extends ta{constructor(t,e){super(t,e),this.handleBeforeInput=t=>{if(t.isComposing||t.defaultPrevented||!ea.includes(t.inputType))return;const e=t.getTargetRanges()[0];if(void 0===e||e.collapsed)return;const n=function(t){var e;return"string"==typeof t.data?t.data:(null===(e=t.dataTransfer)||void 0===e?void 0:e.types.includes("text/plain"))?t.dataTransfer.getData("text/plain"):void 0}(t);if(void 0===n)return;const r=this.quill.selection.normalizeNative(e),i=r?this.quill.selection.normalizedToRange(r):void 0;void 0!==i&&this.replaceText(i,n)&&t.preventDefault()},t.root.addEventListener("beforeinput",this.handleBeforeInput)}deleteRange(t){const e=this.quill.getLines(t);let n={};if(e.length>=1){const t=e[0].formats();n=function(t,e){const n={};for(const r of Object.keys(t))t[r]!==e[r]&&(n[r]=void 0!==e[r]?e[r]:void 0);for(const r of Object.keys(e))void 0===t[r]&&void 0!==e[r]&&(n[r]=e[r]);return n}(e[e.length-1].formats(),t)}this.quill.deleteText(t,"user"),Object.keys(n).length>0&&this.quill.formatLine(t.index,1,n,"user"),this.quill.setSelection(t.index,"user"),this.quill.focus()}replaceText(t,e=""){if(0===t.length)return!1;if(e.length>0){const n=this.quill.getFormat(t.index,1);this.quill.updateContents((new Zs).retain(t.index).delete(t.length).insert(e,n),"user")}else this.deleteRange(t);return this.quill.setSelection(t.index+e.length,0,"silent"),!0}}const ra=Ts().import("modules/clipboard");class ia extends ra{constructor(t,e){super(t,e),this.quill.root.addEventListener("cut",this.onCut)}onCut(t){t.preventDefault()}onPaste(t){t.preventDefault()}}const oa=Ts().import("core/module");class sa extends oa{constructor(t,e){super(t,e),this.onDrag=t=>{t.preventDefault()},this.onDrop=t=>{t.preventDefault()},this.quill.root.addEventListener("drag",this.onDrag),this.quill.root.addEventListener("drop",this.onDrop)}}function aa(){return window.navigator.userAgent.indexOf("Macintosh")>=0}const ca=Ts().import("modules/keyboard");class ha extends ca{constructor(t,e){super(t,e),this.onKeyDownProcess=t=>{if(aa()?t.metaKey:t.ctrlKey)switch(t.key){case"a":case"b":case"i":case"u":case"ArrowUp":case"ArrowDown":case"ArrowLeft":case"ArrowRight":break;default:return}t.stopPropagation()},this.quill.root.addEventListener("keydown",this.onKeyDownProcess)}}ha.DEFAULTS={};const la=Ts().import("modules/history");class da extends la{undo(){}redo(){}}const ua="toggleTextChararacterRunAction";class pa{constructor(t){this.actionType=ua,this.propertyName=t}}function fa(){return new pa(0)}function ya(){return new pa(1)}function ga(){return new pa(2)}function xa(){return new pa(3)}const va="setTextSelection";class ma{constructor(t){this.actionType=va,void 0!==t&&(this.textRange=t.clone())}}const wa=Ts().import("parchment");function ba(t,e){const[n]=t.scroll.leaf(e);return n instanceof wa.Embed}function Pa(t,e,n,r,i){i?void 0!==n&&n.actionInvoker.invoke(new ma(new Bi(t,e))):r.setSelection(t,e,"user")}const Ca=new q((()=>({formats:["bold","italic","underline","strike","color","font","size","align","lineheight","spaceBeforePara","spaceAfterPara","paraIndent","paraLeftMargin","paraRightMargin","whitespace","letterSpacing","caretColor","background","textTransform","verticalAlign","alignself","outlineColor","outlineWidth","direction","textDecoration"],modules:ja()})));let Aa=!1;const ja=()=>{const t={dragdrop:{},keyboard:{bindings:{}}};return Lt("UseCustomBeforeInputModule")&&(t.beforeinput={}),t};function Ta(t,e){Aa||(Aa=!0,Ts().register(Is,!0),Ts().register(Bs,!0),Ts().register(Vs,!0),Ts().register(_s,!0),Ts().register(Os,!0),Ts().register(Ds,!0),Ts().register(Ys,!0),Ts().register($s,!0),Ts().register(zs,!0),Ts().register(Ls,!0),Ts().register(qs,!0),Ts().register(Us,!0),Ts().register(Fs,!0),Ts().register(Ns,!0),Ts().register(Xs,!0),Ts().register(Ks,!0),Ts().register(Ms,!0),Ts().register(ks,!0),Ts().register(Ws,!0),Ts().register("modules/clipboard",ia,!0),Ts().register("modules/dragdrop",sa),Ts().register("modules/history",da,!0),Ts().register("modules/keyboard",ha,!0),Ts().register("modules/beforeinput",na));const n=new(Ts())(t,Ca.value);return void 0===e?n.enable(!1):function(t,e){const n=t.getModule("keyboard");n.addBinding({key:"b",shortKey:!0},(()=>(e.actionInvoker.invoke(fa()),!1))),n.addBinding({key:"i",shortKey:!0},(()=>(e.actionInvoker.invoke(ya()),!1))),n.addBinding({key:"u",shortKey:!0},(()=>(e.actionInvoker.invoke(ga()),!1)))}(n,e),n}const Sa="\n",Ra=" ",Ea="",Ma="";function Oa(t,e){for(const n of Object.keys(e))void 0!==e[n]&&t.format(n,e[n],"api")}function ka(t,e){return rs(t.length,e),t[e]===Ra||t[e]===Ea}function Ia(t,e,n,r,i=!1,o){try{if(Lt("QuillSelectionRefactor"))return void function(t,e,n,r,i){let o=!1;const s=t.textBody,a=s.getText(new Bi(0,s.length)),c=function(t,e){return rs(t.length,e),0===e&&t[e]===Sa||e>0&&t[e-1]===Sa&&t[e]===Sa}(a,r),h=function(t,e){return rs(t.length,e),0===e||e>0&&(ka(t,e-1)||t[e-1]===Sa)||t[e]===Sa||ka(t,e)}(a,r);if(ba(e,r)&&(o=!0),!c&&!h&&!o)return;let l=Di(t,new Bi(r,0));const d=void 0!==i&&!l.equals(i);if(d&&void 0!==i&&(l=i),!(c||h&&d||o))return;const u=t.textBody.getParagraphRunPropertyBag(new Bi(r,0));Oa(e,Cs(l,t,n)),void 0!==u&&Oa(e,{verticalAlign:u.resolve().fontAlignment})}(t,e,n,r,o);const s=t.textBody;if(!i&&!s.isParagraphBoundary(r))return;if(0===r&&t.textBody.getText(new Bi(0,1))!==Sa)return;const a=r>0?r-1:r,c=s.textCharFormats.getRunBag(a);let h;void 0===c&&m(0,"undefined charRunPropertyBag when updateCursor"),i&&void 0!==o?(h=c.clone(),h.setFrom(o)):h=c;const l=t.textBody.getParagraphRunPropertyBag(new Bi(r,0));Oa(e,Cs(h,t,n)),void 0!==l&&Oa(e,{verticalAlign:l.resolve().fontAlignment})}catch(t){u(0,`Text updateCursor Exception: ${t.message}`)}}function Ba(t,e,n){const r=e.textBody,i=new Bi(0,r.length),o=r.getText(i);if("\n"===o[0]){const r=_a(0,e,n);t.formatLine(0,0,"lineheight",`${r}pt`,"api")}let s=0,a=o.indexOf("\n\n",s);for(;-1!==a;){const r=_a(a,e,n);t.formatLine(a+1,0,"lineheight",`${r}pt`,"api"),s=a+1,a=o.indexOf("\n\n",s)}}function _a(t,e,n){const r=e.textBody,i=new Bi(t,0),o=r.getCharacterRunPropertyBag(i),s=r.getParagraphRunPropertyBag(i);void 0!==o&&void 0!==s||m(0,"undefined charBag or paraBag in getAdjustedLineHeight");const a=gs(o).resolve(e.fontRef,e.hostContext.themeInfo,e.defaultCharProps),c=ws(s).resolve(),h=void 0===n?xs(a.fontSize,r.getTextBodyPropertyBag().autoFit)/100:n*a.fontSize/1e7,l=vs(c.lineSpacing,r.getTextBodyPropertyBag().autoFit);return qo(l)?l.value*Ho.getInstance().lineSpacingFactor/100*h:l.value}function Da(t,e,n){if(!Lt("UsePreWrapWhiteSpace"))if(Lt("HandleAllTrailingWithSpace")){const n=e.getText(new Bi(0,e.length));let r=0,i=n.indexOf(Sa,r);for(;i>-1;){let e=i>0?i-1:i;if(Lt("NBSPFormattingFix")){for(;e>=r&&n[e]===Ra;)Fa(t,e),e-=1;for(e=r;e<i&&n[e]===Ra;)Fa(t,e),e+=1}else{for(;e>=r&&n[e]===Ra;)Fa(t,e,!1),e-=1;for(e=r;e<i&&n[e]===Ra;)Fa(t,e,!1),e+=1}r=i+1,i=n.indexOf(Sa,r)}}else{const r=e.getText(new Bi(0,e.length));if(void 0!==n)if(Lt("NBSPFormattingFix")){const e=Lt("NBSPIndexFix")?0:n.length;r[n.charPos]===Sa&&r[n.charPos-1]===Ra&&Fa(t,n.charPos+e-1),r[n.charPos-1]===Sa&&r[n.charPos-2]===Ra&&Fa(t,n.charPos+e-2)}else r[n.charPos]===Sa&&r[n.charPos-1]===Ra&&Fa(t,n.charPos-1,!1),r[n.charPos-1]===Sa&&r[n.charPos-2]===Ra&&Fa(t,n.charPos+n.length-2,!1);else if(Lt("NBSPIndexFix"))for(let e=1;e<r.length;e++)r[e]===Sa&&r[e-1]===Ra&&t.getText(e-1,1)===Ra&&Fa(t,e-1)}}function Fa(t,e,n=!0){n?(t.insertText(e,Ea,"api"),t.deleteText(e+1,1,"api")):(t.deleteText(e,1,"api"),t.insertText(e,Ea,"api"))}function Na(t,e,n){var r;if(Lt("UsePreWrapWhiteSpace"))return function(t,e){const n=t.getText();for(let r=0;r<n.length;r++)if(n[r]===Ea&&e.getText(new Bi(r,1))!==Ea&&!n.substring(r-1,r+2).includes(Ra)){const e=t.getFormat(r,1);t.deleteText(r,1,"api"),t.insertText(r," ","api"),t.formatText(r,1,e,"api")}}(t,e),void function(t,e){const n=/ {2,}/g,r=e.getText();let i=n.exec(r);for(;null!==i;){const e=t.getFormat(i.index,1);i[0].split("").forEach(((e,n)=>{if(null!==i){const e=i.index+n;n%2==0?(t.deleteText(e,1,"api"),t.insertText(e,Ea,"api")):(t.deleteText(e,1,"api"),t.insertText(e," ","api"))}})),t.formatText(i.index,i[0].length,e,"api"),i=n.exec(r)}}(t,e);Ua(t,/ {2,}/g,!0),Ua(t,/(\r\n|\r|\n) /g,!1),void 0!==n&&n.charPos!==(null===(r=t.getSelection())||void 0===r?void 0:r.index)&&t.setSelection(n.charPos,n.length,"api")}function Ua(t,e,n){const r=t.getText(),i=n?0:1;let o=e.exec(r);for(;null!==o;){const n=t.getFormat(o.index,1);o[0].split("").forEach(((e,n)=>{if(n%2===i&&null!==o){const e=o.index+n;t.deleteText(e,1,"api"),t.insertText(e,Ea,"api")}})),t.formatText(o.index,o[0].length,n,"api"),o=e.exec(r)}}function La(t){return null===t?void 0:new Bi(t.index,t.length)}function qa(t,e){const n=e.childNodes,r=t.textBody;if(void 0!==n){let t=0;[...n].forEach((e=>{var n,i,o,s,a;const c=e;let h,l=0,d="";for(const e of c.childNodes){const c=e;if(c.classList.contains("ql-cursor")||(null===(n=c.firstElementChild)||void 0===n?void 0:n.classList.contains("ql-cursor")))continue;const u=Number(c.style.getPropertyValue("font-size").replace(/[^0-9.]+/g,"")),f=r.getResolvedParagraphRunPropertyBags(new Bi(t,null!==(o=null===(i=e.textContent)||void 0===i?void 0:i.length)&&void 0!==o?o:0));f.length>=1?h=f[0].lineSpacing:p(0,`updateLineHeight: ResolvedParagraphRunPropertyBags length is ${f.length}`),t+=null!==(a=null===(s=e.textContent)||void 0===s?void 0:s.length)&&void 0!==a?a:0,d=c.style.getPropertyValue("font-size").slice(-2),l=Math.max(l,u)}if(void 0!==h&&qo(h)&&("px"===d||"pt"===d)){const t=h.value*Ho.getInstance().lineSpacingFactor/100;c.style.setProperty("line-height",`${l*t}${d}`)}}))}}function za(t,e,n,r,i=!1,o,s=!1,a){const c=t.textBody,h=new Bi(0,c.length),l=c.getText(h),d=La(e.getSelection());e.setContents((new Zs).insert(l));const u=c.textCharFormats,p=u.runLengths,f=u.runBags,y=[];for(let e=0;e<p.length;e+=1){const r={};r.retain=p[e],r.attributes=Cs(f[e],t,n,a),y.push(r)}e.updateContents(new Zs(y),"api");const g=c.textParagraphFormats,x=g.runLengths,v=g.runBags,m=[];for(let t=0;t<x.length;t+=1){const e={};e.retain=x[t],e.attributes=As(v[t],c.textBodyFormats),m.push(e)}e.updateContents(new Zs(m),"api"),Ba(e,t,a),qa(t,e.root),Lt("QuillSelectionRefactor")&&Da(e,c,d),Lt("PreventWhiteSpaceCollapse")&&Na(e,c,d);const P=e.root;void 0===P&&w("Text","QuillEditorDIVUndefined","Undefined quillEditorDIV in populateQuill"),function(t,e){const n=Wo(e).resolve();if(t.style.justifyContent=function(t){switch(t.anchoring){case 0:return"flex-start";case 2:return"flex-end";case 1:return"center";default:b(t.anchoring)}}(n),t.style.paddingTop=`${us(n.topInset)}px`,t.style.paddingBottom=`${us(n.bottomInset)}px`,t.style.paddingLeft=`${us(n.leftInset)}px`,t.style.paddingRight=`${us(n.rightInset)}px`,Ps(n)){const e=Ho.getInstance().infoOnNoWrapping.cssAttributePairOnOverflow;t.style.setProperty(`${e.attribute}`,`${e.val}`)}}(P,c.textBodyFormats),void 0!==d&&Lt("QuillSelectionRefactor")&&e.setSelection(d.charPos,d.length,"api"),s||document.activeElement===P&&(Lt("QuillSelectionRefactor")?void 0!==d&&0===d.length&&Ia(t,e,n,d.charPos):void 0!==r?(e.setSelection(r.charPos,r.length,"api"),0===r.length&&Ia(t,e,n,r.charPos,i,o)):1===t.textBody.length&&(e.setSelection(0,1,"api"),Ia(t,e,n,0,i,o)))}function $a(t){const e=t.getElementsByClassName("ql-editor")[0],n=e.children,{zoom:r}=Co();let i=0;for(const t of n){let e=0;const n=t.children;for(const t of n)e+=t.getBoundingClientRect().width/r;const o=getComputedStyle(t);e=e+parseFloat(o.getPropertyValue("margin-left"))+parseFloat(o.getPropertyValue("margin-right")),i=Math.max(i,e)}const o=getComputedStyle(e);return i=i+parseFloat(o.getPropertyValue("padding-left"))+parseFloat(o.getPropertyValue("padding-right")),Math.max(i,15)}class Ha{constructor(t,e){var n;const r=yo(e,t);this.container=r.cloneNode(),null===(n=r.parentNode)||void 0===n||n.append(this.container),this.container.style.visibility="hidden",this.textModel=t,this.textHost=e,this.quillInstance=Ta(this.container)}teardown(){this.container.remove()}alignContainer(){var t,e;const n=yo(this.textHost,this.textModel);(null===(t=n.parentNode)||void 0===t?void 0:t.contains(this.container))||null===(e=n.parentNode)||void 0===e||e.append(this.container),this.container.style.left=n.style.left,this.container.style.top=n.style.top,this.container.style.width=n.style.width,this.container.style.height=n.style.height,this.container.style.transform=function(t){const e=t.indexOf("rotate");if(-1===e)return t;const n=t.indexOf(")",e);return-1===n?t:t.slice(0,e-1)+t.slice(n+1)}(n.style.transform)}adjustContainerWidth(t){this.container.style.width=`${t}px`}adjustQuillFontSize(t,e){this.quillInstance.formatText(0,t,"size",`${e}pt`)}populateQuill(t){za(this.textModel,this.quillInstance,this.textHost,void 0,!1,void 0,!0,t)}getWidthForCustomText(t,e){return this.setQuillText(t),this.adjustQuillFontSize(t.length,e),$a(this.container)/Co().zoom}getFirstParaLineHeight(){const t=this.container.getElementsByClassName("ql-editor")[0].childNodes[0];return parseFloat(getComputedStyle(t.childNodes[0]).lineHeight)}getAutoFitHeight(){var t,e;return this.quillInstance.root.style.overflowX="initial",this.quillInstance.root.style.overflowY="visible",this.quillInstance.root.style.whiteSpace=(t=this.textHost,e=this.textModel,getComputedStyle(yo(t,e).getElementsByClassName("ql-editor")[0]).getPropertyValue("white-space")),function(t){const e=t.getElementsByClassName("ql-editor")[0],n=e.children;let r=0;for(const t of n)r+=t.clientHeight+parseFloat(getComputedStyle(t).getPropertyValue("margin-top"))+parseFloat(getComputedStyle(t).getPropertyValue("margin-bottom"));return r+parseFloat(e.style.paddingTop)+parseFloat(e.style.paddingBottom)}(this.container)}getAutoFitWidth(){return this.quillInstance.root.style.overflowX="visible",this.quillInstance.root.style.overflowY="initial",this.quillInstance.root.style.whiteSpace="pre",$a(this.container)}getMinFontSize(){const t=this.quillInstance.getFormat(0,this.quillInstance.length);if(void 0!==t.size){if("string"==typeof t.size)return+t.size.split("pt")[0];if(Array.isArray(t.size))return t.size.reduce(((t,e)=>Math.min(t,+e.split("pt")[0])),1e3)}return 1e3}applyCharProps(t){this.quillInstance.formatText(0,this.quillInstance.getText().length,Cs(t,this.textModel,this.textHost))}applyTextAction(t,e){switch(t.actionType){case jo:!function(t,e,n){void 0!==t.editPos&&(rs(e.getLength(),t.editPos),e.insertText(t.editPos,t.text,"silent"),void 0!==n&&void 0!==n.fontSize&&0!==t.text.length&&e.formatText(t.editPos,t.text.length,"size",os(n.fontSize)))}(t,this.quillInstance,e);break;case Zo:n=t,r=this.quillInstance,void 0!==n.textRange&&(is(r.getLength(),n.textRange),r.deleteText(n.textRange.charPos,n.textRange.length,"silent"));break;case es:!function(t,e,n){void 0!==t.textRange&&(is(e.getLength(),t.textRange),e.insertText(t.textRange.charPos+t.textRange.length,t.text,"silent"),e.deleteText(t.textRange.charPos,t.textRange.length,"silent"),void 0!==n&&void 0!==n.fontSize&&0!==t.text.length&&e.formatText(t.textRange.charPos,t.text.length,"size",os(n.fontSize)))}(t,this.quillInstance,e);break;default:b(t)}var n,r}setQuillText(t){this.quillInstance.setText(t,"api")}}class Va{constructor(){this.modelToAutoFitController=new Map,this.modelToSavedAutoFitController=new Map}has(t){return this.modelToAutoFitController.has(t)}remove(t){const e=this.modelToAutoFitController.get(t);void 0!==e&&(e.teardown(),this.modelToAutoFitController.delete(t))}storeController(t){this.modelToSavedAutoFitController.set(t,this.ensureController(t).clone())}restoreController(t){const e=this.modelToSavedAutoFitController.get(t);void 0!==e&&(this.modelToAutoFitController.set(t,e),this.modelToSavedAutoFitController.delete(t))}ensureController(t){let e=this.modelToAutoFitController.get(t);return void 0===e&&(e=new Wa,this.modelToAutoFitController.set(t,e)),e}}class Wa{constructor(){this.isActivated=!1}get shadowPresenter(){return this._shadowPresenter}get anchorPosWhenTextBoxHitsCanvasEdge(){return this._anchorPosWhenTextBoxHitsCanvasEdge}set anchorPosWhenTextBoxHitsCanvasEdge(t){this._anchorPosWhenTextBoxHitsCanvasEdge=t}get canvasLimits(){return this._canvasLimits}set canvasLimits(t){this._canvasLimits=t}get cachedTransform(){return this._cachedTransform}set cachedTransform(t){this._cachedTransform=t}clone(){const t=new Wa;return t._shadowPresenter=this.shadowPresenter,t.isActivated=this.isActivated,t._anchorPosWhenTextBoxHitsCanvasEdge=this._anchorPosWhenTextBoxHitsCanvasEdge,void 0!==this.canvasLimits&&(t._canvasLimits={left:this.canvasLimits.left,right:this.canvasLimits.right}),void 0!==this.cachedTransform&&(t._cachedTransform=this.cachedTransform.clone()),t}ensureShadowPresenter(t,e){return void 0===this._shadowPresenter&&(this._shadowPresenter=new Ha(t,e)),this._shadowPresenter}activate(t){this.isActivated=t}isActive(){return this.isActivated}teardown(){void 0!==this._shadowPresenter&&this._shadowPresenter.teardown()}}const Ga=-5e4,Ka=5e4;function Qa(t){let e=Ka,n=Ka,r=Ga,i=Ga;const o=t.getElementsByClassName("ql-editor")[0].children;for(const t of o){const o=t.children;for(const t of o){const o=t.getBoundingClientRect();n=Math.min(n,o.top),i=Math.max(i,o.bottom),e=Math.min(e,o.left),r=Math.max(r,o.right)}}return{left:e,top:n,right:r,bottom:i}}function Ya(t){const e={x:1,y:1},n=t.textBody.getParagraphRunPropertyBag(new Bi(0,0)).resolve(),r=Wo(t.textBody.getTextBodyPropertyBag()).resolve();switch(n.alignment){case 0:e.x=1;break;case 1:case 3:e.x=0;break;case 2:e.x=-1;break;default:b(n.alignment)}switch(r.anchoring){case 0:e.y=1;break;case 1:e.y=0;break;case 2:e.y=-1;break;default:b(r.anchoring)}return e}class Ja{}class Xa{constructor(){this.type=Ja}shouldMergeWithPrevious(t){return!0}}class Za{constructor(t){this.type=2,this.textBodyProps=t}}class tc{constructor(t){this.type=11,this.textBodyPropBag=t}}class ec{constructor(t,e,n,r,i,o=!1){this.textBody=t,this.prop=e,this.propVal=n,this.textRange=r,this.highlightSelection=i,o&&(this.mergePolicy=new Xa)}perform(){const t=this.textBody.getTextBodyPropertyBag()[this.prop],e=void 0===this.propVal?[new Za([this.prop])]:[new tc(Wo({[this.prop]:this.propVal}))],n=this.highlightSelection?this.textRange:void 0;return this.textBody.applyBatchOperations(e,n),{undoOp:new ec(this.textBody,this.prop,t,this.textRange,this.highlightSelection)}}}function nc(t,e){var n;const r=[],i=null===(n=t.firstElementChild)||void 0===n?void 0:n.childNodes;return void 0!==i&&[...i].forEach((t=>{const n=t,i=n.style.getPropertyValue("line-height");r.push(i);const o=i.replace(/[^0-9.]+/g,"");if(""!==o){const t=i.slice(-2);"px"!==t&&"pt"!==t||n.style.setProperty("line-height",`${e*Number(o)}${t}`)}[...n.childNodes].forEach((t=>{const n=t.style.getPropertyValue("font-size");r.push(n);const i=Number(n.replace(/[^0-9.]+/g,""));t.style.setProperty("font-size",e*i+"pt")}))})),r}function rc(t,e){var n;const r=null===(n=t.firstElementChild)||void 0===n?void 0:n.childNodes;void 0!==r&&[...r].forEach((t=>{const n=t,r=e.shift();void 0!==r&&n.style.setProperty("line-height",r),[...n.childNodes].forEach((t=>{const n=e.shift();void 0!==n&&t.style.setProperty("font-size",n)}))}))}function ic(t){const{zoom:e}=Co(),n=Qa(t.container),r=t.getAutoFitHeight(),i=(n.right-n.left)/e;return new _t(i,r)}const oc="changeTextWrapAction";class sc{constructor(t,e=!1,n,r){this.actionType=oc,this.textWrapping=t,this.mergeUndo=e,this.widthLimit=n,this.textModel=r}}function ac(t){const{pos:e,size:n,flip:r,rot:i}=t;if(0===i&&!r.x&&!r.y)return new Ji(e.x,e.y,e.x+n.width,e.y+n.height);const o=new _(e.x,e.y),s=new _(e.x+n.width,e.y),a=new _(e.x,e.y+n.height),c=new _(e.x+n.width,e.y+n.height),h=t.getCenter(),l=io(-h.x,-h.y).scale(r.x?-1:1,r.y?-1:1).rotate(I(i)).translate(h.x,h.y);o.multiply(l),s.multiply(l),a.multiply(l),c.multiply(l);const d=Math.min(o.x,s.x,a.x,c.x),u=Math.min(o.y,s.y,a.y,c.y),p=Math.max(o.x,s.x,a.x,c.x),f=Math.max(o.y,s.y,a.y,c.y);return new Ji(d,u,p,f)}function cc(t,e,n){void 0!==t.canvasLimits&&(t.canvasLimits={left:Math.min(e.left,0),right:Math.max(e.right,n())})}function hc(t,e,n){const r=Object.assign({},t);switch(Math.abs(n)>90&&Math.abs(n)<270&&(r.x=-r.x),r.x){case 1:case 1:return e.left;case-1:case-1:return e.right;case 0:return e.center().x;default:throw new Error(`Unknown scaleVector: ${r.x}`)}}const lc=Lt("ThumbnailTemplateTextBoxWidthMismatch")?1.5:1;class dc{constructor(){this.bufferWidth=0,this.isSetWordWrapOnWidthLimit=!1,this.isEnforceWidthFitOnWordWrap=!1,this.lineWrapHistory=new Map,this.lockedLineWrapHistory=new Map}get config(){return{bufferWidth:this.bufferWidth,widthLimitation:this.widthLimitation,isSetWordWrapOnWidthLimit:this.isSetWordWrapOnWidthLimit,isEnforceWidthFitOnWordWrap:this.isEnforceWidthFitOnWordWrap,canvasWidth:this.canvasWidth}}set config(t){var e;this.bufferWidth=null!==(e=t.bufferWidth)&&void 0!==e?e:0,this.canvasWidth=t.canvasWidth,this.widthLimitation=t.widthLimitation,this.isSetWordWrapOnWidthLimit=!0===t.isSetWordWrapOnWidthLimit,this.isEnforceWidthFitOnWordWrap=!0===t.isEnforceWidthFitOnWordWrap}perform(t,e,n,r,i,o){const s=r.ensureShadowPresenter(t,e),a=yo(e,t),c=Lt("CompositionAutoFit")?n.transform.size.clone():new _t(a.clientWidth,a.clientHeight),h=Ya(t),{newWidth:l,isForceWordWrapped:d,isRestoreNoWrap:u}=this.calculateWidth(s,c,i.textWrapping),p=s.getAutoFitHeight();(Math.abs(l-c.width)>.1||Math.abs(p-c.height)>.1)&&(n.transform=D(n.transform,new Qo(l/c.width,p/c.height,h.x,h.y),!1)),void 0!==this.canvasWidth&&function(t,e,n,r,i){void 0===t.cachedTransform&&(t.cachedTransform=e.transform),void 0===t.canvasLimits&&(t.canvasLimits={left:0,right:i()});const o=D(e.transform,new Qo(1,r/e.transform.size.height,n.x,n.y),!1),s=t.cachedTransform,a=ac(o);if(!function(t,e){return Math.abs(e.pos.x-t.pos.x)>1||Math.abs(e.size.width-t.size.width)>1||e.rot!==t.rot}(s,o))return cc(t,a,i),void(void 0===t.anchorPosWhenTextBoxHitsCanvasEdge&&(t.anchorPosWhenTextBoxHitsCanvasEdge=o.pos.x));const c=ac(s),h=hc(n,a,o.rot),l=hc(n,c,s.rot);if(Math.abs(l-h)>1)return cc(t,a,i),t.cachedTransform=o,d=a,u=t.canvasLimits,void(d.left-lc<u.left||d.right+lc>u.right?t.anchorPosWhenTextBoxHitsCanvasEdge=h:t.anchorPosWhenTextBoxHitsCanvasEdge=void 0);var d,u;const{newPosX:p,newAnchorPos:f}=function(t,e,n){let r,i=0;const o=t.canvasLimits,s=t.anchorPosWhenTextBoxHitsCanvasEdge;return void 0===o||(void 0!==s&&(e.right+lc>o.right&&(i=s-n.left),e.left-lc<o.left&&(i=s-n.right)),n.right+i+lc>o.right?(i+=o.right-(n.right+i),r=n.left+i):n.left+i-lc<o.left&&(i+=o.left-(n.left+i),r=n.right+i)),{newPosX:i,newAnchorPos:r}}(t,c,a),y=I(e.transform.rot);e.transform=D(e.transform,new Ko(p,p/Math.cos(y)*Math.sin(y)),!1),t.cachedTransform=D(o,new Ko(p,p/Math.cos(y)*Math.sin(y)),!1),void 0===t.anchorPosWhenTextBoxHitsCanvasEdge&&(t.anchorPosWhenTextBoxHitsCanvasEdge=f)}(r,n,h,s.getFirstParaLineHeight(),this.canvasWidth),void 0!==o&&(d&&o.actionInvoker.invoke(new sc(new zo(1),!0,void 0,t)),u&&o.actionInvoker.invoke(new sc(new $o,!0,void 0,t))),!0!==this.lockedLineWrapHistory.get(t)&&this.lineWrapHistory.set(t,function(t,e){const n=function(t,e){return function(t){const e=t.textBody;return 1===e.textCharFormats.getRunRangeArray(new Bi(0,e.length-1)).length}(t)?function(t,e){return Xo(yo(e,t))}(t,e):0}(t,e);if(0!==n){const e=t.textBody.getResolvedCharacterRunPropertyBag(new Bi(0,t.textBody.length-1)).fontSize;if(void 0!==e)return{initialFontSize:e/100,initialLineCount:n}}return{initialFontSize:0,initialLineCount:0}}(t,e))}getLineWrapHistory(t){var e;return null!==(e=this.lineWrapHistory.get(t))&&void 0!==e?e:{initialFontSize:0,initialLineCount:0}}lockLineWrapHistory(t,e){this.lockedLineWrapHistory.set(t,e)}calculateWidth(t,e,n){let r=e.width,i=!1,o=!1;if(0===n.type){if(r=t.getAutoFitWidth()+lc+this.bufferWidth,void 0!==this.widthLimitation){const e=this.widthLimitation();r>e&&(r=e,i=this.isSetWordWrapOnWidthLimit),t.adjustContainerWidth(r)}}else if(1===n.type){const e=n;if(this.isEnforceWidthFitOnWordWrap)r=ic(t).width+lc+this.bufferWidth,t.adjustContainerWidth(r);else if(1===e.source){const e=t.getAutoFitWidth()+lc+this.bufferWidth;if(void 0!==this.widthLimitation){const n=this.widthLimitation();e<n?(r=e,t.adjustContainerWidth(r),o=!0):r<n&&(r=n,t.adjustContainerWidth(r))}}}return{newWidth:r,isForceWordWrapped:i,isRestoreNoWrap:o}}}const uc=.01;class pc{constructor(){this.bufferWidth=0,this.minFontSize=5,this.isEnforceWidthFitOnNormAutoFit=!1}get config(){return{bufferWidth:this.bufferWidth,minFontSize:this.minFontSize,isEnforceWidthFitOnNormAutoFit:this.isEnforceWidthFitOnNormAutoFit}}set config(t){var e,n;this.bufferWidth=null!==(e=t.bufferWidth)&&void 0!==e?e:0,this.minFontSize=null!==(n=t.minFontSize)&&void 0!==n?n:5,this.isEnforceWidthFitOnNormAutoFit=!0===t.isEnforceWidthFitOnNormAutoFit}perform(t,e,n,r,i){const o=yo(e,t),s=new _t(o.clientWidth,o.clientHeight),a=fo(t,e).getSelection();let c=new Bi(0,0);if(null!==a&&(c=new Bi(a.index,a.length)),this.isEnforceWidthFitOnNormAutoFit){const e=ic(r).width+lc+this.bufferWidth;r.adjustContainerWidth(e);const i=r.getAutoFitHeight();if(s.width!==e||s.height!==i){const r=Ya(t);n.transform=D(n.transform,new Qo(e/s.width,i/s.height,r.x,r.y),!1)}return}const h=i.autoFit;let l=r.getAutoFitHeight();const d=void 0!==h.fontScale&&1e5!==h.fontScale;if(s.height<l||d){let e=1;d&&(r.populateQuill(1e5*e),l=r.getAutoFitHeight()),r.getMinFontSize()>this.minFontSize&&(e=fc(e,r,s.height,this.minFontSize)),h.fontScale!==1e5*e&&e>0&&new ec(t.textBody,"autoFit",new Do(1e5*e),c,!0).perform()}}}function fc(t,e,n,r,i=1){let o=t,s=0,a=i/uc-1,c=Number.MAX_VALUE,h=0;for(;s<=a;){const t=Math.ceil((s+a)/2);o=t*uc;const i=nc(e.container,o),l=e.getAutoFitHeight(),d=e.getMinFontSize();if(rc(e.container,i),(c===Number.MAX_VALUE||Math.abs(n-c)>=Math.abs(n-l)&&d>r)&&(c=l,h=t),l===n)break;l<n||d<=r?s=t+1:a=t-1}return c!==Number.MAX_VALUE?(e.populateQuill(h*uc*1e5),h*uc):o}class yc{constructor(){this.registry=new Va,this.shapeAutoFitPerformer=new dc,this.normAutoFitPerformer=new pc}get configOnInit(){return this._configOnInit}set configOnInit(t){this._configOnInit=t}get config(){return Object.assign(Object.assign({},this.shapeAutoFitPerformer.config),this.normAutoFitPerformer.config)}set config(t){this.shapeAutoFitPerformer.config=t,this.normAutoFitPerformer.config=t}static getInstance(){return void 0===yc.instance&&(yc.instance=new yc),yc.instance}remove(t){this.registry.remove(t)}performAutoFitOnFontDownload(t,e,n,r,i){this.isActive(t)||async function(t,e){if(void 0===e.fontManager)return[];const n=t.textBody,r=new Bi(0,n.length-1),i=n.getResolvedCharacterRunPropertyBags(r,t.fontRef,t.hostContext.themeInfo,t.defaultCharProps),o=e.fontManager;return Promise.all(i.map((async t=>{const{fontFamily:e,style:n}=await o.resolveFontAsync(t.fontFamily,{bold:t.bold,italic:t.italic});return o.ensureFontAsync(e,n)})))}(t,e).then((()=>{if(this.registry.has(t))if(void 0!==i){const o=this.config;this.config=i;try{this.perform(t,e,n,this.populateShadowPresenter(t,e),r)}finally{this.config=o}}else this.perform(t,e,n,this.populateShadowPresenter(t,e),r)})).catch((()=>{}))}getLineWrapHistory(t){return this.shapeAutoFitPerformer.getLineWrapHistory(t)}lockLineWrapHistory(t,e){this.shapeAutoFitPerformer.lockLineWrapHistory(t,e)}getFontSizeToFitText(t,e,n,r){const i=t.textBody,o=i.textCharFormats.runBags;if(2!==o.length||void 0===o[0].fontSize)return 0;const s=this.populateShadowPresenter(t,e);let a=n;s.adjustQuillFontSize(i.length,a);let c=Jo(s);const h=3*n;for(;c!==r;){if(c>r?a-=1:a+=1,a<1||a>h)return 0;s.adjustQuillFontSize(i.length,a),c=Jo(s)}return a}getScaleToFitTransform(t,e,n){return fc(1,this.populateShadowPresenter(t,e),n.height,8,100)}performAutoFit(t,e,n,r=!1){if(this.isActive(t))return;this.activate(t,!0);const i=Wo(t.textBody.getTextBodyPropertyBag()).resolve(),o=1===i.autoFit.type,s=function(t,e,n){if(n||0!==t.textWrapping.type)return!1;const r=t.textWrapping;return!1===r.allowsOverflow||e&&!0===r.allowsOverflow}(i,o,r),a=2===i.autoFit.type;if(!(s||o||a))return void this.activate(t,!1);const c=this.populateShadowPresenter(t,e);if(a)return this.normAutoFitPerformer.perform(t,e,n,c,i),void this.activate(t,!1);const h=yo(e,t),l=new _t(h.clientWidth,h.clientHeight);let d=l.width,u=l.height,p=new _(0,0);if(r){const e=function(t){const{zoom:e}=Co(),n=t.container.getBoundingClientRect(),r=Qa(t.container),i=function(t){let e=Ka,n=Ka,r=Ga,i=Ga;const o=t.getElementsByClassName("ql-editor")[0].children;for(const t of o){const o=t.getBoundingClientRect();e=Math.min(e,o.left),r=Math.max(r,o.right),n=Math.min(n,o.top),i=Math.max(i,o.bottom)}return{left:e,top:n,right:r,bottom:i}}(t.container),o=t.getAutoFitHeight(),s=(r.right-r.left)/e;return{size:new _t(s,o),offset:new _((r.left-n.left)/e,(i.top-n.top)/e)}}(c);d=e.size.width,u=e.size.height,p=e.offset;const n=t.textBody.getTextBodyPropertyBag().textWrapping;n.resizeLimit=d,n.isLimitSetByUser=!0}else if(s){const t=i.textWrapping.resizeLimit,e=c.getAutoFitWidth(),n=void 0!==t&&e>t;d=!0===i.textWrapping.isLimitSetByUser&&void 0!==t||n&&void 0!==t?t:e,c.adjustContainerWidth(d),o&&(u=c.getAutoFitHeight())}else u=c.getAutoFitHeight();const f=function(t,e){return!Ho.getInstance().directionalAutofit||e?{x:1,y:1}:Ya(t)}(t,r);n.transform=D(n.transform,new Qo((d+lc)/l.width,u/l.height,f.x,f.y),!1),p.rotate(n.transform.rot),n.transform=D(n.transform,new Ko(p.x,p.y),!1),this.activate(t,!1)}getWidthForCustomText(t,e,n,r){return this.getShadowPresenter(t,e).getWidthForCustomText(n,r)}storeAutoFitState(t){this.registry.storeController(t)}restoreAutoFitState(t){this.registry.restoreController(t)}performAutoFitOnTextAction(t,e,n,r){const i=this.registry.ensureController(e).shadowPresenter;void 0!==i?(i.applyTextAction(t,r),0===e.textBody.getText().length&&void 0!==r&&i.applyCharProps(r),this.perform(e,i.textHost,n,i)):p(0,"Shadow presenter is undefined")}perform(t,e,n,r,i){this.activate(t,!0);const o=Wo(t.textBody.getTextBodyPropertyBag()).resolve();switch(o.autoFit.type){case 2:this.normAutoFitPerformer.perform(t,e,n,r,o);break;case 1:this.shapeAutoFitPerformer.perform(t,e,n,this.registry.ensureController(t),o,i)}this.activate(t,!1)}getShadowPresenter(t,e){return this.registry.ensureController(t).ensureShadowPresenter(t,e)}populateShadowPresenter(t,e,n){const r=this.getShadowPresenter(t,e);return r.alignContainer(),r.populateQuill(n),r}isActive(t){return this.registry.ensureController(t).isActive()}activate(t,e){this.registry.ensureController(t).activate(e)}}function gc(t,e){let n=0,r=0,i=!1,o="",s=0,a=0,c=0,h=0,l=0;for(void 0!==t.ops&&void 0!==t.ops[0].retain&&(n+=t.ops[0].retain,r+=t.ops[0].retain,a+=1,c+=1);void 0!==t.ops&&a<t.ops.length;a+=1){const n=t.ops[a];void 0!==n.retain?(s+=n.retain,o+=e.substr(r,n.retain),r+=n.retain,c+=1):void 0!==n.insert?("string"!=typeof n.insert&&w("Text","NonTextInsertUnsupported","No support for non-text insertion"),i=!0,o+=n.insert):void 0!==n.delete?(s+=n.delete,r+=n.delete,l+=n.delete,h+=1):w("Text","QuillOperationUnsupported","Unsupported Quill operation")}return{str:o,start:n,hasInsertOperation:i,replaceLen:s,deleteLen:l,retainCount:c,deleteCount:h}}class xc{constructor(t,e,n,r,i){this.isCompositionAutofitEnabled=Lt("CompositionAutoFit"),this.state=0,this.position=-1,this.deltas=[],this.onCompositionStart=t=>{var e,n,r,i;this.compositionStart(),this.state=1,this.content=this.quillInstance.getText(),this.insertZeroWidthSpace(),this.position=null!==(n=null===(e=this.quillInstance.getSelection())||void 0===e?void 0:e.index)&&void 0!==n?n:-1,null===(i=null===(r=this.textHost)||void 0===r?void 0:r.compositionEditor)||void 0===i||i.beginEdit()},this.insertZeroWidthSpace=()=>{const t=this.quillInstance.getSelection();this.initialCursorPosition=null!==t?t.index:0;const e=this.container.querySelector(".ql-cursor");if(this.initialCursorPosition>0){const t=this.textModel.textBody.getCharacterRunPropertyBag(new Bi(this.initialCursorPosition,1)),e=this.textModel.textBody.getCharacterRunPropertyBag(new Bi(this.initialCursorPosition-1,1));void 0===t||void 0===e||t.equals(e)||(this.propsBeforeCompStart=t)}const n=null!==t&&t.length===this.quillInstance.getText().length-1;let r;if(null!==e&&null!==e.parentElement){const t=e.parentElement,n=null!==t.textContent?t.textContent:"";1===n.length&&n.charCodeAt(0)==="\ufeff".charCodeAt(0)&&(r=t)}else null===e&&n&&null!==this.container.lastChild&&null!==this.container.lastChild.lastChild&&(r=this.container.lastChild.lastChild);if(void 0!==r){const e=this.quillInstance.getFormat();this.quillInstance.insertText(t.index,Ma,"user"),this.quillInstance.formatText(t.index,1,e),this.quillInstance.setSelection(t.index+1,0,"api")}else{const t=this.quillInstance.getText().slice(0,-1),e=this.initialCursorPosition===t.length,n=t.length>1&&t[t.length-1]===Ea;e&&n&&(this.quillInstance.deleteText(this.initialCursorPosition-1,1,"api"),this.quillInstance.insertText(this.initialCursorPosition-1,Ea,"api"))}},this.onCompositionUpdate=t=>{this.state=2,this.composedString=t.data},this.onCompositionEnd=t=>{var e,n;null===(n=null===(e=this.textHost)||void 0===e?void 0:e.compositionEditor)||void 0===n||n.endEdit(),this.endComposition()},this.textHost=t,this.textModel=e,this.quillInstance=n,this.compositionStart=r,this.compositionEnd=i,this.container=n.root,this.container.addEventListener("compositionstart",this.onCompositionStart,!0),this.container.addEventListener("compositionupdate",this.onCompositionUpdate),this.container.addEventListener("compositionend",this.onCompositionEnd)}handle(t){var e,n,r;if(!this.isCompositing())return void 0!==this.initialCursorPosition&&this.quillInstance.root.textContent!==this.quillInstance.getText().slice(0,-1)&&this.quillInstance.setContents(this.quillInstance.getContents(),"api"),!1;let i;if(this.isCompositionAutofitEnabled){if(void 0===this.content)return!1;i=this.content}else i=this.textModel.textBody.getText();if(null===(e=t.ops)||void 0===e?void 0:e.some((t=>t.insert===Ma)))return!0;if(this.quillInstance.getText(this.initialCursorPosition,1)===Ma&&void 0!==t.ops&&void 0!==t.ops[0]&&void 0!==t.ops[0].retain){const e=t.ops[0].retain-1;e<=0?t.ops=t.ops.splice(1,t.ops.length):t.ops[0].retain=e}const o=gc(t,i);return!(!o.hasInsertOperation&&0===o.deleteCount||(-1===this.position&&(this.position=o.start),this.deltas.push(t),this.content=this.quillInstance.getText(),null===(r=null===(n=this.textHost)||void 0===n?void 0:n.compositionEditor)||void 0===r||r.applyAction(function(t){const e=""!==t.str&&t.retainCount<=1&&0===t.deleteCount,n=""===t.str&&t.retainCount<=1&&1===t.deleteCount;return e?new To(t.str,t.start):n?new ts(new Bi(t.start,t.deleteLen)):new ns(t.str,new Bi(t.start,t.replaceLen))}(o)),0))}cancel(){this.isCompositing()&&this.endComposition()}teardown(){this.container.removeEventListener("compositionstart",this.onCompositionStart,!0),this.container.removeEventListener("compositionupdate",this.onCompositionUpdate),this.container.removeEventListener("compositionend",this.onCompositionEnd)}isCompositing(){return 0!==this.state}endComposition(){var t;try{if(0!==this.deltas.length){const e=this.textModel.textBody.getText(),n=function(t,e){if(0===t.length)return;const n=t.reduce(((t,e)=>function(t,e){if(!t.hasInsertOperation&&0===t.deleteCount)return e;const n=""!==t.str&&t.retainCount<=1&&0===t.deleteCount,r=""===t.str&&t.retainCount<=1&&1===t.deleteCount;let i=e.slice();return i=n?`${i.slice(0,t.start)}${t.str}${i.slice(t.start)}`:r?`${i.slice(0,t.start)}${i.slice(t.start+t.deleteLen)}`:`${i.slice(0,t.start)}${t.str}${i.slice(t.start+t.replaceLen)}`,i}(gc(e,t),t)),e);return(new Zs).insert(e).diff((new Zs).insert(n))}(this.deltas,e);if(void 0===n||void 0===n.ops||0===n.ops.length)return void(0===(null===(t=null==n?void 0:n.ops)||void 0===t?void 0:t.length)&&this.reset());void 0!==this.initialCursorPosition&&this.quillInstance.getText(this.initialCursorPosition,1)===Ma&&this.quillInstance.deleteText(this.initialCursorPosition,1,"user"),this.compositionEnd(gc(n,e)),void 0!==this.propsBeforeCompStart&&void 0!==this.initialCursorPosition&&void 0!==this.composedString&&this.textModel.textBody.setCharacterRunPropertyBag(new Bi(this.initialCursorPosition,this.composedString.length),this.propsBeforeCompStart)}else if(void 0!==this.composedString){const t={str:this.composedString,start:Math.max(0,this.position),hasInsertOperation:!0,replaceLen:0,deleteLen:0,retainCount:0,deleteCount:0};this.compositionEnd(t)}else p(0,"performPendingCompositionOps called with no change");this.reset()}catch(t){u(0,`Text CompositionOps Exception: ${t.message}`)}}reset(){this.state=0,this.position=-1,this.deltas=[],this.content=void 0,setTimeout((()=>{this.composedString=void 0,this.initialCursorPosition=void 0,this.propsBeforeCompStart=void 0}))}}let vc=!1;class mc{constructor(t,e,n,r,i){this.isIPCharPropBagSet=!1,this.isLastKeyPressEnter=!1,this.isOnCaretPlacement=!1,this._isInEditMode=!1,this.isQuillSelectionRefactorEnabled=Lt("QuillSelectionRefactor"),this.useCompositionTracker=!Lt("RemoveCompositionTracker"),this.textChangeFromQuill=(t,e,n)=>{var r;if(void 0===t.ops||0===t.ops.length||"user"!==n||void 0===e)return;if(null===(r=this.compositionTracker)||void 0===r?void 0:r.handle(t))return;const i=gc(t,this.textModel.textBody.getText());(i.hasInsertOperation||0!==i.deleteCount)&&this.performTextOp(i)},this.selectionChangeFromQuill=(t,e,n)=>{if("user"!==n)return;if(null===e&&(this.textModel.editStatusUpdated.emit(0,!0),this.textHost.quillEditStatusUpdated.emit(this.textModel,0,!0)),this.isQuillSelectionRefactorEnabled&&void 0!==this.editContext&&this.editContext.actionInvoker.invoke(new ma(La(t))),this.isIPCharPropBagSet=!1,null===t)return this.isQuillSelectionRefactorEnabled||this.selectionChangedNotifier.emit(!0),void this.textHost.quillEditStatusUpdated.emit(this.textModel,1,!0);const r=this.sanitizeCharPos(t.index);this.isOnCaretPlacement=0===t.length,!this.isQuillSelectionRefactorEnabled&&this.isOnCaretPlacement&&Ia(this.textModel,this.quillInstance,this.textHost,r,!1,void 0),this.isLastKeyPressEnter||this.isQuillSelectionRefactorEnabled||this.selectionChangedNotifier.emit(!0,new Bi(r,t.length))},this.onKeyDown=t=>{if(void 0===this.editContext||this.editContext.isInLivePreview)return t.preventDefault(),void t.stopPropagation();this.isLastKeyPressEnter="Enter"===t.key,this.isPrintableKeyEvent(t)&&this.handleTypingOnSelectAll()},this.compositionStart=()=>{this.handleTypingOnPartialSelection()},this.compositionEnd=t=>{this.performTextOp(t,!1)},this.mouseEventHandler=t=>{vc&&(t.stopImmediatePropagation(),t.preventDefault())},this.container=t,this.textModel=e,this.textHost=n,this.editContext=i,this.selectionChangedNotifier=r,this.container.addEventListener("keydown",this.onKeyDown,!0),this.container.addEventListener("mousedown",this.mouseEventHandler,!0),this.quillInstance=fo(this.textModel,this.textHost),this.quillInstance.on("text-change",this.textChangeFromQuill),this.quillInstance.on("selection-change",this.selectionChangeFromQuill),this.useCompositionTracker&&(this.compositionTracker=new xc(this.textHost,this.textModel,this.quillInstance,this.compositionStart,this.compositionEnd))}get isInEditMode(){return this._isInEditMode}teardown(){var t;this.quillInstance.off("text-change",this.textChangeFromQuill),this.quillInstance.off("selection-change",this.selectionChangeFromQuill),this.container.removeEventListener("keydown",this.onKeyDown,!0),this.container.removeEventListener("mousedown",this.mouseEventHandler,!0),null===(t=this.compositionTracker)||void 0===t||t.teardown()}onDeselect(){var t;null===(t=this.compositionTracker)||void 0===t||t.cancel()}performTextOp(t,e=!0){const n=this.textModel.textBody.getText();if(!t.hasInsertOperation&&0===t.deleteCount)return;const r=""!==t.str&&t.retainCount<=1&&0===t.deleteCount,i=""===t.str&&t.retainCount<=1&&1===t.deleteCount;vc=!0,void 0!==this.focusTrapTimer&&window.clearTimeout(this.focusTrapTimer);try{r?this.performInsertion(t.str,t.start,e):i?this.performDeletion(t.start,t.deleteLen,"\n"===n[t.start]):this.performReplacement(t.str,t.start,t.replaceLen),this.isQuillSelectionRefactorEnabled||Ba(this.quillInstance,this.textModel)}finally{this.focusTrapTimer=window.setTimeout((()=>{vc=!1}),50)}this.isIPCharPropBagSet=!1}performInsertion(t,e,n=!0){this._isInEditMode=!0;try{void 0===this.editContext&&m(0,"editContext undefined in performInsertion"),this.editContext.actionInvoker.invoke(new To(t,e))}finally{this._isInEditMode=!1}!this.isQuillSelectionRefactorEnabled&&n&&this.quillInstance.setSelection(e+t.length,0,"api"),this.isLastKeyPressEnter=!1}performDeletion(t,e,n){const r=this.sanitizeCharPos(t);this.isQuillSelectionRefactorEnabled||this.selectionChangedNotifier.emit(!1,new Bi(r,e)),this._isInEditMode=!0;try{void 0===this.editContext&&m(0,"editContext undefined in performDeletion"),this.editContext.actionInvoker.invoke(new ts(this.isQuillSelectionRefactorEnabled?new Bi(t,e):void 0,this.isOnCaretPlacement))}finally{this._isInEditMode=!1}const i=this.quillInstance.getSelection();null!==i&&0===i.length||m(0,`Wrong Quill selection range returned: ${i} in performDeletion`);const o=i.index;r===o||this.isQuillSelectionRefactorEnabled||this.selectionChangedNotifier.emit(!1,new Bi(o,0)),this.isQuillSelectionRefactorEnabled||Ia(this.textModel,this.quillInstance,this.textHost,o,n,void 0)}performReplacement(t,e,n){const r=this.sanitizeCharPos(e);this.isQuillSelectionRefactorEnabled||this.selectionChangedNotifier.emit(!1,new Bi(r,n)),this._isInEditMode=!0;try{void 0===this.editContext&&m(0,"editContext undefined in performReplacement"),this.editContext.actionInvoker.invoke(new ns(t,this.isQuillSelectionRefactorEnabled?new Bi(e,n):void 0))}finally{this._isInEditMode=!1}this.isQuillSelectionRefactorEnabled||setTimeout((()=>{const t=this.quillInstance.getSelection(!0);this.selectionChangedNotifier.emit(!1,new Bi(t.index,t.length))}),0),this.isLastKeyPressEnter=!1}sanitizeCharPos(t){return t===this.textModel.textBody.length?t-1:t}isPrintableKeyEvent(t){return 1===t.key.length&&!t.altKey&&!t.ctrlKey&&!t.metaKey}handleTypingOnSelectAll(){const t=this.quillInstance.getSelection();null!==t&&0===t.index&&t.length===this.textModel.textBody.length-1&&this.deleteSelectedText(0,this.textModel.textBody.length-1)}handleTypingOnPartialSelection(){const t=this.quillInstance.getSelection();null===t||t.length<=0||this.deleteSelectedText(t.index,t.length)}deleteSelectedText(t,e){e>0&&(this.quillInstance.deleteText(t,e,"user"),Ia(this.textModel,this.quillInstance,this.textHost,0,!1,void 0))}}class wc{constructor(t){this.quillEditorInstance=t}}class bc{}class Pc{constructor(t){this.type=bc,this.pointerEventNotifiers=z(),this.hitTestSlop=0,this.container=t}teardown(){}}class Cc{constructor(e,n,r,i,o,s){if(this.viewModelUpdated=new t,this.selectionChanged=new t,this.selectionHighlightCleared=new t,this.isQuillSelectionRefactorEnabled=Lt("QuillSelectionRefactor"),this.isShapeBuilderTextEditorEnabled=Lt("UseShapeBuilderAsTextEditor"),this.onModelUpdated=t=>{let e,n;void 0!==t&&Eo(t)&&(void 0!==t.ipCharProps&&(void 0!==this.quillListener&&(this.quillListener.isIPCharPropBagSet=!0),n=t.ipCharProps),e=t.selectionRange,void 0!==e&&this.selectionChanged.emit(!!Lt("SyncSelectionOnTextEdit")&&function(t,e){if(Eo(t))for(const n of t.operations)if(e.includes(n.type))return!0;return!1}(t,[4,3,5]),e.clone(),t.ipCharProps));const r=void 0!==this.quillListener&&this.quillListener.isInEditMode;this.isQuillSelectionRefactorEnabled||Da(this.quillInstance,this.textModel.textBody,e),yc.getInstance().performAutoFitOnFontDownload(this.textModel,this.textHost,this.anchor,this.editContext);const i=this.checkSpaceFirstLastPara(t);if(r&&!i)return qa(this.textModel,this.quillInstance.root),void(this.isQuillSelectionRefactorEnabled&&(Ba(this.quillInstance,this.textModel),Da(this.quillInstance,this.textModel.textBody,La(this.quillInstance.getSelection())),Lt("PreventWhiteSpaceCollapse")&&Na(this.quillInstance,this.textModel.textBody,La(this.quillInstance.getSelection()))));this.updateViewModel(e,n),this.formatSpaceFirstLastPara(i)},this.onSelectionSet=t=>{Lt("CustomizedTextSelectionAfterReplacement")?this.quillInstance.setSelection(t.charPos,t.length,"user"):setTimeout((()=>{this.quillInstance.setSelection(t.charPos,t.length,"user")}),0)},this.textModel=e,this.textHost=n,this.editContext=i,this.textModel.modelUpdated.on(this.onModelUpdated),this.isQuillSelectionRefactorEnabled||this.textModel.selectionSet.on(this.onSelectionSet),this.anchor=r,this.textContainerCreator=o,this.presentMode=null!=s?s:Mo.View|Mo.Edit,void 0!==o){const t=n.modelToContainerMap.get(e);void 0===t?(this.container=o(n,e),this.textHost.modelToContainerMap.set(e,this.container)):this.container=t}else this.container=yo(n,e);this.isShapeBuilderTextEditorEnabled&&(this.container.style.opacity="0",this.container.style.background="transparent"),this.viewModel=new Pc(this.container),this.quillInstance=this.ensureQuillEditor(this.editContext),void 0!==this.editContext&&(this.quillListener=new mc(this.container,this.textModel,this.textHost,this.selectionChanged,this.editContext)),void 0===this.textHost.modelToVersionUpdateMap.get(this.textModel)&&this.textHost.modelToVersionUpdateMap.set(this.textModel,new Oo(this.textModel));const a=()=>{this.updateViewModel();const t=Wo(this.textModel.textBody.textBodyFormats).resolve();this.formatSpaceFirstLastPara(!t.spaceFirstLastPara),void 0!==yc.getInstance().configOnInit&&yc.getInstance().performAutoFitOnFontDownload(this.textModel,this.textHost,this.anchor,this.editContext,yc.getInstance().configOnInit)},c=this.textHost.fontManager;void 0===c||c.isReady?a():c.ready.then((()=>{a()})).catch((()=>{}))}set mode(t){this.setHidden(!this.isEligible(t))}teardown(){void 0!==this.quillListener&&this.quillListener.teardown(),this.textModel.modelUpdated.off(this.onModelUpdated),this.isQuillSelectionRefactorEnabled||this.textModel.selectionSet.off(this.onSelectionSet),this.viewModel.teardown(),yc.getInstance().remove(this.textModel),void 0===this.textContainerCreator?this.hideQuillContainer():(this.container.remove(),this.textHost.modelToContainerMap.delete(this.textModel),this.textHost.modelToEditorMap.delete(this.textModel),this.textHost.modelToVersionUpdateMap.delete(this.textModel))}updateTransformAndContainer(t,e){this.updateTransform(t,e),this.updateContainer(t,e)}updateTransform(t,e){const n=B(t.rot),r=e.center(),i=Xi(t).center();let o="";if(!Go(this.textModel)){const e=new _(i.x-r.x,i.y-r.y),s=`translate(${e.x}px, ${e.y}px) rotate(${n}deg) translate(${-e.x}px, ${-e.y}px)`;o=t.flip.y?`${s} rotate(180deg)`:s}const{zoom:s,pan:a}=Co();1===s&&0===a.x&&0===a.y||(o=`translate(${a.x-r.x}px, ${a.y-r.y}px) scale(${s}) translate(${r.x}px, ${r.y}px) ${o}`),this.container.style.transform=o}updateContainer(t,e){const n=e.left,r=e.top,i=e.width(),o=e.height(),s=B(t.rot);Go(this.textModel)&&(s>=45&&s<=135||s>=225&&s<=315)?this.setContainerPosSize(this.container,n+(i-o)/2,r-(i-o)/2,o,i):this.setContainerPosSize(this.container,n,r,i,o)}applyScalingOnFont(t){nc(this.container,t)}onDeselect(){var t;null===(t=this.quillListener)||void 0===t||t.onDeselect()}isEligible(t){return(this.presentMode&t)===t}setHidden(t){var e,n,r;this.isShapeBuilderTextEditorEnabled||(this.container.style.opacity=t?"0":"1"),e=!t,n=this.container,r=e?"all":"none",n.querySelectorAll("p").forEach((t=>{t.style.pointerEvents=r}))}setContainerPosSize(t,e,n,r,i){t.style.left=`${e}px`,t.style.top=`${n}px`,t.style.width=`${r}px`,t.style.height=`${i}px`}ensureQuillEditor(t){let e=this.textHost.modelToEditorMap.get(this.textModel);if(void 0!==e)return e.quillEditorInstance;const n=Ta(this.container,t);!function(t,e,n,r){if(void 0===r)return;const i=Lt("QuillSelectionRefactor"),o=t.getModule("keyboard");o.addBinding({key:"Escape"},(()=>{i?void 0!==r&&r.actionInvoker.invoke(new ma(void 0)):(n.emit(),t.setSelection(null,"api")),e.editStatusUpdated.emit(1,!1)})),o.addBinding({key:"Left",shortKey:!1},{prefix:/^$/},(e=>!ba(t,e.index)||(Pa(e.index-1,e.length,r,t,i),!1))),o.addBinding({key:"Left",shiftKey:!0},{prefix:/^$/},(e=>!ba(t,e.index)||(Pa(e.index-1,e.length+1,r,t,i),!1))),o.addBinding({key:"Right",shortKey:!1},{suffix:/^$/},(e=>!ba(t,e.index+1)||(Pa(e.index+1,e.length,r,t,i),!1))),o.addBinding({key:"Right",shiftKey:!0},{suffix:/^$/},(e=>!ba(t,e.index+1)||(Pa(e.index+1,e.length+1,r,t,i),!1))),o.addBinding({key:"a",shortKey:!0},(()=>1!==e.textBody.length||(t.setSelection(0,0,"user"),!1)))}(n,this.textModel,this.selectionHighlightCleared,t),e=new wc(n),this.textHost.modelToEditorMap.set(this.textModel,e),this.container.tabIndex=-1,n.root.tabIndex=-1,n.root.spellcheck=!1;const r=void 0!==(i=this.textModel).fontRef&&void 0!==i.fontRef.color?as(i.fontRef.color,i.hostContext.themeInfo):Ho.getInstance().charPropBag.fill.color;var i;return this.container.style.color=`rgb(${r.r}, ${r.g}, ${r.b})`,n}updateViewModel(t,e){var n;za(this.textModel,this.quillInstance,this.textHost,t,null===(n=this.quillListener)||void 0===n?void 0:n.isIPCharPropBagSet,e),this.quillInstance.enable(!0!==this.textModel.lockEdit&&void 0!==this.editContext&&!0!==this.editContext.isInLivePreview)}hideQuillContainer(){this.container.style.visibility="hidden"}checkSpaceFirstLastPara(t){return!1}formatSpaceFirstLastPara(t){}}class Ac{constructor(e,n,r,i,o,s,a){this.viewModelUpdated=new t,this.onModelUpdated=(...t)=>{this.model.shape.modelUpdated.emit(...t),this.model.text.modelUpdated.emit(...t)},this.onShapeModelUpdated=t=>{Be(t,1)&&this.updateViewModel()},this.onShapeViewModelUpdated=(...t)=>{this.viewModelUpdated.emit(...t)},this.onAnchorTransformUpdated=()=>{this.updateViewModel()},this.onZoomPanUpdated=()=>{this.quillPresenter.updateTransformAndContainer(this.context.anchorPresenter.transform,this.getTextInscribedRect())},this.onTextAppended=t=>{go(this.model,this.textHost),void 0!==this.editContext&&""!==t&&this.editContext.actionInvoker.invoke(new To(t))},this.onQuillSelectionChanged=(t,e,n)=>{void 0!==e&&void 0!==this.editContext&&this.editContext.actionInvoker.invoke(new bo(e,[this.graphic],t,n))},this.onQuillSelectionHighlightCleared=()=>{void 0!==this.editContext&&this.editContext.actionInvoker.invoke(new bo(new Bi(0,this.model.text.textBody.length-1),[this.graphic],!0,void 0,!0))},this.graphic=e,this.model=e.model,this.context=o,this.editContext=s,this.textHost=n,this.geometryRegistry=r,this.shapePresenter=i,this.quillPresenter=new Cc(this.model.text,n,e.anchor,this.editContext,a),this.quillPresenter.selectionChanged.on(this.onQuillSelectionChanged),this.quillPresenter.selectionHighlightCleared.on(this.onQuillSelectionHighlightCleared),this.model.modelUpdated.on(this.onModelUpdated),this.context.anchorPresenter.transformUpdated.on(this.onAnchorTransformUpdated),this.model.shape.modelUpdated.on(this.onShapeModelUpdated),this.model.text.textAppended.on(this.onTextAppended),this.shapePresenter.viewModelUpdated.on(this.onShapeViewModelUpdated),Co().zoomPanUpdated.on(this.onZoomPanUpdated),this.updateViewModel()}get viewModel(){return this.shapePresenter.viewModel}teardown(){this.quillPresenter.selectionChanged.off(this.onQuillSelectionChanged),this.quillPresenter.selectionHighlightCleared.off(this.onQuillSelectionHighlightCleared),this.model.shape.modelUpdated.off(this.onShapeModelUpdated),this.model.modelUpdated.off(this.onModelUpdated),this.context.anchorPresenter.transformUpdated.off(this.onAnchorTransformUpdated),this.model.text.textAppended.off(this.onTextAppended),this.shapePresenter.viewModelUpdated.off(this.onShapeViewModelUpdated),Co().zoomPanUpdated.off(this.onZoomPanUpdated),this.quillPresenter.teardown(),this.shapePresenter.teardown()}applyScalingOnFont(t){Lt("CanvasKitTextResize")&&this.quillPresenter.applyScalingOnFont(t)}updateViewModel(){var t;this.viewModel.accessibleNode=null===(t=this.context.accessibleNodeCreator)||void 0===t?void 0:t.createAccessibleNode(this.graphic);const e=this.quillPresenter.container;e.classList.toggle("gc2-text-locked",!0===this.model.text.lockEdit),this.quillPresenter.updateTransformAndContainer(this.context.anchorPresenter.transform,this.getTextInscribedRect()),e.style.visibility="inherit",this.viewModelUpdated.emit()}getTextInscribedRect(){return Ao(this.model.shape.geometry.adjustValues,this.geometryRegistry.getGeometry(this.model.shape.geometry),this.context.anchorPresenter.transform)}}class jc{constructor(e,n,r,i,o,s){this.viewModelUpdated=new t,this.onViewModelUpdated=(...t)=>{this.viewModelUpdated.emit(...t)},this.onTextEditStatusUpdated=(t,e)=>{switch(t){case 0:go(this.shapeWithText,this.textHost,e);break;case 1:xo(this.shapeWithText,this.textHost);break;default:b(t)}},this.renderDataAwarePresenter=new lo(e,o,function(t,e,n){return(r,i,o)=>{const s=new Nt(r.id,r.model.shape,r.anchor),a=new lo(s,i,(()=>new ho(s,i,e,n)),o);return new Ac(r,t,e,a,i,o)}}(n,r,i),s),this.renderDataAwarePresenter.viewModelUpdated.on(this.onViewModelUpdated),this.textHost=n,this.shapeWithText=e.model,this.shapeWithText.text.editStatusUpdated.on(this.onTextEditStatusUpdated)}get viewModel(){return this.renderDataAwarePresenter.viewModel}teardown(){this.renderDataAwarePresenter.viewModelUpdated.off(this.onViewModelUpdated),this.renderDataAwarePresenter.teardown(),this.shapeWithText.text.editStatusUpdated.off(this.onTextEditStatusUpdated)}}function Tc(t,e,n){const r=new uo(e);return(e,i,o)=>new jc(e,t,r,n(),i,o)}class Sc{constructor(){this.viewModel=new H,this.viewModelUpdated=new t}teardown(){}}function Rc(){return new Sc}function Ec(t,e){for(const n of Object.keys(t)){const r=n,i=t[r];void 0!==i&&e(r,i)}}class Mc{constructor(t,e){this.eventSinks=[],this.inputElement=t,this.options=e}on(t){this.findIndex(t)>-1||(this.eventSinks.push(t),Ec(t,((t,e)=>{(Array.isArray(this.inputElement)?this.inputElement:[this.inputElement]).forEach((n=>{n.addEventListener(t,e,this.options)}))})))}off(t){const e=this.findIndex(t);-1!==e&&(Ec(t,((t,e)=>{(Array.isArray(this.inputElement)?this.inputElement:[this.inputElement]).forEach((n=>{n.removeEventListener(t,e,this.options)}))})),this.eventSinks.splice(e,1))}findIndex(t){return this.eventSinks.findIndex((e=>e===t))}}class Oc extends Mc{}class kc{constructor(){this.renderers=new mt([])}register(t,e){return this.renderers.register(t,e),this}renderViewModel(t,e){const n=this.renderers.get(t.type);void 0===n&&m(0,`Unknown VM type: ${t.type}`),n(t,e)}hitTest(t,e){if(void 0!==t.target&&null!==t.target)return e.hitTestMap.getViewModel(t.target)}}function Ic(t,e,n){return Math.min(Math.max(t,e),n)}class Bc{constructor(e){this.pointerEventNotifiers=z(),this.imageViewModelUpdated=new t,this.hitTestSlop=0,this.bounds=new Ji(0,0,0,0),this.sourceAnchorBounds=new Ji(0,0,0,0),this.scaleFactor=1/window.devicePixelRatio,this.transform=new Dt,this.topLeftOffset=new _(0,0),this.scaleVector=new _(1,1),this.inCropMode=!1,this._data=e}get imageData(){return this._data}get opacity(){return this._opacity}set opacity(t){this._opacity=void 0===t?t:Ic(t,0,100)}async setImageData(t){return this._data=t,Promise.resolve()}}class _c{}class Dc extends Bc{constructor(t){super(),this.type=_c,this.createSVGElementFromStringCallback=t}teardown(){}}class Fc extends Mc{}class Nc{constructor(t){this.pointerdown=t=>{this.pointerEventNotifierMap.pointerdown.valid&&this.pointerEventNotifierMap.pointerdown.value.emit(t,{isHandled:!1})},this.pointermove=t=>{this.pointerEventNotifierMap.pointermove.valid&&this.pointerEventNotifierMap.pointermove.value.emit(t,{isHandled:!1})},this.pointerup=t=>{this.pointerEventNotifierMap.pointerup.valid&&this.pointerEventNotifierMap.pointerup.value.emit(t,{isHandled:!1})},this.pointercancel=t=>{this.pointerEventNotifierMap.pointercancel.valid&&this.pointerEventNotifierMap.pointercancel.value.emit(t,{isHandled:!1})},this.pointerEventNotifierMap=t}}function Uc(t){for(;null!==t.firstChild;)t.removeChild(t.firstChild)}function Lc(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}class qc{constructor(){this.elementToViewModel=new Map}setViewModel(t,e){this.elementToViewModel.set(t,e)}getViewModel(t){return this.elementToViewModel.get(t)}clear(){this.elementToViewModel.clear()}}function zc(t,e){t.target.style.cursor=e}class $c{constructor(t,e,n){this.activePointerEvents=new Map,this.onPointerDown=(t,e)=>{var n,r,i,o,s,a;if(this.activePointerEvents.set(t.pointerId,t),void 0!==this.inDrag&&!(null===(n=this.options)||void 0===n?void 0:n.shouldSupportMultiPointer))return;if((null===(r=this.options)||void 0===r?void 0:r.shouldSupportMultiPointer)&&this.activePointerEvents.size>1){const n=this.viewModelHitTester.hitTest(t);return void 0!==n&&!0===this.options.supportActiveElementSwitch&&function(t,e){var n,r,i;const o=null===(n=t.source)||void 0===n?void 0:n.editElement;return void 0!==o&&void 0!==o.priority&&(void 0===(null===(i=null===(r=null==e?void 0:e.source)||void 0===r?void 0:r.editElement)||void 0===i?void 0:i.priority)||o.priority<e.source.editElement.priority)}(n,null===(i=this.inDrag)||void 0===i?void 0:i.viewModel)?void this.performActiveEditElementSwitch(n,e):void(void 0!==(null===(o=this.inDrag)||void 0===o?void 0:o.viewModel)?this.inDrag.viewModel.pointerEventNotifiers.pointerdown.value.emit(t,e):this.unHitPointerEventNotifiers.pointerdown.value.emit(t,e))}const c=this.viewModelHitTester.hitTest(t);void 0!==c?(this.inDrag={viewModel:c},c.pointerEventNotifiers.pointerdown.value.emit(t,e)):(this.inDrag={},zc(t,null!==(a=null===(s=this.options)||void 0===s?void 0:s.cursor)&&void 0!==a?a:"auto"),this.unHitPointerEventNotifiers.pointerdown.value.emit(t,e))},this.onPointerMove=(t,e)=>{var n,r;const i=void 0!==this.inDrag?this.inDrag.viewModel:this.viewModelHitTester.hitTest(t);this.generateOverOutEvent(t,i),void 0!==i?i.pointerEventNotifiers.pointermove.value.emit(t,e):(zc(t,null!==(r=null===(n=this.options)||void 0===n?void 0:n.cursor)&&void 0!==r?r:"auto"),this.unHitPointerEventNotifiers.pointermove.value.emit(t,e))},this.onPointerUp=(t,e)=>{var n,r,i;this.activePointerEvents.delete(t.pointerId);const o=void 0!==this.inDrag?this.inDrag.viewModel:this.viewModelHitTester.hitTest(t);void 0!==o?o.pointerEventNotifiers.pointerup.value.emit(t,e):(zc(t,null!==(r=null===(n=this.options)||void 0===n?void 0:n.cursor)&&void 0!==r?r:"auto"),this.unHitPointerEventNotifiers.pointerup.value.emit(t,e)),(null===(i=this.options)||void 0===i?void 0:i.shouldSupportMultiPointer)&&0!==this.activePointerEvents.size||(this.inDrag=void 0)},this.onPointerCancel=(t,e)=>{var n,r,i;this.activePointerEvents.delete(t.pointerId);const o=void 0!==this.inDrag?this.inDrag.viewModel:this.viewModelHitTester.hitTest(t);void 0!==o?o.pointerEventNotifiers.pointercancel.value.emit(t,e):(zc(t,null!==(r=null===(n=this.options)||void 0===n?void 0:n.cursor)&&void 0!==r?r:"auto"),this.unHitPointerEventNotifiers.pointercancel.value.emit(t,e)),(null===(i=this.options)||void 0===i?void 0:i.shouldSupportMultiPointer)&&0!==this.activePointerEvents.size||(this.inDrag=void 0)},this.onPointerOut=t=>{this.generateOverOutEvent(t,void 0)},this.viewModelHitTester=t,this.unHitPointerEventNotifiers=e,this.options=n}addEventListeners(t){t.pointerdown.value.on(this.onPointerDown),t.pointermove.value.on(this.onPointerMove),t.pointerup.value.on(this.onPointerUp),t.pointercancel.value.on(this.onPointerCancel),t.pointerout.value.on(this.onPointerOut)}removeEventListeners(t){t.pointerdown.value.off(this.onPointerDown),t.pointermove.value.off(this.onPointerMove),t.pointerup.value.off(this.onPointerUp),t.pointercancel.value.off(this.onPointerCancel),t.pointerout.value.off(this.onPointerOut)}generateOverOutEvent(t,e){var n,r,i;if(this.lastPointerMoveViewModel===e)return;const o=null!==(r=null===(n=this.lastPointerMoveViewModel)||void 0===n?void 0:n.pointerEventNotifiers)&&void 0!==r?r:this.unHitPointerEventNotifiers;o.pointerout.valid&&o.pointerout.value.emit(t,{isHandled:!1});const s=null!==(i=null==e?void 0:e.pointerEventNotifiers)&&void 0!==i?i:this.unHitPointerEventNotifiers;s.pointerover.valid&&s.pointerover.value.emit(t,{isHandled:!1}),this.lastPointerMoveViewModel=e}performActiveEditElementSwitch(t,e){var n;for(const r of this.activePointerEvents.values())void 0!==(null===(n=this.inDrag)||void 0===n?void 0:n.viewModel)&&this.inDrag.viewModel!==t?this.inDrag.viewModel.pointerEventNotifiers.pointercancel.value.emit(r,e):this.unHitPointerEventNotifiers.pointercancel.value.emit(r,e);this.inDrag={viewModel:t};for(const t of this.activePointerEvents.values())void 0!==this.inDrag.viewModel&&this.inDrag.viewModel.pointerEventNotifiers.pointerdown.value.emit(t,e)}}class Hc{constructor(t,e,n){this.hitTestMap=new qc,this.pointerEventNotifiers=z(),this.renderScope=0,this.svgRoot=t,this.svgRenderer=e,this.isEnableRenderZoomPanInSvgMode=Lt("EnableRenderZoomPanInSvgMode"),void 0!==n&&(this.pointerEventHandler=new Fc(this.svgRoot),this.pointerEventHandler.on(new Nc(this.pointerEventNotifiers)),new $c({hitTest:t=>this.hitTest(t)},n).addEventListeners(this.pointerEventNotifiers))}beginRender(){0===this.renderScope&&(Uc(this.svgRoot),this.svgDefsElement=void 0,this.hitTestMap.clear(),this.isEnableRenderZoomPanInSvgMode&&this.applyZoomAndPan()),this.renderScope+=1}applyZoomAndPan(){var t,e;if(void 0===(null===(t=this.svgRoot.viewBox)||void 0===t?void 0:t.baseVal)||null===(null===(e=this.svgRoot.viewBox)||void 0===e?void 0:e.baseVal))return;const{zoom:n,pan:r}=Co(),i=this.svgRoot.clientWidth,o=this.svgRoot.clientHeight;n&&i&&o&&(this.svgRoot.viewBox.baseVal.x=-1*r.x/n,this.svgRoot.viewBox.baseVal.y=-1*r.y/n,this.svgRoot.viewBox.baseVal.width=i/n,this.svgRoot.viewBox.baseVal.height=o/n,this.svgRoot.setAttribute("width",`${i}`),this.svgRoot.setAttribute("height",`${o}`))}addViewModel(t){this.svgRenderer.renderViewModel(t,this)}endRender(){this.renderScope-=1}hitTest(t){return this.svgRenderer.hitTest(t,this)}beginGroup(t){}endGroup(){}ensureSvgDefsElement(){return void 0===this.svgDefsElement&&(this.svgDefsElement=Lc("defs"),this.svgRoot.appendChild(this.svgDefsElement)),this.svgDefsElement}}class Vc{constructor(t){this.renderScope=0,this.inBeginRender=!1,this.inEndRender=!1,this.renderTargetRegistry=t}beginRender(){if(!this.inBeginRender)try{this.inBeginRender=!0,0===this.renderScope&&this.renderTargetRegistry.beginRender(),this.renderScope+=1}finally{this.inBeginRender=!1}}endRender(t){if(!this.inEndRender)try{this.inEndRender=!0,this.renderScope-=1,0===this.renderScope&&this.renderTargetRegistry.endRender(t)}finally{this.inEndRender=!1}}hitTest(t){}addViewModel(t,e){V(t)&&t.children.forEach((t=>{this.renderTargetRegistry.addViewModel(t,e)}))}beginGroup(t){}endGroup(){}}function Wc(t){t.register($,new Vc(t))}function Gc(){return{keyup:new t,keydown:new t}}function Kc(t){const e=Gc(),n={keydown:t=>{e.keydown.emit(t,{isHandled:!1})},keyup:t=>{e.keyup.emit(t,{isHandled:!1})}};return t.on(n),e}class Qc{}class Yc{constructor(){this.type=Qc,this.update=new t,this.pointerEventNotifiers=z(),this.hitTestSlop=0}setGeometry(){}setProps(){}setCenter(){}teardown(){}}function Jc(){return new Yc}function Xc(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}class Zc{constructor(t){this.element=t}get id(){return this.element.id}set id(t){this.element.id=t}get style(){return this.element.style}set(t,e){this.element.setAttribute(t,`${e}`)}appendChild(t){this.element.appendChild(t.element)}}class th{constructor(t,e){this.element=t,this.name=e}set transform(t){this.element.set(this.name,t)}setRotate(t,e=0,n=0,r=2){this.transform=eh(t,e,n,r)}setScale(t,e,n=2){this.transform=nh(t,e,n)}setTranslate(t,e,n=2){this.transform=rh(t,e,n)}set(t,e,n,r,i=2){var o,s;0!==n||e.x||e.y?this.transform=`${rh(r.x,r.y,i)}${eh(n,0,0,i)}${o=e.x,s=e.y,nh(o?-1:1,s?-1:1,0)}${rh(t.x,t.y,i)}`:this.transform=`${rh(r.x+t.x,r.y+t.y,i)}`}}function eh(t,e,n,r){return 0===t?"":0!==e||0!==n?`rotate(${t.toFixed(r)},${e.toFixed(r)},${n.toFixed(r)})`:`rotate(${t.toFixed(r)})`}function nh(t,e,n){return 1===t&&1===e?"":`scale(${t.toFixed(n)},${e.toFixed(n)})`}function rh(t,e,n){return 0===t&&0===e?"":`translate(${t.toFixed(n)},${e.toFixed(n)})`}class ih extends Zc{constructor(t){super(t),this.transform=new th(this,"transform")}set opacity(t){this.set("opacity",t)}}class oh extends ih{constructor(t=Xc("foreignObject")){super(t)}set width(t){this.set("width",`${t}`)}set height(t){this.set("height",`${t}`)}set x(t){this.set("x",`${t}`)}set y(t){this.set("y",`${t}`)}appendChildElement(t){this.element.appendChild(t)}}class sh{constructor(){this.versionNumber=0}increment(){return this.versionNumber+=1,this}compare(t){const e=t;return this.versionNumber>e.versionNumber?1:this.versionNumber<e.versionNumber?2:0}clone(){const t=new sh;return t.versionNumber=this.versionNumber,t}}class ah{constructor(e,n){this.type=Ii,this.modelUpdated=new t,this.editStatusUpdated=new t,this.textAppended=new t,this.selectionSet=new t,this.version=new sh,this.onTextBodyUpdated=t=>{let e=!0;void 0!==t&&Eo(t)&&void 0===t.selectionRange&&(e=!1),this.editStatusUpdated.emit(0,e),this.bumpVersion(t)},this.hostContext=e,this._textBody=n,this._textBody.textBodyUpdated.on(this.onTextBodyUpdated)}get textBody(){return this._textBody}set textBody(t){this._textBody!==t&&(this._textBody.textBodyUpdated.off(this.onTextBodyUpdated),this._textBody=t,this._textBody.textBodyUpdated.on(this.onTextBodyUpdated),this.bumpVersion())}get fontRef(){return this._fontRef}set fontRef(t){this._fontRef=t,this.modelUpdated.emit()}get lockEdit(){return this._lockEdit}set lockEdit(t){this._lockEdit=t,this.modelUpdated.emit()}clone(){var t;const e=new ah(this.hostContext,this._textBody.clone());return e._fontRef=null===(t=this._fontRef)||void 0===t?void 0:t.clone(),e._lockEdit=this._lockEdit,e}bumpVersion(t){this.version.increment(),this.modelUpdated.emit(t)}}class ch{static toTextBody(t){return uh(JSON.parse(t),gh("TextBody"),lh)}static textBodyToJson(t){return JSON.stringify(uh(t,gh("TextBody"),dh))}}function hh(t,e,n=""){if(n)throw Error(`Invalid value for key "${n}". Expected type ${JSON.stringify(t)} but got ${JSON.stringify(e)}`);throw Error(`Invalid value ${JSON.stringify(e)} for type ${JSON.stringify(t)}`)}function lh(t){if(void 0===t.jsonToJS){const e={};t.props.forEach((t=>e[t.json]={key:t.js,typ:t.typ})),t.jsonToJS=e}return t.jsonToJS}function dh(t){if(void 0===t.jsToJSON){const e={};t.props.forEach((t=>e[t.js]={key:t.json,typ:t.typ})),t.jsToJSON=e}return t.jsToJSON}function uh(t,e,n,r=""){if("any"===e)return t;if(null===e)return null===t?t:hh(e,t);if(!1===e)return hh(e,t);for(;"object"==typeof e&&void 0!==e.ref;)e=xh[e.ref];return Array.isArray(e)?function(t,e){return-1!==t.indexOf(e)?e:hh(t,e)}(e,t):"object"==typeof e?e.hasOwnProperty("unionMembers")?function(t,e){const r=t.length;for(let i=0;i<r;i++){const r=t[i];try{return uh(e,r,n)}catch(t){}}return hh(t,e)}(e.unionMembers,t):e.hasOwnProperty("arrayItems")?function(t,e){return Array.isArray(e)?e.map((e=>uh(e,t,n))):hh("array",e)}(e.arrayItems,t):e.hasOwnProperty("props")?function(t,e,r){if(null===r||"object"!=typeof r||Array.isArray(r))return hh("object",r);const i={};return Object.getOwnPropertyNames(t).forEach((e=>{const o=t[e],s=Object.prototype.hasOwnProperty.call(r,e)?r[e]:void 0;i[o.key]=uh(s,o.typ,n,o.key)})),Object.getOwnPropertyNames(r).forEach((o=>{Object.prototype.hasOwnProperty.call(t,o)||(i[o]=uh(r[o],e,n,o))})),i}(n(e),e.additional,t):hh(e,t):e===Date&&"number"!=typeof t?function(t){if(null===t)return null;const e=new Date(t);return isNaN(e.valueOf())?hh("Date",t):e}(t):function(t,e){return typeof t==typeof e?e:hh(t,e,r)}(e,t)}function ph(t){return{arrayItems:t}}function fh(...t){return{unionMembers:t}}function yh(t,e){return{props:t,additional:e}}function gh(t){return{ref:t}}const xh={TextBody:yh([{json:"charFormatRunArray",js:"charFormatRunArray",typ:ph(gh("CharacterFormatRun"))},{json:"fidelityImage",js:"fidelityImage",typ:fh(void 0,"")},{json:"paraFormatRunArray",js:"paraFormatRunArray",typ:ph(gh("ParagraphFormatRun"))},{json:"text",js:"text",typ:""},{json:"textbodyFormat",js:"textbodyFormat",typ:gh("TextbodyFormat")}],!1),CharacterFormatRun:yh([{json:"charFormat",js:"charFormat",typ:gh("CharacterFormat")},{json:"length",js:"length",typ:0}],"any"),CharacterFormat:yh([{json:"bold",js:"bold",typ:fh(void 0,!0)},{json:"fillProps",js:"fillProps",typ:fh(void 0,gh("FillProperties"))},{json:"fontFamily",js:"fontFamily",typ:fh(void 0,"")},{json:"fontSize",js:"fontSize",typ:fh(void 0,0)},{json:"italic",js:"italic",typ:fh(void 0,!0)},{json:"strike",js:"strike",typ:fh(void 0,0)},{json:"underline",js:"underline",typ:fh(void 0,0)}],"any"),FillProperties:yh([{json:"fillPropsType",js:"fillPropsType",typ:0},{json:"solidFill",js:"solidFill",typ:fh(void 0,gh("Color"))}],!1),Color:yh([{json:"colorType",js:"colorType",typ:0},{json:"rgbaColor",js:"rgbaColor",typ:fh(void 0,gh("RGBAColor"))},{json:"schemeColor",js:"schemeColor",typ:fh(void 0,gh("SchemeColor"))},{json:"transforms",js:"transforms",typ:fh(void 0,ph(gh("ColorTransform")))}],!1),RGBAColor:yh([{json:"a",js:"a",typ:3.14},{json:"b",js:"b",typ:3.14},{json:"g",js:"g",typ:3.14},{json:"r",js:"r",typ:3.14}],!1),SchemeColor:yh([{json:"presetColorType",js:"presetColorType",typ:0}],!1),ColorTransform:yh([{json:"alpha",js:"alpha",typ:fh(void 0,0)},{json:"colorTransformType",js:"colorTransformType",typ:0},{json:"lumMod",js:"lumMod",typ:fh(void 0,0)},{json:"lumOff",js:"lumOff",typ:fh(void 0,0)},{json:"shade",js:"shade",typ:fh(void 0,0)},{json:"tint",js:"tint",typ:fh(void 0,0)}],!1),ParagraphFormatRun:yh([{json:"length",js:"length",typ:0},{json:"paragraphFormat",js:"paragraphFormat",typ:gh("ParagraphFormat")}],"any"),ParagraphFormat:yh([{json:"alignment",js:"alignment",typ:fh(void 0,0)},{json:"indent",js:"indent",typ:fh(void 0,3.14)},{json:"leftMargin",js:"leftMargin",typ:fh(void 0,3.14)},{json:"lineSpacing",js:"lineSpacing",typ:fh(void 0,gh("TextSpacing"))},{json:"rightMargin",js:"rightMargin",typ:fh(void 0,3.14)},{json:"spaceAfterParagraph",js:"spaceAfterParagraph",typ:fh(void 0,gh("TextSpacing"))},{json:"spaceBeforeParagraph",js:"spaceBeforeParagraph",typ:fh(void 0,gh("TextSpacing"))}],"any"),TextSpacing:yh([{json:"spaceUnit",js:"spaceUnit",typ:0},{json:"spaceValue",js:"spaceValue",typ:3.14}],!1),TextbodyFormat:yh([{json:"anchoring",js:"anchoring",typ:fh(void 0,0)},{json:"autofit",js:"autofit",typ:fh(void 0,gh("Autofit"))},{json:"bottomInset",js:"bottomInset",typ:fh(void 0,0)},{json:"horzOverflow",js:"horzOverflow",typ:fh(void 0,0)},{json:"leftInset",js:"leftInset",typ:fh(void 0,0)},{json:"rightInset",js:"rightInset",typ:fh(void 0,0)},{json:"topInset",js:"topInset",typ:fh(void 0,0)},{json:"upright",js:"upright",typ:fh(void 0,!0)},{json:"vertOverflow",js:"vertOverflow",typ:fh(void 0,0)},{json:"wrapping",js:"wrapping",typ:fh(void 0,0)}],"any"),Autofit:yh([{json:"autofitType",js:"autofitType",typ:0}],!1)};class vh{constructor(t){this.type=4,this.alpha=t/100}transform(t){return et(t)?new tt(t.r,t.g,t.b,this.alpha,t.transforms):at(t)?new st(t.r,t.g,t.b,this.alpha,t.transforms):xe(t)?new ge(t.h,t.s,t.l,this.alpha):void b(t)}equals(t){return this.type===t.type&&this.alpha===t.alpha}}class mh{constructor(t){this.type=2,this.lumMod=t/100}transform(t){return function(t,e){return new ge(t.h,t.s,t.l*e,t.a)}(Se(t),this.lumMod)}equals(t){return this.type===t.type&&this.lumMod===t.lumMod}}class wh{constructor(t){this.type=3,this.lumOff=t/100}transform(t){return function(t,e){return new ge(t.h,t.s,t.l+e,t.a)}(Se(t),this.lumOff)}equals(t){return this.type===t.type&&this.lumOff===t.lumOff}}class bh{constructor(t){this.type=1,this.tint=t/100}transform(t){return Ph(Te(t),this.tint)}equals(t){return this.type===t.type&&this.tint===t.tint}}function Ph(t,e){let n=1-e;return n>0?new st(t.r*(1-n)+255*n,t.g*(1-n)+255*n,t.b*(1-n)+255*n,t.a):(n+=1,new st(t.r*n,t.g*n,t.b*n,t.a))}function Ch(t){if(void 0===t)return ot;switch(t.colorType){case 0:{const e=t.rgbaColor;return new tt(e.r,e.g,e.b,e.a,jh(t.transforms))}case 1:{const e=t.schemeColor,n=jh(t.transforms);return 12===e.presetColorType?new dt(n):new fe(e.presetColorType,n)}default:m(0,`Unreachable color type ${t.colorType}`)}}function Ah(t){switch(t.type){case 0:{const e=t;return{colorType:0,rgbaColor:{r:e.r,g:e.g,b:e.b,a:e.a},transforms:Th(t.transforms)}}case 1:return{colorType:1,schemeColor:{presetColorType:t.presetColorType},transforms:Th(t.transforms)};case 2:return{colorType:1,schemeColor:{presetColorType:12},transforms:Th(t.transforms)};default:m(0,`Unreachable color type ${t.type}`)}}function jh(t){if(void 0===t)return[];const e=[];for(const n of t){const t=n.colorTransformType;switch(t){case 0:e.push(new Re(n.shade));break;case 1:e.push(new bh(n.tint));break;case 2:e.push(new mh(n.lumMod));break;case 3:e.push(new wh(n.lumOff));break;case 4:e.push(new vh(n.alpha));break;case 5:case 6:case 7:case 8:case 9:m(0,`Unsupported color transform type ${t}`);default:b(t)}}return e}function Th(t){if(0===t.length)return;const e=[];for(const n of t)switch(n.type){case 0:e.push({colorTransformType:0,shade:100*n.shade});break;case 1:e.push({colorTransformType:1,tint:100*n.tint});break;case 2:e.push({colorTransformType:2,lumMod:100*n.lumMod});break;case 3:e.push({colorTransformType:3,lumOff:100*n.lumOff});break;case 4:Lt("SaveAlphaColorTransform")&&e.push({colorTransformType:4,alpha:100*n.alpha});break;case 5:case 6:case 7:case 8:case 9:m(0,`Unsupported color transform ${n.type}`);default:b(n)}return e}function Sh(t){switch(t.fillPropsType){case 0:return new Ki;case 1:return new ht(Ch(t.solidFill));case 6:case 3:case 4:case 5:m(0,"Not implemented");default:m(0,`Unexpected fill props type ${t.fillPropsType}`)}}function Rh(t,e){if(void 0===t){if(void 0===e)return new Ki;if(e.index>=0)return new pt;m(0,"Undefined fillProps without a valid style")}return Sh(t)}function Eh(t){switch(t.type){case 0:return{fillPropsType:0};case 1:return{fillPropsType:1,solidFill:Ah(t.color)};case 2:m(0,"StyleFill is a placeholder. Cannot be serialized.");case 6:case 3:case 4:case 5:m(0,`Not implemented ${t.type}}`);default:b(t.type)}}function Mh(t,e){return 0===e||t[e>0?e-1:e]===Sa}function Oh(t,e){return rs(t.length,e.charPos),Mh(t,e.charPos)&&0!==e.charPos?new Bi(e.charPos-1,e.length+1):e.clone()}function kh(t,e,n){t.forEach((t=>{void 0!==t.fontSize?t.fontSize*=Math.abs(e):void 0!==n?t.fontSize=n*Math.abs(e):w("Text","FontSizeMissingForFontScaling","Font size missing for Text Resize")}))}function Ih(t,e){const n=t.reduce(((t,e)=>t+e),0);if(e<0||e>=n)return;let r=0,i=0;for(let n=0;n<t.length;n+=1)if(r+=t[n],e<r){i=n;break}return i}function Bh(t,e){const n=Ih(t,e);if(void 0===n)return;let r=0;for(let e=0;e<n;e+=1)r+=t[e];return new Bi(r,t[n])}class _h{constructor(t,e){this.totalLength=0,this.runLengths=[...t],this.creator=e,this.runBags=[];for(const n of t)this.runBags.push(new e),this.totalLength+=n}createPropertyBag(){return new this.creator}getRunIndex(t){return Ih(this.runLengths,t)}getRunBag(t){return function(t,e){const n=Ih(t.runLengths,e);if(void 0!==n)return t.runBags[n]}(this,t)}getRunRange(t){return Bh(this.runLengths,t)}getRunRangeArray(t){return function(t,e){const n=[];if(0===e.length)return n.push(new Bi(e.charPos,0)),n;const r=new Bi(e.charPos,e.length);for(;r.length>0;){const e=Bh(t,r.charPos);if(void 0!==e){let t=e.charPos+e.length-r.charPos;t=Math.min(t,r.length),n.push(new Bi(r.charPos,t)),r.charPos+=t,r.length-=t}else m(0,`Failed to get text run range with charPos ${r.charPos}`)}return n}(this.runLengths,t)}getRunBagArray(t){const e=this.getRunIndex(t.charPos);if(void 0===e&&m(0,"Invalid starting charPos in getRunBagArray"),0===t.length)return[this.runBags[e]];const n=this.getRunIndex(t.charPos+t.length-1);return void 0===n&&m(0,"Invalid ending charPos in getRunBagArray"),this.runBags.slice(e,n+1)}splitRunOnApplyPropBag(t,e,n,r,i){if(void 0===r&&void 0===i||void 0!==r&&void 0!==i)return;if(e<=0)return;const o=this.getRunIndex(t);if(void 0===o)return;const s=this.getRunRange(t);if(void 0===s)return;if(t===s.charPos&&e===s.length)return;const a=this.getRunBag(t);if(void 0===a)return;const c=a.clone();if(void 0!==r&&c.setFrom(r),void 0!==i)for(const t of i)c.clear(t);if(t>s.charPos&&s.length-(t-s.charPos)-e>0){const n=t-s.charPos,r=e,i=s.length-n-r;this.runLengths[o]=n,this.runLengths.splice(o+1,0,r),this.runLengths.splice(o+2,0,i),this.runBags.splice(o+1,0,c),this.runBags.splice(o+2,0,a.clone())}else{const t=n?s.length-e:e,r=s.length-t;this.runLengths[o]=t,this.runLengths.splice(o+1,0,r),n?this.runBags.splice(o+1,0,c):this.runBags.splice(o,0,c)}}mergeRuns(){let t=0,e=1;for(;e<this.runLengths.length-1;)this.runBags[t].equals(this.runBags[e])?(this.runLengths[t]+=this.runLengths[e],this.runLengths.splice(e,1),this.runBags.splice(e,1)):(t+=1,e+=1)}updateRunsOnInsert(t,e,n,r){if(t<0||t>=this.totalLength||n<=0)return;let i=t;r&&(i=t>0?t-1:0);const o=this.getRunIndex(i);if(void 0!==o){if(r&&e&&t===this.totalLength-1){const e=this.getRunBag(0===t?t:t-1);void 0===e&&m(0,"Undefined property bag in updateRunsOnInsert");const r=e.clone();this.runLengths.splice(o,0,n),this.runBags.splice(o,0,r)}else this.runLengths[o]+=n;this.totalLength+=n,this.mergeRuns()}}updateRunsOnDelete(t,e){let n=e;if(t+n>=this.totalLength&&(n=this.totalLength-t-1),n<=0)return;const r=this.getRunIndex(t);if(void 0===r)return;const i=this.getRunIndex(t+n);if(void 0===i)return;let o=0;const s=this.getRunRange(t+n);void 0!==s&&(o=Math.min(t+n-s.charPos,n));const a=this.getRunIndex(t-1);let c=0;if(void 0===a){const e=this.getRunBag(t);void 0===e&&m(0,"Undefined property bag in updateRunsOnDelete");const r=i;return this.runLengths.splice(0,r),this.runLengths[0]-=o,this.runBags.splice(0,r),this.totalLength-=n,1===this.totalLength&&(this.runBags[0]=e),void this.mergeRuns()}{const e=this.getRunRange(t-1);void 0!==e&&(c=Math.min(e.length+e.charPos-t,n))}if(a===i)return this.runLengths[r]=this.runLengths[r]-n,this.totalLength-=n,void this.mergeRuns();const h=i-a-1;this.runLengths[a]-=c,this.runLengths[i]-=o,this.runLengths.splice(a+1,h),this.runBags.splice(a+1,h),this.totalLength-=n,this.mergeRuns()}slice(t){const e=this.getRunRangeArray(t),n=this.getRunBagArray(t);e.length!==n.length&&m(0,`Property bag mismatch in slice: Runs count = ${e.length} and bags count = ${n.length}`);const r=new _h(e.map((t=>t.length)),this.creator);return n.forEach(((t,e)=>{r.runBags[e].setFrom(t)})),r}clone(){return this.slice(new Bi(0,this.totalLength))}}function Dh(t,e){return is(t.length,e),e.charPos+e.length===t.length&&e.length>1&&t[t.length-1]===Sa?new Bi(e.charPos,e.length-1):e}function Fh(t,e){let n=new Bi(e.charPos,1).charPos;for(;!Mh(t,n);)n-=1;let r=0===e.length?e.charPos+1:e.charPos+e.length;for(;!Mh(t,r);)r+=1;return new Bi(n,r-n)}function Nh(t){return function(t){return t===Sa||t===Ra||"\t"===t}(t)||-1!=="~`!#$%^&*+=-[]\\';,./{}|\":<>?".indexOf(t)}function Uh(t,e){const n=new Bi(e,0);if(0===e||Nh(t[e])||Nh(t[e-1]))return n;const r=Fh(t,n);let i=e,o=e;for(;i>=r.charPos&&!Nh(t[i]);)i-=1;for(;o<r.charPos+r.length-1&&!Nh(t[o]);)o+=1;return n.charPos=i+1,n.length=o-i-1,Oh(t,n)}function Lh(t,e){switch(e.type){case 3:if(e.text===Sa&&(0===e.charPos||e.charPos===t.length-1))return!0;break;case 4:case 5:if(t.substring(e.range.charPos,e.range.charPos+e.range.length).includes(Sa)&&(e.range.charPos<=t.indexOf("\n")||e.range.charPos<=t.lastIndexOf("\n",t.length-1)))return!0;break;case 7:case 10:return!0;default:return!1}return!1}function qh(t,e,n,r){if(void 0===n&&void 0===r||void 0!==n&&void 0!==r)return;const i=new Bi(t.charPos,t.length);for(;i.length>0;){const t=e.getRunRange(i.charPos);if(void 0===t)return;let o=t.charPos+t.length-i.charPos;if(o=Math.min(o,i.length),i.charPos===t.charPos&&o===t.length){const t=e.getRunBag(i.charPos);if(void 0!==t&&(void 0!==n&&t.setFrom(n),void 0!==r))for(const e of r)t.clear(e)}else i.charPos>t.charPos?e.splitRunOnApplyPropBag(i.charPos,o,!0,n,r):e.splitRunOnApplyPropBag(i.charPos,o,!1,n,r);i.charPos+=o,i.length-=o}e.mergeRuns()}function zh(t){0===t.length&&m(0,"Empty list of property bags passed to intersectBags");const e=t[0].clone();for(let n=1;n<t.length;n+=1)e.intersect(t[n]);return e}class $h{constructor(e){this.textBodyUpdated=new t,this.isQuillSelectionRefactorEnabled=Lt("QuillSelectionRefactor"),this.text=e,this.ensureEndingNewLine(),this.textCharFormats=function(t){const e=[];return t.length>1&&e.push(t.length-1),e.push(1),new _h(e,ys)}(this.text);const n=[this.text.length];this.textParagraphFormats=new _h(n,ms),this.textBodyFormats=new Vo}get length(){return this.text.length}getText(t){return void 0===t?this.text.substring(0,this.length-1):(is(this.text.length,t),this.text.substring(t.charPos,t.charPos+t.length))}isParagraphBoundary(t){return rs(this.text.length,t),Mh(this.text,t)}insertText(t,e,n=!0){rs(this.text.length,t);const r=t===this.length?this.length-1:t;this.text=this.text.slice(0,r)+e+this.text.slice(r);const i=Mh(this.text,r);this.textCharFormats.updateRunsOnInsert(r,i,e.length,!0),this.textParagraphFormats.updateRunsOnInsert(r,i,e.length,!1),n&&this.textBodyUpdated.emit()}replaceText(t,e,n=!0){is(this.text.length,t);const r=this.adjustRange(t);this.text=this.text.slice(0,r.charPos)+e+this.text.slice(r.charPos+r.length),this.ensureEndingNewLine();const i=Mh(this.text,r.charPos);this.textCharFormats.updateRunsOnDelete(r.charPos,r.length),this.textCharFormats.updateRunsOnInsert(r.charPos,i,e.length,!0),this.textParagraphFormats.updateRunsOnDelete(r.charPos,r.length),this.textParagraphFormats.updateRunsOnInsert(r.charPos,i,e.length,!1),n&&this.textBodyUpdated.emit()}deleteText(t,e=!0){is(this.text.length,t);const n=this.adjustRange(t);this.text=this.text.slice(0,n.charPos)+this.text.slice(n.charPos+n.length),this.ensureEndingNewLine(),this.textCharFormats.updateRunsOnDelete(n.charPos,n.length),this.textParagraphFormats.updateRunsOnDelete(n.charPos,n.length),e&&this.textBodyUpdated.emit()}getCharacterRunPropertyBag(t){const e=Dh(this.text,t);return this.getRunPropertyBag(e,this.textCharFormats)}getResolvedCharacterRunPropertyBag(t,e,n,r){return zh(this.getResolvedCharacterRunPropertyBags(t,e,n,r))}getResolvedCharacterRunPropertyBags(t,e,n,r){return is(this.text.length,t),function(t,e,n,r,i){return e.getRunBagArray(t).map((t=>t.clone().resolve(n,r,i)))}(Dh(this.text,t),this.textCharFormats,e,n,r)}setCharacterRunPropertyBag(t,e,n=!0){var r;is(this.text.length,t);let i=Oh(this.text,t);1===this.text.length&&(null===(r=this.textCharFormats.getRunBag(i.charPos))||void 0===r||r.setFrom(e)),0===i.length&&(i=Uh(this.text,i.charPos)),this.setRunPropertyBag(i,this.textCharFormats,e,n)}clearCharacterRunPropertyBag(t,e,n=!0){is(this.text.length,t);let r=Oh(this.text,t);0===r.length&&(r=Uh(this.text,r.charPos),0===r.length)||this.clearRunPropertyBag(r,this.textCharFormats,e,n)}getParagraphRunPropertyBag(t){return this.getRunPropertyBag(t,this.textParagraphFormats)}getResolvedParagraphRunPropertyBag(t){return zh(this.getResolvedParagraphRunPropertyBags(t))}getResolvedParagraphRunPropertyBags(t){return is(this.text.length,t),function(t,e){return e.getRunBagArray(t).map((t=>t.clone().resolve()))}(t,this.textParagraphFormats)}setParagraphRunPropertyBag(t,e,n=!0){is(this.text.length,t);const r=Fh(this.text,t);this.setRunPropertyBag(r,this.textParagraphFormats,e,n)}clearParagraphRunPropertyBag(t,e,n=!0){is(this.text.length,t);const r=Fh(this.text,t);this.clearRunPropertyBag(r,this.textParagraphFormats,e,n)}getTextBodyPropertyBag(){return this.textBodyFormats}setTextBodyPropertyBag(t,e=!0){this.textBodyFormats.setFrom(t),e&&this.textBodyUpdated.emit()}clearTextBodyPropertyBag(t,e){for(const e of t)this.textBodyFormats.clear(e);e&&this.textBodyUpdated.emit()}applyBatchOperations(t,e){let n,r=!1;for(const e of t)switch(r=r||Lh(this.text,e),e.type){case 3:this.insertText(e.charPos,e.text,!1);break;case 4:this.deleteText(e.range,!1);break;case 5:this.replaceText(e.range,e.text,!1);break;case 9:this.applyScaleOnFont(e.scale,e.ipCharProps,e.defaultFontSize);break;case 6:this.applyResizeLimit(e.resizeLimit,e.isLimitSetByUser);break;case 7:this.setCharacterRunPropertyBag(e.range,e.charRunPropBag,!1);break;case 8:e.ipCharProps.setFrom(e.charRunPropBag),n=e.ipCharProps;break;case 10:this.setParagraphRunPropertyBag(e.range,e.paraRunPropBag,!1);break;case 11:this.setTextBodyPropertyBag(e.textBodyPropBag,!1);break;case 0:this.clearCharacterRunPropertyBag(e.range,e.charRunProps,!1);break;case 1:this.clearParagraphRunPropertyBag(e.range,e.paraRunProps,!1);break;case 2:this.clearTextBodyPropertyBag(e.textBodyProps,!1);break;case 12:this.toggleAutoFitProps(e.toggleShapeAutoFit,e.toggleWrapping);break;default:return b(e)}this.textBodyUpdated.emit(new Ro(t,this.isQuillSelectionRefactorEnabled?void 0:e,this.isQuillSelectionRefactorEnabled?void 0:n,r))}slice(t){is(this.length,t);const e=t.charPos+t.length===this.length-1?new Bi(t.charPos,t.length+1):t.clone(),n=new $h(this.text.substring(e.charPos,e.charPos+e.length));return n.textBodyFormats=this.textBodyFormats.clone(),n.textCharFormats=this.textCharFormats.slice(e),n.textParagraphFormats=this.textParagraphFormats.slice(e),n}clone(){const t=new $h(this.text);return t.textCharFormats=this.textCharFormats.clone(),t.textParagraphFormats=this.textParagraphFormats.clone(),t.textBodyFormats=this.textBodyFormats.clone(),t}getRunPropertyBag(t,e){return is(this.text.length,t),function(t,e){return e.getRunBagArray(t).reduce(((t,e)=>(t.setFrom(e),t)),e.createPropertyBag())}(t,e)}setRunPropertyBag(t,e,n,r){is(this.text.length,t),function(t,e,n){qh(t,e,n)}(t,e,n),r&&this.textBodyUpdated.emit()}clearRunPropertyBag(t,e,n,r){is(this.text.length,t),function(t,e,n){qh(t,e,void 0,n)}(t,e,n),r&&this.textBodyUpdated.emit()}applyScaleOnFont(t,e,n){kh([e],t,n),kh(this.textCharFormats.runBags,t,n),this.textParagraphFormats.runBags.forEach((e=>{void 0===e.lineSpacing||qo(e.lineSpacing)||(e.lineSpacing=new Lo(e.lineSpacing.unit,Math.abs(e.lineSpacing.value*t)))}))}applyResizeLimit(t,e){const n=this.getTextBodyPropertyBag().textWrapping;void 0!==n&&0===n.type&&(n.resizeLimit=t,n.isLimitSetByUser=e)}ensureEndingNewLine(){0!==this.text.length&&this.text[this.text.length-1]===Sa||(this.text=this.text.concat(Sa))}adjustRange(t){return t.charPos+t.length===this.length?new Bi(t.charPos,t.length-1):t.clone()}toggleAutoFitProps(t,e){const n=this.getTextBodyPropertyBag();t&&void 0!==n.autoFit&&(1===n.autoFit.type?n.autoFit=new Bo:0===n.autoFit.type&&(n.autoFit=new _o)),e&&void 0!==n.textWrapping&&(1===n.textWrapping.type?n.textWrapping=new $o:0===n.textWrapping.type&&(n.textWrapping=new zo))}}function Hh(t){return new Lo(t.spaceUnit,t.spaceValue)}function Vh(t){return{spaceUnit:t.unit,spaceValue:t.value}}function Wh(t){const e=new $h(t.text.normalize("NFC"));return function(t,e){let n=0,r=0;for(const i of e.charFormatRunArray){const o=e.text.substring(n,n+i.length).normalize("NFC"),s=new Bi(r,o.length),a=Gh(i.charFormat);t.setCharacterRunPropertyBag(s,a),n+=i.length,r+=o.length}}(e,t),function(t,e){let n=0,r=0;for(const i of e.paraFormatRunArray){const o=e.text.substring(n,n+i.length).normalize("NFC"),s=new Bi(r,o.length),a=Kh(i.paragraphFormat);t.setParagraphRunPropertyBag(s,a),n+=i.length,r+=o.length}}(e,t),function(t,e){const n=t.textBodyFormats,r=e.textbodyFormat;let i,o;n.anchoring=r.anchoring,n.topInset=r.topInset,n.bottomInset=r.bottomInset,n.leftInset=r.leftInset,n.rightInset=r.rightInset,n.vertOverflow=r.vertOverflow,n.horzOverflow=r.horzOverflow,n.upRight=r.upright,n.spaceFirstLastPara=r.spaceFirstLastPara,void 0!==r.autofit&&(0===r.autofit.autofitType?i=new Bo:1===r.autofit.autofitType&&(i=new _o)),n.autoFit=i,void 0!==r.wrapping&&(o=1===r.wrapping?new zo:new $o),n.textWrapping=o}(e,t),e}function Gh(t){const e=new ys;return e.bold=t.bold,e.italic=t.italic,e.underline=t.underline,e.strike=t.strike,e.fontSize=t.fontSize,e.fontFamily=t.fontFamily,e.fill=void 0!==t.fillProps?Sh(t.fillProps):void 0,e}function Kh(t){const e=new ms;return e.alignment=t.alignment,e.lineSpacing=void 0!==t.lineSpacing?Hh(t.lineSpacing):void 0,e.spaceBeforeParagraph=void 0!==t.spaceBeforeParagraph?Hh(t.spaceBeforeParagraph):void 0,e.spaceAfterParagraph=void 0!==t.spaceAfterParagraph?Hh(t.spaceAfterParagraph):void 0,e.leftMargin=t.leftMargin,e.rightMargin=t.rightMargin,e.indent=t.indent,e}function Qh(t){const e=ch.toTextBody(t);return{textBody:Wh(e),fidelityImage:e.fidelityImage}}function Yh(t,e,n){const r=function(t,e){for(const n of t.selections)if(e(n))return!0;return!1}(t,Vi);if(!r)return{enabled:r,value:n(void 0)};const i=function(t,e){if(0===t.selections.length)return;const n=e(t.selections[0]);for(let r=1;r<t.selections.length;r+=1)if(n!==e(t.selections[r]))return;return n}(t,(t=>{if(Vi(t))return e(t)}));return{enabled:r,value:n(i)}}function Jh(t,e,n){return Yh(t,(t=>function(t,e){return function(t,e){return t.ipCharProps[e]}(t.textSelection,e)}(t,e)),n)}function Xh(t){return Jh(t.selection,"fontFamily",(e=>{const n=t.themeInfo;let r=e;return void 0!==r&&void 0!==n&&(r=fs(r,n.theme.fontScheme)),null!=r?r:""}))}function Zh(t){return Yh(t.selection,(t=>{return"alignment",(e=t.textSelection).graphic.model.textBody.getResolvedParagraphRunPropertyBag(e.range).alignment;var e}),(t=>{switch(t){case 0:return"TextAlignmentLeftJustify";case 1:return"TextAlignmentCenterJustify";case 2:return"TextAlignmentRightJustify";case 3:return"TextAlignmentFullJustify";default:return""}}))}function tl(t){return Yh(t.selection,(t=>("anchoring",t.textSelection.graphic.model.textBody.getTextBodyPropertyBag().clone().resolve().anchoring)),(t=>{switch(t){case 0:return"TextAnchoringTop";case 1:return"TextAnchoringMiddle";case 2:return"TextAnchoringBottom";default:return""}}))}const el="undoredo";class nl{constructor(t){this.actionType=el,this.redo=t}}const rl="changeFontSize";class il{constructor(t,e=!1){this.actionType=rl,this.size=100*t,this.mergeUndo=e}}const ol="changeFontFamily";class sl{constructor(t){this.actionType=ol,this.fontFamily=t}}const al="changeTextFillProps";class cl{constructor(t,e=!1){this.actionType=al,this.newFill=t,this.mergeUndo=e}}const hl="changeParagraphAlignment";class ll{constructor(t){this.actionType=hl,this.alignment=t}}const dl="changeTextAnchoring";class ul{constructor(t){this.actionType=dl,this.anchoring=t}}const pl=[ua,rl,ol,al,hl,dl,zt];function fl(t){return()=>new ul(t)}function yl(t){return()=>new ll(t)}function gl(t){return()=>{try{document.execCommand(t?"cut":"copy")}catch(t){u(0,`Failed to perform cut/copy: ${t.message}`)}}}const xl=(t,e,n)=>{if("keydown"!==t.type)return{isHandled:!1};function r(t){return n.actionInvoker.invoke(t),{isHandled:!0}}if(aa()?t.metaKey:t.ctrlKey)switch(t.key){case"z":return r(new nl(!1));case"y":return r(new nl(!0));case"5":return r(xa())}return{isHandled:!1}};function vl(t){const e=Jh(t.selection,"fontFamily",(t=>t)),n=Xh(t);return{enabled:n.enabled,value:n.value,fontFamily:e.value}}function ml(t,e){var n;void 0===t.imageData&&p(0,"excelRenderSVGRenderDataViewModelToSVG: viewModel.imageData is undefined");const r=t.createSVGElementFromStringCallback(null!==(n=t.imageData)&&void 0!==n?n:""),i=t.bounds;r.setAttribute("x",i.left.toString()),r.setAttribute("y",i.top.toString()),r.setAttribute("width",i.width().toString()),r.setAttribute("height",i.height().toString()),r.setAttribute("viewBox",`${t.bounds.left} ${t.bounds.top} ${t.bounds.width()} ${t.bounds.height()}`),r.setAttribute("preserveAspectRatio","none"),r.style.pointerEvents="all";for(const n of r.getElementsByTagName("*"))e.hitTestMap.setViewModel(n,t);e.svgRoot.appendChild(r)}class wl{constructor(e){this.modelToVersionUpdateMap=new Map,this.quillEditStatusUpdated=new t,this.modelToEditorMap=new Map,this.modelToContainerMap=new Map,this.quillEditStatusUpdated.on(e)}}const bl=[[a,Rc]],Pl=[h,Wi,function(t){t.registerForType(de,(t=>new pe(t)))},function(t){t.registerForType(Ii,(t=>new Ui(t)))}];function Cl(t){return new Oc(t)}class Al{constructor(t){this.hostContext=new Y(vt),this.performAction=t=>{},this.onEditStatusUpdated=()=>{},this.ensureQuillTextStyle("GC2ChartTextStyle"),this.parent=t.parent,this.graphicCollectionModel=new P(this.hostContext),this.textHost=new wl(this.onEditStatusUpdated),this.host=new ie(this.getHostConfig(this.parent)),this.registerRenderTarget(),this.host.presenterCreatorRegistry.register(o,K(new Q,this.host.presenterCreatorRegistry,this.host.anchorPresenterCreatorRegistry)),this.host.start(this.graphicCollectionModel,ae(new Ji(0,0,0,0)))}startEdit(t){}endEdit(t){}updateModel(t){try{this.chartTextRenderData=JSON.parse(t)}catch(t){return void u(0,`Failed to parse json object. ${t.message}`)}for(const t of this.chartTextRenderData)this.updateGraphicCollection(t)}getHitTestData(t,e,n){}isRenderTransparencySupported(){return!1}isRenderOverflowSupported(){return!1}setSelected(t){}updateGraphicCollection(t){const e=t.embeddedContent,n=this.getChartTextTransform(e.size,e.location),r=t.id,i=this.getTextContainer(r,t),o=e.data,s=new ah(this.hostContext,Qh(o).textBody),a=new _e(this.hostContext,4);a.fill=new Ki,a.line=new yt;const c=new Gi(this.hostContext,a,s);if(c.style=void 0,void 0!==i){i.className="gc2-chart-text";let t=this.graphicCollectionModel.getGraphic(r);void 0===t?(this.textHost.modelToContainerMap.set(s,i),t=new Nt(r,c,new se(n)),this.graphicCollectionModel.addGraphics([t])):qi(t.model)&&(t.model.text.textBody=Qh(o).textBody,t.anchor.transform=n,t.model.modelUpdated.emit()),function(t,e){fo(t,e).enable(!1)}(c.text,this.textHost)}}getChartTextTransform(t,e){const n=e.x+t.width,r=e.y+t.height,i=new Ji(e.x,e.y,n,r);return new Dt(new Bt(i.left,i.top),new _t(i.width(),i.height()),new It(!0),0)}getTextContainer(t,e){const n=this.parent.querySelector("#".concat(t));if(null!==n){const t=n.firstElementChild;if(null!==t)return t.firstElementChild;const r=new oh;r.x=e.embeddedContent.location.x,r.y=e.embeddedContent.location.y,r.width=e.embeddedContent.size.width,r.height=e.embeddedContent.size.height;const i=document.createElement("div");return r.appendChildElement(i),n.append(r.element),i}}registerRenderTarget(){const t=(new kc).register(_c,ml).register(Qc,(function(t,e){})),e=Xc("svg"),n=new Hc(e,t);this.host.renderTargetRegistry.register(_c,n).register(Qc,n),Wc(this.host.renderTargetRegistry)}getHostConfig(t){return{presenterCreatorEntries:[[Li,Tc(this.textHost,ki,Jc)]],anchorPresenterCreatorEntries:[le()],selectionCreatorRegistrars:Pl,keyboardEventNotifiers:Kc(Cl(t)),actionInvoker:{invoke:t=>{this.performAction(t)}},selectionPresenterCreatorEntries:bl,keyboardEventProcessor:xl,renderOnlyWhenDirty:Lt("RenderOnlyWhenDirty")}}ensureQuillTextStyle(t){if(null!==document.getElementById(t))return;const e=document.createElement("style");e.id=t,e.textContent=".gc2-chart-text .ql-editor{        padding:0px !important;      }",document.head.appendChild(e)}}const jl=new class{createHost(t){return new Al(t)}};class Tl{constructor(t){this.health=t}logVeto(t,e,n){n.extendedProperties.set("internalVetoName",t),this.health.recordQosError(e,["GraphicsExperienceDegraded"],!1,!1,!1,!1,n)}}class Sl{constructor(t){this.health=t}logKpiUsage(t,e,n,r){this.health.recordKpiUsage(t,e,r,n)}logKpiFailure(t,e,n,r,i){this.health.recordKpiFailure(t,e,n,r,i)}logKpiSuccess(t,e){this.health.recordKpiSuccess(t,e)}}let Rl={logKpiUsage(){},logKpiSuccess(){},logKpiFailure(){}};function El(t){Rl=t}function Ml(t,e=new Map,n="gc2kpi"){Rl.logKpiUsage(t,0,e,n)}class Ol{constructor(t){this.logger=t}logOperation(t){this.logger.logTrace(function(t){const e={name:t.name,durationMs:t.durationMs.toString()};return void 0!==t.props&&t.props.forEach(((t,n)=>{e[n]=t})),JSON.stringify(e)}(t))}logTrace(t){this.logger.logTrace(t.message)}}class kl{constructor(t,e){this.anchor=t,this.transform=e}perform(){const t=new kl(this.anchor,this.anchor.transform);return this.anchor.transform=this.transform,{undoOp:t}}}class Il{constructor(t,e,n=!1){this.croppable=t,this.crop=e,n&&(this.mergePolicy=new Xa)}perform(){const t=new Il(this.croppable,this.croppable.crop);return this.croppable.crop=this.crop,{undoOp:t}}}class Bl{constructor(t,e,n){this.rotInDegrees=e,this.corners=_l(Ll(t),e,n)}center(){const{x:t,y:e}=this.corners[0],{x:n,y:r}=this.corners[2];return new _((t+n)/2,(e+r)/2)}translate(t,e){return this.corners.forEach((n=>{n.add(new _(t,e))})),this}rotate(t,e){return this.corners.forEach((n=>{n.rotate(t,e)})),this.rotInDegrees+=t,this}scaleAbout(t,e,n){const r=this.rotInDegrees,i=new _(0,0);return this.translate(-n.x,-n.y).rotate(-r,i),this.corners.forEach((n=>{n.x*=t,n.y*=e})),this.rotate(r,i).translate(n.x,n.y),this}getUnrotatedRectAtPoint(t){const[e,n]=_l([this.corners[0],this.corners[2]],-this.rotInDegrees,t);return new Ji(e.x,e.y,n.x,n.y)}getUnRotatedAtCenterRect(){return this.getUnrotatedRectAtPoint(this.center())}getCorners(){return this.corners}contains(t){const e=new _(t.x,t.y),n=this.center();return e.rotate(-this.rotInDegrees,n),this.getUnRotatedAtCenterRect().contains(e)}}function _l(t,e,n){return t.map((t=>{const r=new _(t.x,t.y);return r.rotate(e,n),r}))}function Dl(t,e,n,r){const i=new Bl(t,e,n).getUnRotatedAtCenterRect();return new Dt(new Bt(i.left,i.top),new _t(i.width(),i.height()),new It(r.x,r.y),e)}function Fl(t){const e=Xi(t);return new Ji(t.flip.x?e.right:e.left,t.flip.y?e.bottom:e.top,t.flip.x?e.left:e.right,t.flip.y?e.top:e.bottom)}function Nl(t,e=!0){const n=e?Fl(t):Xi(t);return new Bl(n,t.rot,n.center())}function Ul(t,e){const n=new _(t.x-e.pos.x,t.y-e.pos.y);return n.rotate(-e.rot,new _(e.size.width/2,e.size.height/2)),n.x<=0||n.x>=e.size.width||n.y<=0||n.y>=e.size.height}function Ll(t){return[new _(t.left,t.top),new _(t.right,t.top),new _(t.right,t.bottom),new _(t.left,t.bottom)]}function ql(t){return t instanceof Bl?t.getCorners():Ll(t)}class zl{constructor(t,e,n,r){this.left=t,this.top=e,this.right=n,this.bottom=r}equals(t){return Vl(this.left,t.left)&&Vl(this.top,t.top)&&Vl(this.right,t.right)&&Vl(this.bottom,t.bottom)}getSrcRectTransformFromParent(t,e){const n=Xi(t),r=function(t,e,n){const[r,i]=[t.width(),t.height()],o=t.left+r*(n.x?e.right:e.left)/100,s=t.top+i*(n.y?e.bottom:e.top)/100,a=t.right-r*(n.x?e.left:e.right)/100,c=t.bottom-i*(n.y?e.top:e.bottom)/100;return new Ji(o,s,a,c)}(n,this,t.flip),i=Dl(r,t.rot,n.center(),t.flip);return void 0!==(null==e?void 0:e.rotation)&&(i.rot=e.rotation),i}getParentTransform(t,e){var n;const r=Xi(t),i=function(t,e,n){const r=100*t.width()/(100-e.left-e.right),i=100*t.height()/(100-e.top-e.bottom),o=t.left-r*(n.x?e.right:e.left)/100,s=t.top-i*(n.y?e.bottom:e.top)/100,a=t.right+r*(n.x?e.left:e.right)/100,c=t.bottom+i*(n.y?e.top:e.bottom)/100;return new Ji(o,s,a,c)}(r,this,t.flip),o=Dl(i,null!==(n=null==e?void 0:e.rotation)&&void 0!==n?n:t.rot,r.center(),t.flip);return void 0!==(null==e?void 0:e.rotation)&&(o.rot=e.rotation),o}isDefault(){return 0===this.left&&0===this.top&&0===this.right&&0===this.bottom}}function $l(t,e){return function(t,e){const[n,r]=[t.width(),t.height()],i=(e.left-t.left)/n,o=(e.top-t.top)/r,s=(t.right-e.right)/n,a=(t.bottom-e.bottom)/r;return new zl(100*i,100*o,100*s,100*a)}(Nl(t).getUnrotatedRectAtPoint(e.getCenter()),Fl(e))}function Hl(t,e,n){return void 0===e?t:e.getParentTransform(t,n)}function Vl(t,e){return Math.abs(t-e)<.01}const Wl="crop";class Gl{constructor(t,e,n,r){this.actionType=Wl,this.crop=t,this.transform=e,this.graphic=n,this.uncroppedRelativeRotation=r}}function Kl(t,e){var n,r;const{model:i,anchor:o}=null!==(n=t.graphic)&&void 0!==n?n:e.graphic;Ml("GC2Crop");const s=[];N(t.crop,i.crop)||s.push(new Il(i,t.crop));const a=o.transform;let c=t.transform;return void 0!==c&&c.equals(a)||(void 0===c&&(c=function(t,e,n){return void 0===e?t:e.getSrcRectTransformFromParent(t,n)}(Hl(a,i.crop,{rotation:(null!==(r=t.uncroppedRelativeRotation)&&void 0!==r?r:0)+a.rot}),t.crop,{rotation:a.rot})),s.push(new kl(o,c))),s}class Ql{constructor(t=!1){this.swapBlueRed=t}resolveColor(t){if(t.startsWith("T"))return function(t){const[e,n,r]=t.split(",").map((t=>parseInt(t,10))),i=0!==r;return 0===n?new fe(e):new fe(e,i?[new mh(n),new wh(100-n)]:[new mh(n)])}(t.slice(1));const e=function(t){return 6===t.length?it(`#${t}`):it(t)}(t);return this.swapBlueRed?function(t){return new tt(t.b,t.g,t.r,t.a)}(e):e}}class Yl{constructor(){this.cropEventNotifier=new t,this.keyboardEvent=new t,this.scenarioUpdated=new t,this.outCropping=!1,this.forceLockAspectRatio=!1,this._scenario=1,this._inCropMode=!1}get inCropMode(){return this._inCropMode}get scenario(){return this._scenario}set scenario(t){this._scenario!==t&&(this._scenario=t,this.scenarioUpdated.emit(t))}setInCropMode(t){const e=0===t;this._inCropMode!==e&&(this._inCropMode=e,this.cropEventNotifier.emit(t))}}class Jl{constructor(){this.stateUpdated=new t,this._mode=0}get mode(){return this._mode}start(t,e){this._mode=t,this.stateUpdated.emit(e)}stop(t){this._mode=0,this.stateUpdated.emit(t)}dispatchAction(t){this.stateUpdated.emit(t)}}class Xl{}class Zl{}class td{constructor(e){this.type=Zl,this.selectionUpdated=new t,this.cropState=new Yl,this.paintState=new Jl,this.graphic=e}teardown(){}save(){}restore(t){}clone(t){return new td(t)}}function ed(t){return t.type===Zl}function nd(t){t.registerForType(Xl,(t=>new td(t)))}class rd{teardown(){}setSelected(){}setHovered(){}}class id{constructor(t,e,n,r){this.type=4,this.offset=t,this.sizeDiff=e,this.flip=n,this.rotation=r}}function od(t,e){return new id(new Bt(e.pos.x-t.pos.x,e.pos.y-t.pos.y),new _t(e.size.width-t.size.width,e.size.height-t.size.height),new It(e.flip.x!==t.flip.x,e.flip.y!==t.flip.y),e.rot-t.rot)}const sd=new tt(255,255,255,1),ad=new tt(0,0,0,0);function cd(t,e){if(lt(t)){if(ut(t.color)){const n=e.clone();return n.transforms.push(...Z(t.color.transforms)),new ht(n)}}else if(ls(t)){if(function(t){for(const e of t.stops)if(ut(e.color))return!0;return!1}(t))return function(t,e){const n=t.stops.map((t=>{if(ut(t.color)){const n=e.clone();return n.transforms.push(...Z(t.color.transforms)),new cs(t.position,n)}return t}));return new hs(t.gradientType,n,t.fromRect,t.toRect,t.angle,t.rotateWithShape)}(t,e)}else if(ft(t))throw new Error("Resolve style fillprops before making a call to replace placeholder color.");return t}function hd(t,e,n){if(0===e.index)return n;const r=Math.min(e.index,t.length)-1;if(r<0)throw new Error(`StyleMatrixReference index ${e.index} is negative.`);return t[r]}const ld=new Ki;function dd(t,e,n){if(lt(t))return as(t.color,n);if(ft(t)){if(void 0===e||void 0===n)throw new Error("Style reference and theme info needed to resolve StyleFillProps.");return dd((r=e,cd(hd(n.theme.styles.fills,r,ld),r.color)),e,n)}var r}const ud=new yt(new Ki);function pd(t){return void 0===t?"none":rt(t)}function fd(t,e,n,r,i,o){const s=0===e||0===n,a=s?r:Math.atan2(e*Math.sin(r),n*Math.cos(r)),c=i<0?-1:1;let h=Math.abs(i);if(h>=A)h=A;else{let t=r+h*c;t=s?t:Math.atan2(e*Math.sin(t),n*Math.cos(t)),h=(t-a)*c,h<0&&(h+=A)}const l=t.x-Math.cos(a)*e,d=t.y-Math.sin(a)*n,u=Math.ceil(8*Math.abs(h)/A);for(let t=0;t<u;t+=1){const r=c*A/8,i=a+t*r,s=t===u-1?c*h-t*r:r,p=i+s,f=i+s/2,y=1/Math.cos(s/2),g=new _(l+Math.cos(f)*y*e,d+Math.sin(f)*y*n),x=new _(l+Math.cos(p)*e,d+Math.sin(p)*n);Math.abs(s)>0?o.quadraticBezierTo(g,x):o.lineTo(x)}}class yd{constructor(t){this.path="",this.transform=t}moveTo(t){const e=t.transform(this.transform);this.path+=`M${e.x},${e.y}`,this.last=t}lineTo(t){const e=t.transform(this.transform);this.path+=`L${e.x},${e.y}`,this.last=t}arcTo(t,e,n,r){fd(this.last,t,e,n,r,this)}quadraticBezierTo(t,e){const n=t.transform(this.transform),r=e.transform(this.transform);this.path+=`Q${n.x},${n.y},${r.x},${r.y}`,this.last=e}cubicBezierTo(t,e,n){const r=t.transform(this.transform),i=e.transform(this.transform),o=n.transform(this.transform);this.path+=`C${r.x},${r.y},${i.x},${i.y},${o.x},${o.y}`,this.last=n}close(){this.path+="Z"}}function gd(t,e){t.segments.forEach((t=>{switch(t.segmentType){case 0:e.moveTo(t.beginPoint);break;case 1:e.lineTo(t.endPoint);break;case 2:e.arcTo(t.xRadius,t.yRadius,t.startAngle,t.sweepAngle);break;case 4:e.cubicBezierTo(t.controlPoint1,t.controlPoint2,t.endPoint);break;case 3:e.quadraticBezierTo(t.controlPoint,t.endPoint);break;case 5:e.close();break;default:b(t)}}))}function xd(t,e,n){const r=Lc("path");return r.setAttribute("d",t),[r,e,!n]}function vd(t,e,n,r,i,o,s){var a;const c=function(t,e){const n=new _(e*function(t,e){switch(e){case 0:return 5===t?2.5:2;case 1:return 5===t?3.5:3;case 2:return 5;default:b(e)}}(t.type,t.width),e*function(t,e){switch(e){case 0:return 2;case 1:return 3;case 2:return 5===t?4.5:5;default:b(e)}}(t.type,t.length));switch(t.type){case 1:case 5:{const e=5===t.type,r=[{segmentType:0,beginPoint:new _(-n.x/2,-n.y)},{segmentType:1,endPoint:new _(0,0)},{segmentType:1,endPoint:new _(n.x/2,-n.y)}];return{fillMode:e?0:1,lineEnabled:e,segments:e?r:r.concat([{segmentType:5}])}}case 2:return{fillMode:1,lineEnabled:!1,segments:[{segmentType:0,beginPoint:new _(-n.x/2,-n.y)},{segmentType:1,endPoint:new _(0,0)},{segmentType:1,endPoint:new _(n.x/2,-n.y)},{segmentType:1,endPoint:new _(0,-n.y/2)},{segmentType:5}]};case 3:return{fillMode:1,lineEnabled:!1,segments:[{segmentType:0,beginPoint:new _(0,n.y/2)},{segmentType:1,endPoint:new _(n.x/2,0)},{segmentType:1,endPoint:new _(0,-n.y/2)},{segmentType:1,endPoint:new _(-n.x/2,0)},{segmentType:5}]};case 4:return{fillMode:1,lineEnabled:!1,segments:[{segmentType:0,beginPoint:new _(n.x/2,0)},{segmentType:2,xRadius:n.x/2,yRadius:n.y/2,startAngle:0,sweepAngle:A},{segmentType:5}]};default:throw Error("Unexpected line end type")}}(t,(a=e,Math.max(2,a))),h=function(t,e,n){const[r,i]=function(t,e,n){const r=function(t){const e=[];for(const n of t.segments)switch(n.segmentType){case 0:e.push(n.beginPoint);break;case 1:e.push(n.endPoint);break;case 2:fd(e[e.length-1],n.xRadius,n.yRadius,n.startAngle,n.sweepAngle,{lineTo(t){e.push(t)},quadraticBezierTo(t,n){e.push(t,n)}});break;case 4:e.push(n.controlPoint1,n.controlPoint2,n.endPoint);break;case 3:e.push(n.controlPoint,n.endPoint);break;case 5:e.push(e[0]);break;default:b(n)}return e}(t);let i,o;e?(o=r[r.length-2],i=r[r.length-1]):(i=r[0],o=r[1]),i=i.transform(n),o=o.transform(n);const s=new _(i.x-o.x,i.y-o.y);return s.normalize(),[i,s]}(t,e,n);return new ro(-i.y,i.x,i.x,i.y,r.x,r.y)}(i,r,o),l=new yd(h);gd(c,l);const d=xd(l.path,c.fillMode,c.lineEnabled);return void 0!==n&&0!==n.dashType&&d[0].setAttribute("stroke-dasharray","none"),5===t.type&&d[0].setAttribute("stroke-linecap","round"),function(t){switch(t){case 3:case 4:case 2:case 1:return!0;case 0:case 5:return!1;default:b(t)}}(t.type)&&d[0].setAttribute("fill",s),d}class md{}class wd{constructor(){this.type=md,this.pointerEventNotifiers=z(),this.update=new t,this.hitTestSlop=0,this.group=Lc("g"),this.paths=[]}setGeometry(t,e){this.geometry=t,this.geometryTransform=io(-t.size.width/2,-t.size.height/2).scale(e.size.width/t.size.width*(e.flip.x?-1:1),e.size.height/t.size.height*(e.flip.y?-1:1)).rotate(I(e.rot)),this.paths=function(t,e){const n=[],r=new yd(e);let i=0,o=!0;return t.paths.forEach((t=>{(""!==r.path&&i!==t.fillMode||!o)&&(n.push(xd(r.path,i,o)),r.path=""),gd(t,r),i=t.fillMode,o=t.lineEnabled})),n.push(xd(r.path,i,o)),n}(t,this.geometryTransform),this.setCenter(e.getCenter())}setProps(t,e,n,r,i,o,s,a){var c,h;(null==a?void 0:a.isInHighContrastMode)?this.fillColor=function(t){return void 0!==t.highContrastColors?it(t.highContrastColors.backgroundColor):ad}(a):this.fillColor=void 0!==t?dd(t,null==n?void 0:n.fillRef,r):void 0,this.effects=i,this.pictureEffects=o,this.group.setAttribute("fill",pd(this.fillColor));const l=function(t,e){if(!(null==e?void 0:e.isInHighContrastMode))return t;const n=new ht(function(t){return void 0!==t.highContrastColors?it(t.highContrastColors.foregroundTextColor):sd}(e));if(void 0!==t){const e=t.clone();return e.fill=n,e}return new yt(n)}(e,a);if(void 0!==l){const t=function(t,e,n){if(void 0!==n&&void 0!==e&&void 0!==e.lineRef){const r=t.clone();return r.resolveFrom(function(t,e){var n;const r=hd(t.lines,e,ud),i=r.clone();return i.fill=cd(null!==(n=r.fill)&&void 0!==n?n:new Ki,e.color),i}(n.theme.styles,e.lineRef)),r}return t}(l,n,r),e=null!==(c=t.weight)&&void 0!==c?c:1,i=pd(dd(null!==(h=t.fill)&&void 0!==h?h:new Ki,void 0,r));this.group.setAttribute("stroke",i),this.group.setAttribute("stroke-width",`${e}pt`),void 0!==t.dash&&0!==t.dash.dashType?this.group.setAttribute("stroke-dasharray",(d=t.dash.dashType,u=ds(e),function(t){switch(t){case 1:return[1,3];case 2:return[4,3];case 4:return[4,3,1,3];case 3:return[8,3];case 5:return[8,3,1,3];case 6:return[8,3,1,3,1,3];case 7:return[3,1];case 8:return[1,1];case 9:return[3,1,1,1];case 10:return[3,1,1,1,1,1];case 0:return[];default:b(t)}}(d).map((t=>t*u)).join(" "))):this.group.removeAttribute("stroke-dasharray"),void 0!==t.join&&0!==t.join.joinType?this.group.setAttribute("stroke-linejoin",function(t){switch(t){case 1:return"bevel";case 0:return"miter";case 2:return"round";default:b(t)}}(t.join.joinType)):(this.group.removeAttribute("stroke-linejoin"),this.group.setAttribute("stroke-miterlimit","8"));const o=t.headEnd;void 0!==o&&0!==o.type&&this.geometry.paths.forEach((n=>{0===n.fillMode&&n.lineEnabled&&this.paths.push(vd(o,e,t.dash,!1,n,this.geometryTransform,i))}));const s=t.tailEnd;void 0!==s&&0!==s.type&&this.geometry.paths.forEach((n=>{0===n.fillMode&&n.lineEnabled&&this.paths.push(vd(s,e,t.dash,!0,n,this.geometryTransform,i))}))}else this.group.setAttribute("stroke","none");var d,u}setCenter(t){this.group.setAttribute("transform",`translate(${t.x} ${t.y})`)}teardown(){}}function bd(){return new wd}class Pd{}class Cd extends Bc{constructor(t,e,n,r,i,o){super(),this.type=Pd,this.geometryVM=r,this.placeholderContainer=o,this.nonCropGeometry=e,this.update(t,n,i).then((()=>{})).catch((()=>{}))}async update(t,e,n){void 0!==n&&(this.geometry=t,this.geometryVM.setGeometry(n.cropToGeometry?t:this.nonCropGeometry,e),this.transform!==e&&(this.transform=e.clone()),await this.updatePlaceholder(n))}teardown(){var t;this.geometryVM.teardown(),null===(t=this.placeholderContainer)||void 0===t||t.teardown()}async updatePlaceholder(t){N(t,this.placeholder)||(this.placeholder=t,await this.updateImageData())}async updateImageData(){if(void 0!==this.placeholder&&this.imageData!==this.placeholder.url.href)return await this.setImageData(this.placeholder.url.href),void this.imageViewModelUpdated.emit([0],!1)}}const Ad=function(t){if(void 0!==window.FinalizationRegistry)return new window.FinalizationRegistry((t=>{m(0,`Failed to teardown TeardownTracker ${t}`)}))}();class jd{constructor(t){this._tornDown=!1,this.inFinalizationRegistry=!1,this.handlers=[],this.name=t}get tornDown(){return this._tornDown}onTeardown(t){this.handlers.push(t)}teardown(){this._tornDown;for(let t=this.handlers.length-1;t>=0;t-=1)this.handlers[t]();this.inFinalizationRegistry&&void 0!==Ad&&(Ad.unregister(this),this.inFinalizationRegistry=!1),this._tornDown=!0}}class Td{constructor(){this.map=new Map}set(t,e){const n=this.map.get(t);return void 0===n?this.map.set(t,{value:e,refCount:1}):this.map.set(t,{value:e,refCount:n.refCount+1}),this}get(t,e=!1){const n=this.map.get(t);return void 0!==n&&e&&(n.refCount+=1),null==n?void 0:n.value}has(t){return this.map.has(t)}delete(t){const e=this.map.get(t);if(void 0!==e)return e.refCount-=1,0===e.refCount?(this.map.delete(t),e.value):void 0}size(){return this.map.size}isEmpty(){return 0===this.map.size}getRefCount(t){const e=this.map.get(t);return null==e?void 0:e.refCount}}class Sd{constructor(){this.totalCount=0,this.countDownloadNotStarted=0,this.countDownloadInProgress=0,this.countDownloadSucceeded=0,this.countDownloadFailed=0}}class Rd{constructor(t,e,n,r){this.url=t,this.blobType=e,this.blob=n,this.stats=r}teardown(){URL.revokeObjectURL(this.url.href)}}class Ed{constructor(){this.onDataStoreChange=new t,this.urlStore=new Td,this.dataStore=new Map}get size(){return this.dataStore.size}get stats(){return this.makeStats()}static getInstance(){return void 0===Ed.instance&&(Ed.instance=new Ed),Ed.instance}add(t){var e;const n=t.downloadDetails.id,r=null===(e=this.dataStore.get(n))||void 0===e?void 0:e.downloader;return void 0===r?(this.enforceSizeContraintForEntriesToAdd(1),this.dataStore.set(n,{lastAccessed:performance.now(),downloader:t}),this.onDataStoreChange.emit(this.stats),t):(r.downloadDetails.originalUrl.href!==t.downloadDetails.originalUrl.href&&m(0,`DataStore: Found conflicting entry with id - ${n}`),this.onDataStoreChange.emit(this.stats),t)}get(t){const e=this.dataStore.get(t);return void 0!==e&&(e.lastAccessed=performance.now()),null==e?void 0:e.downloader}getDownloadDetails(t){var e;const n=null===(e=this.dataStore.get(t))||void 0===e?void 0:e.downloader;return null==n?void 0:n.downloadDetails}clearEntry(t){var e;const n=null===(e=this.dataStore.get(t))||void 0===e?void 0:e.downloader;void 0!==n&&(n.teardown(),this.dataStore.delete(t)),this.onDataStoreChange.emit(this.stats)}clear(){const t=this.dataStore;this.dataStore=new Map;for(const[e,n]of t)n.downloader.teardown();t.clear(),this.onDataStoreChange.emit(this.stats)}setConfigAndEnforce(t){this.config=t,this.enforceSizeContraintForEntriesToAdd(0)}makeStats(){const t=new Sd;t.totalCount=this.dataStore.size;for(const[e,n]of this.dataStore){const e=n.downloader.downloadDetails.stats;if(void 0===e)t.countDownloadNotStarted+=1;else switch(e.downloadState){case 0:t.countDownloadNotStarted+=1;break;case 1:t.countDownloadInProgress+=1;break;case 2:t.countDownloadSucceeded+=1;break;case 3:t.countDownloadFailed+=1;break;default:b(e.downloadState)}}return t}enforceSizeContraintForEntriesToAdd(t){var e;if(void 0===(null===(e=this.config)||void 0===e?void 0:e.sizeConstraint))return;const n=this.dataStore.size+t-this.config.sizeConstraint.maxLimit;n>0&&this.config.sizeConstraint.evict(n,Array.from(this.dataStore.entries())).forEach((t=>{this.clearEntry(t)}))}}function Md(t){return function(t){return"image/gif"===(null==t?void 0:t.toLowerCase())}(t)||function(t){return"image/apng"===(null==t?void 0:t.toLowerCase())}(t)}function Od(t){return"image/svg+xml"===(null==t?void 0:t.toLowerCase())}function kd(t){let e="";if("data:"===t.protocol){const n=/.*:(.*);.*/,r=t.href.substring(0,50).match(n);null!==r&&r.length>=2&&(e=r[1])}else e=t.pathname.substring(t.pathname.lastIndexOf(".")+1);return Id(e)}function Id(t){switch(null==t?void 0:t.toLowerCase()){case"image/bmp":case"bmp":return"image/bmp";case"image/gif":case"gif":return"image/gif";case"image/jpeg":case"image/jpg":case"jpeg":case"jpg":return"image/jpeg";case"image/png":case"png":return"image/png";case"image/apng":case"apng":return"image/apng";case"image/svg+xml":case"svg":return"image/svg+xml";case"image/tiff":case"tiff":return"image/tiff";default:return void f(0,`Unknown extension or mimeType ${t}`)}}const Bd="MissingACTL";function _d(t){return`### REDACTED ### - Reason: [${t}]`}function Dd(t,e=-1){const n=t.toLowerCase();return n.indexOf("<!doctype")>0?_d("Seems to contain HTML - Contains <!DOCTYPE"):n.indexOf("<html")>0?_d("Seems to contain HTML - Contains <html>"):e>=0&&n.length>e?_d(`Error details content exceeded max length of ${e}: Length: ${n.length}`):t}Error;async function Fd(t){return new Promise((e=>window.setTimeout(e,t)))}class Nd{constructor(t,e,n,r,i){this.fetchTimeInMs=0,this.convertToBlobUrlTimeInMs=0,this.totalTimeInMs=0,this.sizeInBytes=0,this.mimeType="",this.fetchTimeInMs=t,this.convertToBlobUrlTimeInMs=e,this.totalTimeInMs=n,this.sizeInBytes=r,this.mimeType=i}}async function Ud(t,e,n){if(!0===n&&"data:"===t.protocol){const e=kd(t);return Promise.resolve(new Rd(t,e,new Blob([t.href],{type:e})))}let r=null==e?void 0:e.get(t.href,!0);return void 0!==r||(r=async function(t){const e={},n=void 0;if(void 0!==n){const r=await n.getAdditionalRequestHeaders(t);void 0!==r&&(e.headers=r)}const r=performance.now();let i;try{i=Lt("FetchWithRetryForConvertUrlToBlobUrl")?await async function(t,e,n,r,i,o){let s,a;for(let e=0;e<=2;e+=1){try{if(a=await fetch(t,i),a.ok)return a;s=a}catch(t){s=t}await Fd(1e3*2**e)}if(s instanceof Response)throw new Error(`fetchWithRetryOnResponseCheck: Response status [${s.status}]`);throw s}(t.href,0,0,0,e):await fetch(t.href,e)}catch(e){m(0,`convertUrlToBlobUrl: ${function(t,e){const n=Dd(`${e}`);return`Network error. Protocol [${t.protocol}] | Error [${n}]`}(t,e)}`)}const o=performance.now();i.ok||m(0,`convertUrlToBlobUrl : ${await async function(t,e){return`Response not OK. Protocol [${t.protocol}] | Response status [${e.status}] | ResponseText [${Dd(await e.text())}]`}(t,i)}`);const s=await i.blob(),a=s.type,c=new URL(URL.createObjectURL(s)),h=performance.now();return new Rd(c,a,s,new Nd(o-r,h-o,h-r,s.size,a))}(t),null==e||e.set(t.href,r)),r}class Ld{constructor(){this.downloadState=0,this.totalTimeInMs=0}}class qd{constructor(e,n,r,i,o,s,a,c,h,l){this.stateUpdated=new t,this._state=1,this._stats=new Ld,this.id=e,this.originalUrl=n,this.downloadPlaceholder=r,this.pictureProvider=o,this.isUrlFinal=i,this._downloadCompleted=s,this._framesProviders=a,this.storeDownloadCompletedBlobText=null!=c?c:t=>!1,this._urlStore=h,this._options=l}get originalBlobUrl(){return this._originalBlobUrl}get providerDownloadedUrl(){return this._providerDownloadedUrl}get providerDownloadedBlobUrl(){return this._providerDownloadedBlobUrl}get isRenderUrlPlaceHolder(){return void 0!==this.placeholder}get state(){return this._state}set state(t){this.setStateAndNotify(t,!0)}get downloadDetails(){return this}get renderUrl(){switch(this._state){case 1:case 2:if(this.isUrlFinal&&void 0===this.downloadPlaceholder)return;return this.getPlaceholderUrlOrDefault();case 4:case 6:return this.getPlaceholderUrlOrDefault();case 3:return this.isUrlFinal?(void 0===this.originalBlobUrl&&w("Picture","OriginalBlobUrlUndefined","renderUrl: originalBlobUrl not expected to be undefined for DownloadedOriginal state"),this.originalBlobUrl):this.getPlaceholderUrlOrDefault();case 5:return void 0===this.providerDownloadedBlobUrl&&w("Picture","ProviderDownloadedBlobUrlUndefined","renderUrl: providerDownloadedBlobUrl not expected to be undefined for DownloadedFromProvider state"),this.providerDownloadedBlobUrl;case 7:return;default:w("Picture","PictureDataStateInvalid",`renderUrl: Unhandled PictureDataState ${this._state}`)}}get stats(){return this._stats}get mimeType(){return this._mimeType}get downloadDone(){return 6===this.state||(this.isUrlFinal?3===this.state:5===this.state)}get downloadCompletedBlobText(){return this._downloadCompletedBlobText}get placeholder(){let t=0;switch(this._state){case 1:case 2:if(this.isUrlFinal&&void 0===this.downloadPlaceholder)return;break;case 3:if(this.isUrlFinal)return;break;case 4:break;case 5:case 7:return;case 6:t=1;break;default:w("Picture","PictureDataStateInvalid",`placeholder: Unhandled PictureDataState ${this._state}`)}return 0===t&&void 0!==this.downloadPlaceholder?this.downloadPlaceholder:this.pictureProvider.getPlaceholderIcon(t)}async triggerDownload(){await this.triggerOriginalDownload(),await this.triggerDownloadFromProvider()}teardown(){var t,e;void 0!==this._originalBlobUrl&&this._originalBlobUrl!==this.originalUrl&&(void 0===this._urlStore?URL.revokeObjectURL(this._originalBlobUrl.href):null===(t=this._urlStore.delete(this.originalUrl.href))||void 0===t||t.then((t=>{t.teardown()})).catch((()=>{}))),void 0!==this._providerDownloadedUrl&&void 0!==this._providerDownloadedBlobUrl&&this._providerDownloadedBlobUrl!==this._providerDownloadedUrl&&(void 0===this._urlStore?URL.revokeObjectURL(this._providerDownloadedBlobUrl.href):null===(e=this._urlStore.delete(this._providerDownloadedUrl.href))||void 0===e||e.then((t=>{t.teardown()})).catch((()=>{}))),this._originalBlobUrl=void 0,this._providerDownloadedBlobUrl=void 0,this._providerDownloadedUrl=void 0,this._start=void 0,this._stats=new Ld,this._downloadCompleted=void 0,this.frames=void 0,this.setStateAndNotify(7,!0)}async triggerOriginalDownload(){var t,e,n,r;if(void 0!==this._originalBlobUrl)return;this.state=2;const i=[];let o;try{this._stats.downloadState=1,this._start=performance.now();const r=await Ud(this.originalUrl,this._urlStore,null===(t=this._options)||void 0===t?void 0:t.preferDataUrl);this._originalBlobUrl=r.url,this._stats.originalUrlStats=r.stats,o=r.blobType,i.push("ConvertUrlToBlobUrl"),await this.setMimeType(r.blob,void 0!==(null===(e=this._framesProviders)||void 0===e?void 0:e.get("image/apng"))),i.push("SetMimeType");const s=Id(this._mimeType);void 0!==s&&(this._framesProvider=null===(n=this._framesProviders)||void 0===n?void 0:n.get(s)),Md(this._mimeType)&&void 0!==this._framesProvider&&(this.frames=this._framesProvider.getFrames(this._originalBlobUrl.href),i.push("GetFrames")),void 0!==r.blobType&&this.storeDownloadCompletedBlobText(r.blobType)&&this.isUrlFinal&&void 0!==r.blob&&(this._downloadCompletedBlobText=await r.blob.text(),i.push("SetBlobText")),this._stats.totalTimeInMs=performance.now()-this._start,this.isUrlFinal&&(this._stats.downloadState=2),this.state=3,i.push("SetStateDownloadedOriginal")}catch(t){const e=new y;e.extendedProperties.set("message",`Failed to download original url. Protocol[${this.originalUrl.protocol}] Error[${t}}] BlobType[${o}] MimeType[${this._mimeType}] Stages[${i.join("|")}]`),v("Picture","DownloadOriginalUrlFailed",e),this._stats.downloadState=3,this.setStateAndNotify(6,this.isUrlFinal)}this.isUrlFinal&&(null===(r=this._downloadCompleted)||void 0===r||r.emit(this._stats))}async setMimeType(t,e=!1){void 0!==t&&(this._mimeType=t.type,e&&"image/png"===t.type.toLowerCase()&&function(t){let e;try{let n=!1,r=!0,i=-1,o=0,s=0,a="";const c=new DataView(t),h=new TextDecoder("ascii");let l=8,d=!1;for(;void 0===e&&!d&&l<c.byteLength;){const u=c.getUint32(l),p=h.decode(new DataView(t,l+4,4));switch(p){case"acTL":if(n){e="MultipleACTL";break}n=!0,o=c.getUint32(l+8);break;case"fcTL":{if(!n||!r){e="FCTLSeenBeforeDataForPreviousFCTL";break}const t=c.getUint32(l+8);if(t!==i+1){e="FCTLSequenceInvalid";break}i=t,r=!1,s+=1;break}case"IDAT":if(!n){e="iDATSeenBeforeACTL";break}if("IDAT"!==a&&r){e="InvalidIDAT";break}r=!0;break;case"fdAT":{if(!n){e="FDATSeenBeforeACTL";break}if("fdAT"!==a&&r){e="InvalidFDAT";break}const t=c.getUint32(l+8);if(t!==i+1){e="InvalidFDATSequence";break}i=t,r=!0;break}case"IEND":d=!0}a=p,l+=8+u+4}n?o<=1?e="NumFramesNotMoreThanOne":o!==s&&(e="NumFramesNotEqualToFCTLCount"):e=Bd}catch(t){e=`Exception. ${t}`}return void 0!==e&&e!==Bd&&f(0,`Not apng. Reason: ${e}`),void 0===e}(await t.arrayBuffer())&&(this._mimeType="image/apng"))}async triggerDownloadFromProvider(){var t,e,n,r;if(this.isUrlFinal)return;if(void 0!==this._providerDownloadedUrl||void 0!==this._providerDownloadedBlobUrl)return;if(!this.pictureProvider.isHostPictureMetadata(this.id))return;const i=[];let o;try{this.state=4;const r=performance.now(),s=new URL(await this.pictureProvider.getPictureBlobDataFromHostPictureMetadata(this.id));i.push("GetPictureBlobDataFromHost"),this._providerDownloadedUrl=s,void 0===this._start&&(this._start=performance.now()),this._stats.getPictureDataFromHostTimeInMs=performance.now()-r;const a=await Ud(s,this._urlStore,null===(t=this._options)||void 0===t?void 0:t.preferDataUrl);this._providerDownloadedBlobUrl=a.url,this._stats.delayDownloadedUrlStats=a.stats,o=a.blobType,i.push("ConvertUrlToBlobUrl"),await this.setMimeType(a.blob,void 0!==(null===(e=this._framesProviders)||void 0===e?void 0:e.get("image/apng"))),i.push("SetMimeType");const c=Id(this._mimeType);void 0!==c&&(this._framesProvider=null===(n=this._framesProviders)||void 0===n?void 0:n.get(c)),Md(this._mimeType)&&void 0!==this._framesProvider&&(this.frames=this._framesProvider.getFrames(this._providerDownloadedBlobUrl.href),i.push("GetFrames")),void 0!==a.blobType&&this.storeDownloadCompletedBlobText(a.blobType)&&void 0!==a.blob&&(this._downloadCompletedBlobText=await a.blob.text(),i.push("SetBlobText")),this._stats.downloadState=2,this._stats.totalTimeInMs=performance.now()-this._start,this.state=5,i.push("SetStateDownloadedFromProvider")}catch(t){const e=new y;e.extendedProperties.set("message",`Failed to download picture from host. Protocol[${this.originalUrl.protocol}] Error[${t}] BlobType[${o}] MimeType[${this._mimeType}] Stages[${i.join("|")}]`),v("Picture","DownloadPictureFromHostFailed",e),this._stats.downloadState=3,this.state=6}null===(r=this._downloadCompleted)||void 0===r||r.emit(this._stats)}getPlaceholderUrlOrDefault(){var t,e,n;return null!==(n=null!==(e=null===(t=this.placeholder)||void 0===t?void 0:t.url)&&void 0!==e?e:this.originalBlobUrl)&&void 0!==n?n:this.originalUrl}setStateAndNotify(t,e){var n;this.state!==t&&(0,n=`setState: [${this.id}] State change ${this.state} -> ${t} | notify ${e}`,l.logTrace({level:3,id:0,message:n}),this._state=t,e&&this.stateUpdated.emit(this.state))}}class zd{}class $d extends Bc{constructor(t,e,n,r,i,o,s,a){super(),this.type=zd,this.teardownTracker=new jd("PictureViewModel"),this.onPictureDataStateUpdated=async t=>{var e;if(7===t)return await this.setPictureData(null===(e=this.model)||void 0===e?void 0:e.data),void this.imageViewModelUpdated.emit([0],!1);await this.setImageDataAndPopulateFramesIfNeeded()},this.framesProviders=s,this.pictureDataStore=Ed.getInstance(),this.geometryVM=o(),this.placeholderVM=new Cd(t,e,n,o(),i.placeholder,a),this.teardownTracker.onTeardown((()=>{this.placeholderVM.teardown()})),this.fallbackRenderData=i.fallbackRenderData,this.update(t,n,i,r).then((()=>{})).catch((()=>{}))}get mimeType(){var t;return null===(t=this.data)||void 0===t?void 0:t.mimeType}get downloadedBlobText(){var t,e,n;return null===(n=this.pictureDataStore.getDownloadDetails(null!==(e=null===(t=this.data)||void 0===t?void 0:t.id)&&void 0!==e?e:""))||void 0===n?void 0:n.downloadCompletedBlobText}get rotation(){return this._rotation}get rotationPoint(){return this._rotationPoint}async update(t,e,n,r,i,o){this.geometry=t,this.model=n,this.geometryVM.setGeometry(t,e),this.geometryVM.setProps(n.fill,n.line,void 0,n.hostContext.themeInfo,n.effects,n.pictureEffects,2),this.transform.equals(e)||(this.transform=e.clone()),this.opacity=n.opacity,this.fallbackRenderData=n.fallbackRenderData,this.ariaLabel=i,this.accessibleNode=o,this.setCrop(r,e,n.rotation),this.cachedImageData=this.imageData,await this.updatePictureData(n),await this.updatePlaceholder(n.placeholder)}async updateTransform(t,e,n,r){this.geometry=t,this.geometryVM.setGeometry(t,e),this.transform.equals(e)||(this.transform=e.clone()),this.setCrop(r,e,this.rotation),await this.updatePlaceholder(n)}setCrop(t,e,n){const{scale:r,offset:i,rotationPoint:o}=function(t,e,n){if(void 0===e)return{scale:new _(1,1),offset:new _(0,0),rotationPoint:new _(.5,.5)};const{width:r,height:i}=Hl(t,e,{rotation:t.rot+(null!=n?n:0)}).size,o=new _(r/t.size.width,i/t.size.height),s=e.left/100,a=e.top/100;return{scale:o,offset:new _(s*r,a*i),rotationPoint:new _(.5/o.x+s,.5/o.y+a)}}(e,t,n);this.scaleVector=r,this.topLeftOffset=i,this._rotation=null!=n?n:0,this._rotationPoint=o}isPlaceHolder(){var t,e,n;if(void 0!==this.placeholder)return!0;const r=null===(n=this.pictureDataStore.getDownloadDetails(null!==(e=null===(t=this.data)||void 0===t?void 0:t.id)&&void 0!==e?e:""))||void 0===n?void 0:n.isRenderUrlPlaceHolder;return void 0!==r&&r}getPlaceHolder(){var t,e,n;return void 0!==this.placeholder?this.placeholder:null===(n=this.pictureDataStore.get(null!==(e=null===(t=this.data)||void 0===t?void 0:t.id)&&void 0!==e?e:""))||void 0===n?void 0:n.downloadDetails.placeholder}async replacePictureData(t){var e;t.id!==(null===(e=this.data)||void 0===e?void 0:e.id)&&(this.data=t,await this.setPictureData(t))}async resetPictureData(){if(void 0!==this.model){const t=this.model;await this.updatePictureData(t)}}teardown(){this.geometryVM.teardown(),this.teardownTracker.teardown()}async updatePictureData(t){var e;(null===(e=this.data)||void 0===e?void 0:e.id)!==t.data.id&&(this.data=t.data,await this.setPictureData(t.data))}async updatePlaceholder(t){N(t,this.placeholder)||(this.placeholder=t,await this.setImageDataAndPopulateFramesIfNeeded()),await this.placeholderVM.update(this.geometry,this.transform,this.placeholder)}async populateFrames(t){Md(this.mimeType)&&void 0!==this.framesProviders&&(void 0===t.frames&&w("Picture","AnimatedFrames","Frames not expected to be undefined"),await t.frames.populate(),this.frames=t.frames)}async setPictureData(t){var e,n;let r=this.pictureDataStore.get(null!==(n=null===(e=this.data)||void 0===e?void 0:e.id)&&void 0!==n?n:"");if(void 0!==r&&7!==r.downloadDetails.state)return await this.setImageDataAndPopulateFramesIfNeeded(),void this.teardownTracker.onTeardown(r.stateUpdated.use(this.onPictureDataStateUpdated));var i,o,s,a,c,h,l,d,u,p;7===(null==r?void 0:r.downloadDetails.state)&&r.stateUpdated.off(this.onPictureDataStateUpdated),i=t.id,o=t.originalUrl,s=t.downloadPlaceholder,a=t.isUrlFinal,c=t.pictureProvider,h=t.downloadCompleted,l=this.framesProviders,d=Od,u=Lt("UseUrlStore")?this.pictureDataStore.urlStore:void 0,p=t.options,r=new qd(i,o,s,a,c,h,l,d,u,p),this.teardownTracker.onTeardown(r.stateUpdated.use(this.onPictureDataStateUpdated)),this.pictureDataStore.add(r),await r.triggerDownload()}async setImageDataAndPopulateFramesIfNeeded(){var t,e;const n=this.getPlaceHolder();if(void 0!==n){if(n.overlay||n.renderAsSvg)return await this.placeholderVM.update(this.geometry,this.transform,n),void this.imageViewModelUpdated.emit([0],!1);if(this.imageData!==n.url.href)return await this.setImageData(n.url.href),void this.imageViewModelUpdated.emit([0],!1)}const r=this.pictureDataStore.getDownloadDetails(null!==(e=null===(t=this.data)||void 0===t?void 0:t.id)&&void 0!==e?e:""),i=null==r?void 0:r.renderUrl;void 0!==r&&void 0!==i&&i.href!==this.imageData&&(await this.setImageData(i.href),void 0===this.data&&w("Picture","PictureDataUndefined","Picture data not expected to be undefined"),this.data.mimeType=r.mimeType,r.downloadDone&&6!==r.state&&await this.populateFrames(r),this.imageViewModelUpdated.emit([0],null==r?void 0:r.downloadDone))}}class Hd{constructor(e,n,r,i,o,s=(()=>new rd),a,c){var h,l;this.viewModelUpdated=new t,this.onModelUpdated=async()=>{let t=this.context.anchorPresenter.transform;const e=this.context.viewScale;e.viewTransform.size.equals(new _t(0,0))||(t=e.viewTransform.clone(),t.size.width*=e.zoomFactor,t.size.height*=e.zoomFactor),await this.updateViewModel(t)},this.onAnchorTransformUpdated=async()=>{let t=this.context.anchorPresenter.transform;const e=this.context.viewScale;e.viewTransform.size.equals(new _t(0,0))||(t=e.viewTransform.clone(),t.size.width*=e.zoomFactor,t.size.height*=e.zoomFactor),Yi(t,this.pictureViewModel.transform)?(this.pictureViewModel.transform=t.clone(),this.pictureViewModel.geometryVM.setCenter(t.getCenter()),this.pictureViewModel.placeholderVM.geometryVM.setCenter(t.getCenter()),this.pictureViewModel.cachedImageData=this.pictureViewModel.imageData,this.viewModelUpdated.emit()):Lt("PicturePresenterUseUpdateTransform")?(await this.pictureViewModel.updateTransform(this.getGeometry(),t,this.pictureModel.placeholder,this.pictureModel.crop),this.viewModelUpdated.emit()):await this.updateViewModel(t)},this.onImageViewModelUpdated=(t,e)=>{this.viewModelUpdated.emit(),t.includes(0)&&(!0===e?this.context.viewReadyTracker.removePending(this):this.context.viewReadyTracker.addPending(this)),void 0!==this.pictureViewModel.frames&&void 0===this.animatedPicturePlayControl&&(this.animatedPicturePlayControl=this.animatedPlayControlCreator(this.pictureViewModel.frames,this.context),this.pictureViewModel.pointerEventNotifiers.pointerover.value.on(this.onPointerOver),this.pictureViewModel.pointerEventNotifiers.pointerout.value.on(this.onPointerOut))},this.onPointerOver=()=>{void 0!==this.animatedPicturePlayControl&&this.animatedPicturePlayControl.setHovered(!0)},this.onPointerOut=()=>{void 0!==this.animatedPicturePlayControl&&this.animatedPicturePlayControl.setHovered(!1)},this.graphic=e,this.pictureModel=e.model,this.context=n,this.geometryRegistry=r,this.framesProviders=o,this.context.viewReadyTracker.addPending(this),this.animatedPlayControlCreator=s;const d=this.context.anchorPresenter.transform;this.pictureViewModel=new $d(this.getGeometry(),ao(li,this.context.anchorPresenter.transform),d,this.pictureModel.crop,this.pictureModel,i,this.framesProviders,void 0!==a?a():void 0),this.pictureViewModel.accessibleNode=null===(h=this.context.accessibleNodeCreator)||void 0===h?void 0:h.createAccessibleNode(this.graphic),this.pictureViewModel.source={graphic:e},this.pictureViewModel.hitTransparentFill=null===(l=null==c?void 0:c(this.pictureModel))||void 0===l||l,this.pictureViewModel.imageViewModelUpdated.on(this.onImageViewModelUpdated),this.pictureModel.modelUpdated.on(this.onModelUpdated),this.context.anchorPresenter.transformUpdated.on(this.onAnchorTransformUpdated),this.context.viewScale.viewTransformChanged.on(this.onAnchorTransformUpdated),this.context.viewScale.combinedScaleChanged.on(this.onAnchorTransformUpdated)}get viewModel(){return this.pictureViewModel}teardown(){this.context.anchorPresenter.transformUpdated.off(this.onAnchorTransformUpdated),this.pictureModel.modelUpdated.off(this.onModelUpdated),this.pictureViewModel.imageViewModelUpdated.off(this.onImageViewModelUpdated),this.pictureViewModel.teardown(),void 0!==this.animatedPicturePlayControl&&(this.pictureViewModel.pointerEventNotifiers.pointerover.value.off(this.onPointerOver),this.pictureViewModel.pointerEventNotifiers.pointerout.value.off(this.onPointerOut),this.animatedPicturePlayControl.teardown()),this.context.viewScale.viewTransformChanged.off(this.onAnchorTransformUpdated),this.context.viewScale.combinedScaleChanged.off(this.onAnchorTransformUpdated)}setCrop(t){this.pictureViewModel.setCrop(t,this.context.anchorPresenter.transform,this.pictureModel.rotation),this.viewModelUpdated.emit()}setInCropMode(t){this.pictureViewModel.inCropMode!==t&&(this.pictureViewModel.inCropMode=t,this.viewModelUpdated.emit())}setSelected(t){void 0!==this.animatedPicturePlayControl&&this.animatedPicturePlayControl.setSelected(t)}setOverflowTransparency(t){this.pictureViewModel.overflowTransparency=t}async setPicturePreview(t,e){if(await this.pictureViewModel.replacePictureData(t),void 0!==e&&!this.context.anchorPresenter.transform.equals(e)){const t=od(this.context.anchorPresenter.transform,e);this.context.anchorPresenter.applyTransform(t)}}async resetPicturePreview(){await this.pictureViewModel.resetPictureData()}async updateViewModel(t){var e;await this.pictureViewModel.update(this.getGeometry(),t,this.pictureModel,this.pictureModel.crop,this.context.ariaLabelCreator.createAriaLabel(this.graphic),null===(e=this.context.accessibleNodeCreator)||void 0===e?void 0:e.createAccessibleNode(this.graphic)),this.viewModelUpdated.emit()}getGeometry(){var t;return ao(void 0!==this.pictureModel.geometry?this.geometryRegistry.getGeometry(this.pictureModel.geometry):li,this.context.anchorPresenter.transform,null===(t=this.pictureModel.geometry)||void 0===t?void 0:t.adjustValues)}}function Vd(t){const e=new uo(t);return(t,n)=>new Hd(t,n,e,(()=>new wd))}class Wd extends ih{constructor(t){super(t)}set fill(t){this.set("fill",`${t}`)}set stroke(t){this.set("stroke",`${t}`)}set strokeDasharray(t){this.set("stroke-dasharray",`${t}`)}set strokeDashoffset(t){this.set("stroke-dashoffset",`${t}`)}set strokeLinecap(t){this.set("stroke-linecap",`${t}`)}set strokeLinejoin(t){this.set("stroke-linejoin",`${t}`)}set strokeMiterlimit(t){this.set("stroke-miterlimit",`${t}`)}set strokeWidth(t){this.set("stroke-width",`${t}`)}set shapeRendering(t){this.set("shape-rendering",`${t}`)}}class Gd extends Wd{constructor(t=Xc("rect")){super(t)}set x(t){this.set("x",`${t}`)}set y(t){this.set("y",`${t}`)}set rx(t){this.set("rx",`${t}`)}set ry(t){this.set("ry",`${t}`)}set width(t){this.set("width",`${t}`)}set height(t){this.set("height",`${t}`)}clone(){return new Gd(this.element.cloneNode())}}function Kd(t,e,n,r,i,o){const s=Lc("mask");if(s.id=`gc2-crop-${performance.now()}${Math.random()}`,t.forEach((([t,e])=>{if(0===e)return;const n=t.cloneNode();n.setAttribute("fill","white"),s.append(n)})),i){const{size:t,flip:i,rot:a}=e,{width:c,height:h}=t,l=new Gd;l.width=c*r.x,l.height=h*r.y,l.fill="rgba(255,255,255,0.3)",l.transform.set({x:-c/2-n.x,y:-h/2-n.y},i,a+(null!=o?o:0),{x:0,y:0}),s.prepend(l.element)}return s}function Qd(t){const e=[];if(t.forEach((([t,n])=>{switch(n){case 4:case 5:case 2:case 3:{const r=t.cloneNode();r.setAttribute("fill",function(t){switch(t){case 4:return"rgba(0,0,0,0.4)";case 5:return"rgba(0,0,0,0.2)";case 2:return"rgba(255,255,255,0.4)";case 3:return"rgba(255,255,255,0.2)";default:b(t)}}(n)),e.push(r);break}}})),0===e.length)return;const n=Lc("g");return n.setAttribute("pointer-events","none"),n.append(...e),n}function Yd(t,e,n,r){const i=Lc(t);return i.setAttribute("type",e),i.setAttribute("slope",`${n}`),i.setAttribute("intercept",`${r}`),i}class Jd extends ih{constructor(t=Xc("svg")){super(t)}set width(t){this.set("width",`${t}`)}set height(t){this.set("height",`${t}`)}set x(t){this.set("x",`${t}`)}set y(t){this.set("y",`${t}`)}set viewBox(t){this.set("viewBox",t)}set preserveAspectRatio(t){this.set("preserveAspectRatio",t)}}class Xd extends ih{constructor(t=Xc("g")){super(t)}set width(t){this.set("width",`${t}`)}set height(t){this.set("height",`${t}`)}set x(t){this.set("x",`${t}`)}set y(t){this.set("y",`${t}`)}}class Zd extends ih{constructor(t=Xc("image")){super(t)}set width(t){this.set("width",`${t}`)}set height(t){this.set("height",`${t}`)}set x(t){this.set("x",`${t}`)}set y(t){this.set("y",`${t}`)}set preserveAspectRatio(t){this.set("preserveAspectRatio",t)}set href(t){this.set("href",t)}}function tu(t){var e,n;const r=Md(t.mimeType)?eu(t.imageViewModel.imageData,t.transform,t.imageViewModel.scaleVector,t.viewModel,t.hitTestMap,void 0,t.imageViewModel.opacity):nu(t.imageViewModel.imageData,t.cachedImageData,t.transform,t.imageViewModel.scaleVector,t.topLeftOffset,t.svgRoot,!1,void 0,t.imageViewModel.opacity,t.updateCachedImageData),{size:i,flip:o,rot:s}=t.transform,{width:a,height:c}=i;r.transform.set({x:-a/2,y:-c/2},o,s+(null!==(e=t.rotation)&&void 0!==e?e:0),{x:0,y:0});const h=new Xd;h.element.appendChild(r.element);const l=Qd(t.paths);if(void 0!==l&&h.element.appendChild(l),t.imageViewModel.inCropMode){const e=Kd(t.paths,t.transform,t.topLeftOffset,t.imageViewModel.scaleVector,t.imageViewModel.inCropMode,t.rotation);h.set("mask",`url(#${e.id})`),h.element.appendChild(e)}else{const e=function(t){const e=Lc("clipPath");return e.id=`gc2-clip-${performance.now()}${Math.random()}`,t.forEach((([t])=>{e.append(t.cloneNode())})),e}(t.paths);h.set("clip-path",`url(#${e.id})`),h.element.appendChild(e)}t.hitTestMap.setViewModel(r.element,t.viewModel),function(t,e,n){if(void 0!==n){const r=function(t,e){if(void 0===t&&void 0===e)return;const n=Lc("filter");if(n.id=`gc2-filter-${performance.now()}${Math.random()}`,n.setAttribute("color-interpolation-filters","sRGB"),void 0!==t){if(void 0!==t.brightness){let e,r;t.brightness>=1?(e=0,r=1):(e=t.brightness>0?1/(1-t.brightness):Math.max(0,t.brightness+1),r=0);const i=Lc("feComponentTransfer"),o=Yd("feFuncR","linear",e,r),s=Yd("feFuncG","linear",e,r),a=Yd("feFuncB","linear",e,r);i.appendChild(o),i.appendChild(s),i.appendChild(a),n.appendChild(i)}if(void 0!==t.contrast){const e=Lc("feColorMatrix");e.setAttribute("type","matrix");const r=function(t){const e=Ic(t,-1,1);return e<=0?e+1:1/(1-Math.min(.99999,e))}(t.contrast),i=r,o=-.5*r+.5;e.setAttribute("values",`${i} 0 0 0 ${o} 0 ${i} 0 0 ${o} 0 0 ${i} 0 ${o} 0 0 0 1 0`),n.appendChild(e)}}if(void 0!==e){const t=Lc("feColorMatrix");t.setAttribute("type","saturate"),t.setAttribute("values",`${e.saturationFactor}`),n.appendChild(t)}return n}(n.brightnessContrast,n.hueSaturationLuminance);void 0!==r&&(t.element.appendChild(r),e.set("filter",`url(#${r.id})`))}}(h,r,t.pictureEffects);const d=new Xd(t.group.cloneNode());void 0!==t.lineWeight&&(t.lineWeight=2*t.lineWeight,d.element.setAttribute("stroke-width",`${t.lineWeight}pt`)),d.element.removeAttribute("transform"),d.element.append(...function(t){const e=[];return t.forEach((([t])=>{const n=t.cloneNode();n.setAttribute("fill","none"),e.push(n)})),e}(t.paths));const u=new Xd;u.set("id",`gc2-picture-${performance.now()}${Math.random()}`),u.appendChild(d),u.appendChild(h);const p=t.effectProps&&t.effectProps.shadow?function(t,e,n,r,i){const o=new Xd,s=rt(void 0!==t.color?as(t.color,i):ot),a=void 0!==(null==t?void 0:t.distance)?t.distance:0;let c=a,h=0;void 0!==(null==t?void 0:t.angle)&&(c=Math.cos(t.angle*(Math.PI/180))*a,h=Math.sin(t.angle*(Math.PI/180))*a),c=ds(c),h=ds(h);const l=ds(t.radius)/3*1.270253,d=Lc("use");d.setAttribute("href",`#${e}`),d.setAttribute("transform",`translate(${c},${h})`),d.setAttribute("visibility","visible");const u=Lc("mask");u.id=`gc2-shadow-mask-${performance.now()}${Math.random()}`,r.forEach((([t,e])=>{if(0===e)return;const n=t.cloneNode();n.setAttribute("fill","white"),u.append(n)})),d.setAttribute("mask",`url(#${u.id})`);const p=ac(n),f=3*l,y=c-p.width()/2-f,g=h-p.height()/2-f,x=p.width()+2*f,v=p.height()+2*f,m=Lc("filter");m.id=`gc2-shadow-filter-${performance.now()}${Math.random()}`,m.setAttribute("x",`${y}`),m.setAttribute("y",`${g}`),m.setAttribute("filterUnits","userSpaceOnUse"),m.setAttribute("width",`${x}`),m.setAttribute("height",`${v}`);const w=Lc("feGaussianBlur");w.setAttribute("in","SourceAlpha"),w.setAttribute("stdDeviation",`${l}`),w.setAttribute("result","offsetblur");const b=Lc("feFlood");b.setAttribute("flood-color",`${s}`);const P=Lc("feComposite");return P.setAttribute("operator","in"),P.setAttribute("in2","offsetblur"),m.appendChild(w),m.appendChild(b),m.appendChild(P),o.element.appendChild(d),o.element.appendChild(m),o.element.appendChild(u),o.set("filter",`url(#${m.id})`),o.set("pointer-events","none"),o}(t.effectProps.shadow,u.id,t.transform,t.paths,null===(n=t.viewModel.model)||void 0===n?void 0:n.hostContext.themeInfo):void 0,f=new Xd;f.set("id",`gc2-picturewithshadow-${performance.now()}${Math.random()}`),void 0!==p&&f.appendChild(p),f.appendChild(u);const y=t.effectProps&&t.effectProps.reflection?function(t,e,n){const r=new Xd,i=ds(t.distance),o=100-t.startAlpha,s=function(t,e){const n=Lc("linearGradient");n.id=`gc2-linearGrad-${performance.now()}${Math.random()}`,n.setAttribute("gradientTransform","rotate(90)");const r=Lc("stop");r.setAttribute("offset",100-100*e+"%"),r.setAttribute("stop-color","black");const i=Lc("stop");i.setAttribute("offset",100-100*t+"%"),i.setAttribute("stop-color","white"),n.appendChild(r),n.appendChild(i);const o=new Gd;o.width="1",o.height="1",o.fill=`url(#${n.id})`;const s=Lc("mask");return s.id=`gc2-mask-${performance.now()}${Math.random()}`,s.setAttribute("maskContentUnits","objectBoundingBox"),s.append(n),s.append(o.element),s}(t.startPosition,t.endPosition),{rot:a,size:c}=n,{width:h,height:l}=c,d=(a+360)%360<=180?h:-h,u=(a+360)%360<=90||(a+360)%360>=270?l:-l,p=`rotate(${a}) translate(${d/2},${u/2})\n  scale(1,-1) rotate(${2*a})\n  translate(${-d/2},${-u/2})rotate(${-a})\n  translate(0,${-i})`;r.element.setAttribute("transform",p);const f=Lc("use");f.setAttribute("href",`#${e}`);const y=new Xd;y.element.appendChild(f),y.element.appendChild(s),y.set("mask",`url(#${s.id})`);const g=1.1429*ds(t.radius)/3,x=Lc("feGaussianBlur");x.setAttribute("stdDeviation",`${g}`);const v=Lc("feComponentTransfer"),m=Lc("feFuncA");m.setAttribute("type","linear"),m.setAttribute("slope",""+o/100),v.appendChild(m);const w=ac(n),b=3*g,P=-w.width()/2-b,C=-w.height()/2-b,A=w.width()+2*b,j=w.height()+2*b,T=Lc("filter");return T.id=`gc2-reflection-filter-${performance.now()}${Math.random()}`,T.setAttribute("filterUnits","userSpaceOnUse"),T.setAttribute("x",`${P}`),T.setAttribute("y",`${C}`),T.setAttribute("width",`${A}`),T.setAttribute("height",`${j}`),T.appendChild(x),T.appendChild(v),r.element.appendChild(y.element),r.element.appendChild(T),r.set("filter",`url(#${T.id})`),r.set("pointer-events","none"),r}(t.effectProps.reflection,u.id,t.transform):void 0,g=new Xd;return void 0!==y&&g.appendChild(y),g.appendChild(f),g}function eu(t,e,n,r,i,o,s){var a,c;const h=new oh;h.width=e.size.width,h.height=e.size.height;const l=e.size.clone().scale(n.x,n.y),d=document.createElement("img");return d.src=null!=t?t:"",d.width=null!==(a=null==o?void 0:o.width)&&void 0!==a?a:l.width,d.height=null!==(c=null==o?void 0:o.height)&&void 0!==c?c:l.height,d.style.pointerEvents="none",h.width=e.size.width,h.height=e.size.height,h.opacity=(null!=s?s:100)/100,h.element.appendChild(d),i.setViewModel(d,r),h}function nu(t,e,n,r,i,o,s,a,c,h){var l;const d=n.size.clone().scale(r.x,r.y),u=new Zd;if(s){const{data:n}=a;t=n,e=n}if(u.width=d.width,u.height=d.height,u.x=s?0:-i.x,u.y=s?0:-i.y,u.preserveAspectRatio="none",s||(u.opacity=(null!=c?c:100)/100),u.href=null!==(l=null!=e?e:t)&&void 0!==l?l:"",void 0!==e&&e!==t){const e=new Zd;o.appendChild(e.element);const n=null!=t?t:"";e.element.setAttribute("visibility","hidden"),e.element.addEventListener("load",(()=>{u.href=n,null==h||h(n),e.element.remove()}),{once:!0}),e.href=n}return u}function ru(t,e){var n,r,i;const o=!0===(null===(n=t.getPlaceHolder())||void 0===n?void 0:n.overlay)||!0===(null===(r=t.getPlaceHolder())||void 0===r?void 0:r.renderAsSvg),s=t.transform,a=new Xd,{x:c,y:h}=s.getCenter();let l;a.transform.setTranslate(c,h),a.set("pointer-events","painted");const d=t.fallbackRenderData;if(l=void 0===d?tu({imageViewModel:t,transform:t.transform,topLeftOffset:t.topLeftOffset,paths:t.geometryVM.paths,viewModel:t,hitTestMap:e.hitTestMap,group:t.geometryVM.group,svgRoot:e.svgRoot,mimeType:t.mimeType,effectProps:t.geometryVM.effects,pictureEffects:t.geometryVM.pictureEffects,cachedImageData:t.cachedImageData,rotation:t.rotation,lineWeight:null===(i=t.model.line)||void 0===i?void 0:i.weight,updateCachedImageData:e=>{t.cachedImageData=e}}):function(t,e,n,r){const{targetBounds:i}=n,o=Md(t.mimeType)?eu(t.imageData,t.transform,t.scaleVector,t,e,new _t(i.width(),i.height())):nu(t.imageData,t.cachedImageData,t.transform,t.scaleVector,t.topLeftOffset,r,!0,n,t.opacity);!function(t,e,n){const{sourceAnchorBounds:r,targetBounds:i,rotation:o,flip:s}=e,a=n.size.width/r.width(),c=n.size.height/r.height(),h=i.width(),l=i.height(),d=n.size.width,u=n.size.height;t.setAttribute("width",`${h}`),t.setAttribute("height",`${l}`);const p=`rotate(${o})scale(${a} ${c})scale(${n.flip.x!==s.x?-1:1} ${n.flip.y!==s.y?-1:1})rotate(${-o})rotate(${n.rot-o})translate(${i.left} ${i.top})translate(${-d/(2*a)} ${-u/(2*c)})`;t.setAttribute("transform",p)}(o.element,n,t.transform),o.style.pointerEvents="none";const s=new Xd;return s.element.appendChild(o.element),s}(t,e.hitTestMap,d,e.svgRoot),e.hitTestMap.setViewModel(l.element,t),a.appendChild(l),o){const n=function(t,e,n,r){var i,o,s;const a=t.imageData;if(void 0===a)return;const{size:c,flip:h,rot:l}=e,{width:d,height:u}=c,f=new Jd,y=new Xd;y.appendChild(f),y.transform.set({x:-d/2,y:-u/2},h,l,{x:0,y:0}),n&&(f.x=0,f.y=0,f.height=u,f.width=d);let g=!1;try{const e=new URL(a);if("image/svg+xml"===kd(e)&&"data:"===e.protocol.toLowerCase()){const e=function(t){const e=(new DOMParser).parseFromString(t,"image/svg+xml");if(0!==e.querySelectorAll("parsererror").length)throw Error("The XML could not be read");return e.firstElementChild}(atob(a.substring("data:image/svg+xml;base64,".length).trim()));f.element.appendChild(e);for(const n of e.children){if(n instanceof SVGGElement)for(const e of n.children)null==r||r.setViewModel(e,t);null==r||r.setViewModel(n,t)}g=!0}}catch(t){p(0,`SVG Placeholder parsing failed. Exception: ${t.message}`)}if(!g){const e=new Zd;e.href=a,e.preserveAspectRatio="none",f.element.appendChild(e.element),null==r||r.setViewModel(e.element,t)}const x=new Xd;if(x.appendChild(y),null===(i=t.placeholder)||void 0===i?void 0:i.cropToGeometry){let n;t.geometryVM instanceof wd?n=t.geometryVM:(n=new wd,n.setGeometry(t.geometry,e));const r=Qd(n.paths);void 0!==r&&x.element.appendChild(r);const i=Kd(n.paths,e,null!==(o=t.topLeftOffset)&&void 0!==o?o:new _(0,0),null!==(s=t.scaleVector)&&void 0!==s?s:new _(1,1),!1);x.set("mask",`url(#${i.id})`),x.element.appendChild(i)}return x}(t.placeholderVM,t.transform,!0,e.hitTestMap);void 0!==n&&(e.hitTestMap.setViewModel(n.element,t),a.appendChild(n))}e.svgRoot.appendChild(a.element)}const iu="Microsoft.Office.Excel.CropPicture",ou="OfficeVSO:8928608_CropDimensionsInRTL",su="Microsoft.Office.Excel.CropPictureWithMoveAndResize",au="RenderTarget-",cu="100%",hu="visible",lu="draggable",du="false";var uu;function pu(t){return void 0!==t.key}function fu(t){const e=t;if(pu(e.newValue)&&void 0!==e.newValue.commandValueId)return new sl(e.newValue.commandValueId)}!function(t){t[t.NotDefined=-1]="NotDefined",t[t.Unknown=0]="Unknown",t[t.Keyboard=1]="Keyboard",t[t.Mouse=2]="Mouse",t[t.Touch=3]="Touch",t[t.Pen=4]="Pen",t[t.CrossSlide=9]="CrossSlide"}(uu||(uu={}));const yu="changeBold";class gu{constructor(t){this.actionType=yu,this.bold=t}}const xu="changeItalic";class vu{constructor(t){this.actionType=xu,this.italic=t}}const mu="enterExitCropMode";class wu{constructor(t){this.actionType=mu,this.cropMode=t}isCropActive(){return 0===this.cropMode}}function bu(t,e){return e.cropState.inCropMode!==t.isCropActive()&&(e.cropState.setInCropMode(t.cropMode),!0)}class Pu{constructor(){this.forcedColorsQuery=window.matchMedia("(forced-colors:active)"),this.onForcedColorsChange=t=>{this.isForcedColors=t.matches,this.updateHighContrastColors()},this.isForcedColors=this.forcedColorsQuery.matches,this.forcedColorsQuery.addEventListener("change",this.onForcedColorsChange),this.updateHighContrastColors()}get isInHighContrastMode(){return this.isForcedColors}updateHighContrastColors(){if(this.isForcedColors){const t=document.createElement("div");t.role="presentation",t.ariaHidden="true",t.style.backgroundColor="Window",document.body.appendChild(t);const e=getComputedStyle(t);this.highContrastColors={foregroundTextColor:e.color,backgroundColor:e.backgroundColor,borderColor:e.borderColor},document.body.removeChild(t)}else this.highContrastColors=void 0}}class Cu{constructor(t,e=!1,n=!1,r=!1){this.url=t,this.renderAsSvg=e,this.overlay=n,this.cropToGeometry=r}equals(t){return this.url.href===t.url.href}}var Au,ju;!function(t){t[t.ChangeGate=0]="ChangeGate",t[t.FeatureGate=1]="FeatureGate"}(Au||(Au={})),function(t){t[t.NotStarted=0]="NotStarted",t[t.InProgress=1]="InProgress",t[t.Succeeded=2]="Succeeded",t[t.Failed=3]="Failed"}(ju||(ju={}));class Tu{constructor(t){this._fx="50%",this._fy="50%",this._r="50%",this._radialGradient=Lc("radialGradient"),this._id=`radialGradient-${t}`,this.radialGradient.id=this._id}get id(){return this._id}get radialGradient(){return this._radialGradient}set fx(t){this._fx=t,this._radialGradient.setAttribute("fx",this._fx)}set fy(t){this._fy=t,this._radialGradient.setAttribute("fy",this._fy)}set r(t){this._r=t,this._radialGradient.setAttribute("r",this._r)}addStopElement(t,e){const n=Lc("stop");n.setAttribute("offset",t),n.setAttribute("stop-color",e),this._radialGradient.append(n)}addAnimation(t,e,n,r,i){const o=Lc("animate");o.setAttribute("attributeName",t),o.setAttribute("dur",i),o.setAttribute("from",e),o.setAttribute("to",n),o.setAttribute("repeatCount",r),this._radialGradient.append(o)}}function Su(t){return null==t}function Ru(t,e){if("string"==typeof e){if("pictureMetaData"===t)return JSON.parse(e,Ru);if("pictureModelJson"===t)return JSON.parse(e)}return e}function Eu(t,e,n=0){const r=new Pu;return r.isInHighContrastMode?function(t,e){var n,r;const i=new Jd;i.style.overflow="inherit",i.element.setAttribute("xmlns","http://www.w3.org/2000/svg");const o=16..toString()+"px",s=new Gd;Ou(s,"100%","100%","0","0",0,0);const a=null===(n=e.highContrastColors)||void 0===n?void 0:n.backgroundColor;void 0!==a&&(s.fill=a);const c=null===(r=e.highContrastColors)||void 0===r?void 0:r.borderColor;void 0!==c&&(s.stroke=c),i.element.appendChild(s.element);const h=new Zd;return Mu(h,o,o,"50%","50%",-8,-8),h.href=t,i.element.appendChild(h.element),new Cu(new URL(`data:image/svg+xml;base64,${btoa(i.element.outerHTML)}`),!0)}(e.getPlaceHolderUrl(),r):function(t,e,n=0){const r=new Jd;r.style.overflow="inherit",r.element.setAttribute("xmlns","http://www.w3.org/2000/svg");let i=143;void 0!==e&&(i=Math.min(e.pictureMetaData.size.width,e.pictureMetaData.size.height,i));const o=i.toString()+"px",s=Math.round(-i/2),a=new Gd;Ou(a,"100%","100%","0","0",0,0),a.stroke="#E3E3E3",a.fill="#fff",r.element.appendChild(a.element);let c="#D2D0CE";if(t.isEnabled("OfficeVSO:8505102_AddImagePlaceholderShimmer",Au.ChangeGate)&&0===n){const e=new Tu(t.id);e.fx="-250%",e.fy="-250%",e.r="600%",e.addStopElement("0%","#faf9f8"),e.addStopElement("40%","#d2d0ce"),e.addAnimation("fx","-250%","250%","indefinite","2.5s"),e.addAnimation("fy","-250%","250%","indefinite","2.5s");const n=function(...t){const e=Lc("defs");return e.append(...t),e}(e.radialGradient);r.element.appendChild(n),c=`url(#${e.id})`}const h=new Gd;Ou(h,o,o,"50%","50%",s,s),h.fill=c,r.element.appendChild(h.element);const l=new Zd;return Mu(l,o,o,"50%","50%",s,s),l.href=t.getPlaceHolderUrl(),r.element.appendChild(l.element),new Cu(new URL(`data:image/svg+xml;base64,${btoa(r.element.outerHTML)}`),!0)}(e,t,n)}function Mu(t,e,n,r,i,o,s){t.width=e,t.height=n,t.x=r,t.y=i,t.transform.setTranslate(o,s)}function Ou(t,e,n,r,i,o,s){t.width=e,t.height=n,t.x=r,t.y=i,t.transform.setTranslate(o,s)}function ku(t){return()=>new wu(t)}const Iu=new class extends mt{createAction(t,e,n){const r=this.get(t);if(void 0!==r&&void 0!==r[0])return r[0](e,n)}query(t,e){const n=this.get(t);if(void 0!==n&&void 0!==n[1])return n[1](e)}}([["Bold",[fa,function(t){return Jh(t.selection,"bold",(t=>!0===t))}]],["Italic",[ya,function(t){return Jh(t.selection,"italic",(t=>!0===t))}]],["Underline",[ga,function(t){return Jh(t.selection,"underline",(t=>void 0!==t&&0!==t))}]],["Strikethrough",[xa,function(t){return Jh(t.selection,"strike",(t=>void 0!==t&&1===t))}]],["FontName",[fu,Xh]],["FontSize",[function(t){const e=t,n=pu(e.newValue)?e.newValue.text:e.newValue.value;return new il(parseInt(n,10))},function(t){return Jh(t.selection,"fontSize",(t=>void 0!==t?""+t/100:""))}]],["FontColor",[function(t,e){const n=t,r="ColorPickerPayload"===n.type?n.selectedColorId:n.statefulData;if(void 0!==r)return new cl(new ht(e.colorResolver.resolveColor(r)))}]],["FontFamily",[fu,vl]],["FontPicker",[function(t){const e=t;let n,r=!1,i=!1,o=!1;return"string"==typeof e.font?n=e.font:void 0!==e.font.data&&null!==e.font.data?(r=!0,n=e.font.data.fontToApply,i=e.font.data.isBold,o=e.font.data.isItalic):n=e.font.name,r?new $t([new sl(n),new gu(i),new vu(o)]):new sl(n)},function(t){const e=vl(t);return e.bold=Jh(t.selection,"bold",(t=>!0===t)).value,e.italic=Jh(t.selection,"italic",(t=>!0===t)).value,e}]],["TextAlignmentLeftJustify",[yl(0),Zh]],["TextAlignmentCenterJustify",[yl(1),Zh]],["TextAlignmentRightJustify",[yl(2),Zh]],["TextAnchoringTop",[fl(0),tl]],["TextAnchoringMiddle",[fl(1),tl]],["TextAnchoringBottom",[fl(2),tl]],["Cut",[gl(!0)]],["Copy",[gl(!1)]],["Paste",[function(t,e){try{document.execCommand("paste")||e.showDialog("clipboardErrorDialog")}catch(t){u(0,`Failed to perform paste: ${t.message}`)}}]],["BeginCropPreview",[ku(0)]],["PerformCrop",[ku(2)]]]);class Bu{constructor(t,e,n,r){this.colorResolver=t,this.selection=e,this.themeInfo=n,this.showDialog=r}}class _u{constructor(t){this.onCompletion=()=>{},this.type=t}getType(){return this.type}}class Du extends _u{constructor(t){super(2),this.id=t}getId(){return this.id}}class Fu extends _u{constructor(t,e,n,r){super(3),this.id=t,this.dimension=e,this.srcRect=n,this.positionTransform=r}getId(){return this.id}getPositionTransform(){return this.positionTransform}getDimension(){return this.dimension}getSrcRect(){return this.srcRect}}class Nu{constructor(t,e){this.hostConfig=t,this.getPictureRenderDataFromHost=e}async getPictureBlobDataFromHostPictureMetadata(t){return Promise.reject(new Error("Method not implemented."))}isHostPictureMetadata(t){throw new Error("Method not implemented.")}getPlaceholderIcon(t){switch(t){case 0:case 1:return Eu(this.getPictureRenderDataFromHost(),this.hostConfig,t);default:m(0,`Unexpected: Placeholder requested for icontype ${t}`)}}createPictureData(t,e){throw new Error("Method not implemented.")}}class Uu{constructor(t=0){this.dashType=t}clone(){return new Uu(this.dashType)}equals(t){return this.dashType===t.dashType}}class Lu{constructor(t=0,e=1,n=1){this.type=t,this.width=e,this.length=n}clone(){return new Lu(this.type,this.width,this.length)}equals(t){return this.type===t.type&&this.width===t.width&&this.length===t.length}}function qu(t){if(void 0!==t)return new Lu(t.endType,t.widthType,t.lengthType)}function zu(t,e){return void 0!==t?new yt(e,void 0!==t.weight?t.weight/12700:void 0,void 0!==t.lineDash?new Uu(t.lineDash):void 0,qu(t.headEndProps),qu(t.tailEndProps),void 0!==t.lineJoin?new gt(t.lineJoin):void 0):new yt(e)}function $u(t){return zu(t,void 0!==t.fillProps?Sh(t.fillProps):void 0)}class Hu{}class Vu{constructor(t){this.type=Hu,this.updates=t}}class Wu{constructor(e,n,r,i,o,s,a,c,h,l){this.type=Xl,this.modelUpdated=new t,this.hostContext=e,this._data=n,this._crop=r,this._fill=i,this._line=o,this._description=s,this._opacity=a,this._effects=c,this._pictureEffects=h,this._rotation=l}get data(){return this._data}set data(t){this._data.equals(t)||(this._data=t,this.modelUpdated.emit(new Vu(1)))}get crop(){return this._crop}set crop(t){N(this._crop,t)||(this._crop=t,this.modelUpdated.emit(new Vu(2)))}get geometry(){return this._geometry}set geometry(t){this._geometry!==t&&(this._geometry=t,this.modelUpdated.emit(new Vu(2)))}get fill(){return this._fill}set fill(t){N(this._fill,t)||(this._fill=t,this.modelUpdated.emit(new Vu(4)))}get line(){return this._line}set line(t){N(this._line,t)||(this._line=t,this.modelUpdated.emit(new Vu(8)))}get description(){return this._description}set description(t){this._description!==t&&(this._description=t,this.modelUpdated.emit(new Vu(16)))}get opacity(){return this._opacity}set opacity(t){this._opacity!==t&&(this._opacity=void 0===t?t:Ic(t,0,100),this.modelUpdated.emit(new Vu(32)))}get effects(){return this._effects}set effects(t){N(this._effects,t)||(this._effects=t,this.modelUpdated.emit(new Vu(64)))}get pictureEffects(){return this._pictureEffects}set pictureEffects(t){N(this._pictureEffects,t)||(this._pictureEffects=t,this.modelUpdated.emit(new Vu(128)))}get placeholder(){return this._placeholder}set placeholder(t){N(this.placeholder,t)||(this._placeholder=t,this.modelUpdated.emit(new Vu(256)))}get rotation(){return this._rotation}set rotation(t){this._rotation!==t&&(this._rotation=t,this.modelUpdated.emit(new Vu(512)))}clone(){var t,e,n,r;const i=new Wu(this.hostContext,this._data,this._crop,null===(t=this._fill)||void 0===t?void 0:t.clone(),null===(e=this._line)||void 0===e?void 0:e.clone(),this.description,this._opacity,null===(n=this._effects)||void 0===n?void 0:n.clone(),null===(r=this._pictureEffects)||void 0===r?void 0:r.clone(),this._rotation);return i._geometry=this._geometry,i}}function Gu(t,e,n){const r=e.crop,i=e.line,o=new Wu(t,n,void 0!==r?void 0===(s=r).srcRect?void 0:(a=s.srcRect,new zl(a.left,a.top,a.right,a.bottom)):void 0,void 0,void 0!==i?$u(i):void 0,e.description,e.opacity);var s,a;return void 0!==r&&(o.geometry=new Me(r.geomType)),o}class Ku{constructor(e,n,r,i,o,s){this.downloadCompleted=new t,this.id=e,this.originalUrl=n,this.isUrlFinal=r,this.downloadPlaceholder=o,this.pictureProvider=i,this.options=s,this.isUrlFinal&&(this._mimeType=kd(this.originalUrl))}get mimeType(){var t;return void 0!==this._mimeType||(this._mimeType=null===(t=Ed.getInstance().getDownloadDetails(this.id))||void 0===t?void 0:t.mimeType),this._mimeType}set mimeType(t){this._mimeType=t}equals(t){return this.id===t.id&&this.originalUrl===t.originalUrl}}let Qu=0;class Yu{constructor(t,e){this.onPictureDownloadComplete=t=>{if(0!==t.totalTimeInMs&&f(0,`ExcelPictureModelRenderStrategy.onPictureDownloadComplete: Download complete event sent for picture with id ${this.hostConfig.id}. DataDownloadStats: ${JSON.stringify(t)}`),!Su(this.hostConfig.onPictureDownloadComplete)){const e=function(t){switch(t){case 0:return ju.NotStarted;case 1:return ju.InProgress;case 2:return ju.Succeeded;case 3:return ju.Failed;default:b(t)}}(t.downloadState);this.hostConfig.onPictureDownloadComplete(e)}},this.hostConfig=t,this.pictureProvider=e}updateGraphic(t,e,n,r){if(void 0===n)throw Error;e.anchor.transform=this.createTransformFromModel(n);const i=e.model,o=this.createPicture(t,n);r.pictureMetaData.imageContentId!==n.pictureMetaData.imageContentId?(i.data=o.data,f(0,`ExcelPictureModelRenderStrategy.updateGraphic: Updating picture graphic Id ${n.id} with change in imageContentId ${n.pictureMetaData.imageContentId}`)):(f(0,`ExcelPictureModelRenderStrategy.updateGraphic: Updating picture graphic Id ${n.id}`),this.hostConfig.isEnabled("OfficeVSO:8279691_FixDIPTelemetryForGC2Image",Au.ChangeGate)&&this.onPictureDownloadComplete(function(){const t=new Ld;return t.downloadState=2,t}())),i.crop=o.crop,i.description=o.description,i.fill=o.fill,i.geometry=o.geometry,i.line=o.line}createGraphic(t,e,n){if(void 0===e)throw Error;const r=this.createTransformFromModel(e),i=this.createPicture(t,e);return f(0,`ExcelPictureModelRenderStrategy.createGraphic: Creating picture graphic with Id ${n}`),new Nt(n,i,new se(r))}createTransformFromModel(t){const e=t.pictureMetaData;return new Dt(new Bt(e.position.x,e.position.y),new _t(e.size.width,e.size.height),new It(e.flip.x,e.flip.y),e.rotation)}createPicture(t,e){const n=(r=new URL(e.pictureMetaData.pictureModelJson.data.data),i=this.pictureProvider,o=Eu(e,this.hostConfig),new Ku(`${Qu+=1,Qu}`,r,!0,i,o,undefined));var r,i,o;return this.hostConfig.isEnabled("OfficeVSO:8279691_FixDIPTelemetryForGC2Image",Au.ChangeGate)&&n.downloadCompleted.on(this.onPictureDownloadComplete),Gu(t,e.pictureMetaData.pictureModelJson,n)}}function Ju(){return{isHandled:!1,discardCrop:!1,exitCrop:!0}}class Xu extends mt{performAction(t,e,n){const r=this.get(t.actionType);return void 0===r?new Rt(!1):r(t,e,n)}}const Zu="toggleGraphicSel";class tp{constructor(t){this.actionType=Zu,this.graphic=t}}function ep(t){return(e,n,r)=>new Rt(t(e,n,r))}function np(t){return(e,n,r)=>new Rt(!0,[t(e,n,r)])}function rp(t){return(e,n,r)=>new Rt(!0,t(e,n,r))}function ip(t){return(e,n,r)=>new Rt(!0,[t(e,n.graphic.model,r)])}function op(t){return(e,n,r)=>new Rt(!0,t(e,n.graphic.model,r))}const sp="clrSel";class ap{constructor(){this.actionType=sp}}const cp="removeGraphics";class hp{constructor(t){this.actionType=cp,this.graphics=t}}const lp="changeZOrder";class dp{constructor(t){this.actionType=lp,this.changeOrderType=t}}class up{constructor(t,e){this.collection=t,this.graphics=e}perform(){return this.collection.addGraphics(this.graphics),{undoOp:new pp(this.collection,this.graphics)}}}class pp{constructor(t,e){this.collection=t,this.graphics=e}perform(){return this.collection.removeGraphics(this.graphics),{undoOp:new up(this.collection,this.graphics)}}}class fp{perform(){return{undoOp:new fp}}}class yp{constructor(t,e,n){this.graphicCollection=t,this.graphic=e,this.index=n}perform(){const t=this.graphicCollection.setGraphicOrder(this.graphic,this.index);return void 0===t?{undoOp:new fp}:{undoOp:new yp(this.graphicCollection,this.graphic,t)}}}class gp{constructor(t,e,n){this.graphicCollection=t,this.graphic=e,this.changeOrderType=n}perform(){const t=this.graphicCollection.changeGraphicOrder(this.graphic,this.changeOrderType);return void 0===t?{undoOp:new fp}:{undoOp:new yp(this.graphicCollection,this.graphic,t)}}}function xp(t,e){const n=[...e],r=n.map((t=>ac(t.anchor.transform)));let i;return i=void 0!==t.alignToBounds?t.alignToBounds:r.reduce(((t,e)=>new Ji(Math.min(t.left,e.left),Math.min(t.top,e.top),Math.max(t.right,e.right),Math.max(t.bottom,e.bottom))),new Ji(Number.MAX_VALUE,Number.MAX_VALUE,Number.MIN_VALUE,Number.MIN_VALUE)),Ml("GC2Align",new Map([["AlignType",t.alignType.toString()]])),n.map(((e,n)=>new kl(e.anchor,D(e.anchor.transform,function(t,e,n){switch(t){case 0:return new Ko(e.left-n.left,0);case 1:return new Ko(e.center().x-n.center().x,0);case 2:return new Ko(e.right-n.right,0);case 3:return new Ko(0,e.top-n.top);case 4:return new Ko(0,e.center().y-n.center().y);case 5:return new Ko(0,e.bottom-n.bottom);default:b(t)}}(t.alignType,i,r[n]),!0))))}function vp(t,e){const n=[];for(const t of e)n.push({graphic:t,bounds:ac(t.anchor.transform)});if(n.length<3)return[];const{closestGraphicToBounds:r,furthestGraphicToBounds:i,closestBoundToOrigin:o,furthestBoundToOrigin:s}=function(t,e){let n,r,i=Number.MIN_VALUE,o=Number.MAX_VALUE;if(void 0!==e.distributeToBounds)o=0===e.distributeType?e.distributeToBounds.left:e.distributeToBounds.top,i=0===e.distributeType?e.distributeToBounds.right:e.distributeToBounds.bottom;else for(const s of t){const t=s.bounds,a=0===e.distributeType?t.right:t.bottom,c=0===e.distributeType?t.left:t.top;a<o&&(n=s.graphic,o=a),c>i&&(r=s.graphic,i=c)}return{closestGraphicToBounds:n,furthestGraphicToBounds:r,closestBoundToOrigin:o,furthestBoundToOrigin:i}}(n,t),a=n.filter((({graphic:t})=>t!==r&&t!==i)),c=function(t,e){let n=0;if(0===e)for(const e of t)n+=e.bounds.width();else for(const e of t)n+=e.bounds.height();return n}(a,t.distributeType);0===t.distributeType?a.sort(mp):a.sort(wp);const h=void 0===t.distributeToBounds?n.length-1:n.length+1;let l=o;const d=(s-o-c)/h;return a.map((e=>{const n=l+d;return l=0===t.distributeType?n+e.bounds.width():n+e.bounds.height(),new kl(e.graphic.anchor,D(e.graphic.anchor.transform,function(t,e,n){switch(t){case 0:return new Ko(e-n.left,0);case 1:return new Ko(0,e-n.top);default:b(t)}}(t.distributeType,n,e.bounds),!0))}))}function mp(t,e){return t.bounds.left+t.bounds.width()/2-(e.bounds.left+e.bounds.width()/2)}function wp(t,e){return t.bounds.top+t.bounds.height()/2-(e.bounds.top+e.bounds.height()/2)}class bp{constructor(t,e){this.collection=t,this.graphics=e}perform(){const t=this.graphics.map((t=>[t,this.collection.getGraphicOrder(t)])).filter((t=>void 0!==t[1]));return this.collection.removeGraphics(this.graphics),{undoOp:new Pp(this.collection,t)}}}class Pp{constructor(t,e){this.collection=t,this.graphics=e}perform(){return this.collection.addGraphicsAt(this.graphics.sort(((t,e)=>t[1]-e[1]))),{undoOp:new bp(this.collection,this.graphics.map((([t])=>t)))}}}class Cp{constructor(t,e,n){this.collection=t,this.source=e,this.target=n}perform(){const t=this.collection.getGraphicOrder(this.source);return void 0===t?{undoOp:new fp}:(this.collection.removeGraphics([this.source]),this.collection.addGraphicsAt([[this.target,t]]),{undoOp:new Cp(this.collection,this.target,this.source)})}}class Ap{constructor(t,e){this.graphicCollectionSelection=t,this.graphics=e}perform(){return this.graphicCollectionSelection.setGraphics(this.graphics),{undoOp:new fp}}}function jp(t,e){return e.hasGraphic(t.graphic)?e.removeGraphics([t.graphic]):e.addGraphics([t.graphic]),!0}function Tp(t,e){const n=[];for(const t of e.graphic.model)n.push(t);return e.setGraphics(n),!0}function Sp(t,e){return e.clear(),!0}function Rp(t,e,n){let r=t.clearExisting;return t.graphics.forEach((t=>{r=r||!e.hasGraphic(t)})),r&&(e.setGraphics(t.graphics),Lt("QuillSelectionRefactor")||(t.isFirstTimeSelect=!0,n.actionInvoker.invoke(t))),!0}function Ep(t,e){const n=t.graphics,r=[new up(e.graphic.model,n)];return t.selectGraphics&&r.push(new Ap(e,n)),r}function Mp(t,e){var n;return[new bp(e.graphic.model,null!==(n=t.graphics)&&void 0!==n?n:[...e])]}function Op(t,e){return[new Cp(e.graphic.model,t.source,t.target)]}function kp(t,e){return[new yp(e.graphic.model,t.graphic,t.position)]}function Ip(t,e){const n=[],r=t.changeOrderType,i=[];for(const t of e)i.push(t);switch(r){case 0:case 3:i.reverse().forEach((t=>{n.push(new gp(e.graphic.model,t,r))}));break;case 1:case 2:i.forEach((t=>{n.push(new gp(e.graphic.model,t,r))}));break;default:b(r)}return n}function Bp(t,e,n){var r,i;const o=[],s=t.source.type===t.target.model.type?t.target.clone(t.id):new Nt(t.id,t.source,t.target.anchor),a=null===(i=null===(r=n.previewInfo)||void 0===r?void 0:r.replacePreviewInfo)||void 0===i?void 0:i.replaceRegistry;if(void 0!==a){const e=t.source.type===t.target.model.type?t.source:t.target.model;a.performReplace(e,s)}return o.push(new Cp(e.graphic.model,t.target,s)),o}var _p;!function(t){t[t.None=0]="None",t[t.Alt=1]="Alt",t[t.Ctrl=2]="Ctrl",t[t.Shift=4]="Shift",t[t.CtrlAlt=3]="CtrlAlt",t[t.CtrlShift=6]="CtrlShift",t[t.CtrlAltShift=7]="CtrlAltShift"}(_p||(_p={}));class Dp extends mt{constructor(t){super([]);for(const e of t)this.registerShortcut(e)}registerShortcut(t){const e=this.get(t.key);void 0!==e?e[t.modifiers]=t.performer:this.register(t.key,{[t.modifiers]:t.performer})}performShortcut(t,e,n){const r=this.get(function(t){const e=t.key;return void 0!==e&&1===e.length&&(t.shiftKey||t.getModifierState("CapsLock"))?e.toLocaleLowerCase():e}(t));if(void 0!==r){const i=r[function(t){let e=_p.None;return t.altKey&&(e|=_p.Alt),(aa()?t.metaKey:t.ctrlKey)&&(e|=_p.Ctrl),t.shiftKey&&(e|=_p.Shift),e}(t)];if(void 0!==i)return i(t,e,n)}return{isHandled:!1}}}class Fp{constructor(t){this.actionType="modXfrmAct",this.transform=t}}function Np(t,e,n=!1,r){return D(t,e.transform,n,r)}function Up(t,e){return zp(new Ko(t,e))}function Lp(t,e){return zp(new Qo(t,e,0,0))}function qp(t){return zp(new Yo(t))}function zp(t){return(e,n,r)=>(r.actionInvoker.invoke(new Fp(t)),{isHandled:!0})}function $p(t,e,n){return n.actionInvoker.invoke(new hp),{isHandled:!0}}function Hp(t,e,n){return e.length>0?(n.actionInvoker.invoke(new ap),{isHandled:!0}):{isHandled:!1}}function Vp(t,e,n,r){return function(t,e,n){const r=t.graphic.model,i=r.length;if(0===i)return!1;let o,s;if(0===t.length)o=0===e?-1:0;else{const e=t.selections[t.length-1];if(o=r.getGraphicOrder(e.graphic),void 0===o)return!1}for(let a=0;a<i;a++){if(o=(o+(0===e?1:-1)+i)%i,s=r.getGraphicAt(o),void 0===s)return!1;if(!n||!n(s))return t.setGraphics([s]),!0}}(e,t.shiftKey?1:0,r),{isHandled:!0}}function Wp(t){return(e,n,r)=>(r.actionInvoker.invoke(new dp(t)),{isHandled:!0})}class Gp{dispatchAction(t,e,n,r){let i=!1;const o=[];for(const r of e.selections){const e=n.editorRegistry.performAction(t,r,n);e.performed&&(i=!0,e.editOps.length>0&&o.push(...e.editOps))}return i?new Rt(!0,o):r.performAction(t,e,n)}dispatchKeyboardEvent(t,e,n,r){if(1===e.selections.length){const r=n.editorRegistry.processKeyboardEvent(t,e.selections[0],n);if(r.isHandled)return r}return"keydown"===t.type?r.performShortcut(t,e,n):{isHandled:!1}}}function Kp(t,e,n,r){const i={dispatcher:null!=r?r:new Gp,actions:null!=e?e:new Xu([[Zu,ep(jp)],[sp,ep(Sp)],["selectAllGraphics",ep(Tp)],[vo,ep(Rp)],["addGraphics",rp(Ep)],[cp,rp(Mp)],["replaceGraphic",rp(Op)],[lp,rp(Ip)],["alignAction",rp(xp)],["distributeAction",rp(vp)],["replaceGraphicWithModel",rp(Bp)],["setZIndex",rp(kp)]]),keyboardShortcuts:null!=n?n:new Dp([{key:"Delete",modifiers:_p.None,performer:$p},{key:"Backspace",modifiers:_p.None,performer:$p},{key:"Escape",modifiers:_p.None,performer:Hp},{key:"Tab",modifiers:_p.None,performer:Vp},{key:"Tab",modifiers:_p.Shift,performer:Vp},{key:"ArrowUp",modifiers:_p.None,performer:Up(0,-1)},{key:"ArrowDown",modifiers:_p.None,performer:Up(0,1)},{key:"ArrowLeft",modifiers:_p.None,performer:Up(-1,0)},{key:"ArrowRight",modifiers:_p.None,performer:Up(1,0)},{key:"ArrowUp",modifiers:_p.Shift,performer:Lp(1,1.1)},{key:"ArrowDown",modifiers:_p.Shift,performer:Lp(1,.9090909090909091)},{key:"ArrowLeft",modifiers:_p.Shift,performer:Lp(.9090909090909091,1)},{key:"ArrowRight",modifiers:_p.Shift,performer:Lp(1.1,1)},{key:"ArrowUp",modifiers:_p.CtrlShift,performer:Lp(1,1.01)},{key:"ArrowDown",modifiers:_p.CtrlShift,performer:Lp(1,.9900990099009901)},{key:"ArrowLeft",modifiers:_p.CtrlShift,performer:Lp(.9900990099009901,1)},{key:"ArrowRight",modifiers:_p.CtrlShift,performer:Lp(1.01,1)},{key:"ArrowLeft",modifiers:_p.Alt,performer:qp(-15)},{key:"ArrowRight",modifiers:_p.Alt,performer:qp(15)},{key:"ArrowLeft",modifiers:_p.CtrlAlt,performer:qp(-1)},{key:"ArrowRight",modifiers:_p.CtrlAlt,performer:qp(1)},{key:"[",modifiers:_p.Ctrl,performer:Wp(2)},{key:"]",modifiers:_p.Ctrl,performer:Wp(0)},{key:"{",modifiers:_p.CtrlShift,performer:Wp(3)},{key:"}",modifiers:_p.CtrlShift,performer:Wp(1)}])};return t.register(a,i),i}function Qp(t,e){let n=t.length,r=0;for(;n>0;){const i=n>>1,o=r+i;e(t[o])?(r=o+1,n-=i+1):n=i}return r}function Yp(t,e){if(t.length<=1)return t[0];let n=e(t[0]),r=t[0];for(let i=1;i<t.length;i+=1){const o=e(t[i]);o<n&&(n=o,r=t[i])}return r}function Jp(t){return void 0!==t}function Xp(t,e){let n=Number.MAX_VALUE;const r=new _(0,0);return void 0!==t&&(r.y+=t[1],n=Math.abs(r.y)),void 0!==e&&(r.x+=e[1],n=Math.min(Math.abs(r.x),n)),[n,r]}function Zp(t,e,n,r,i){const{scaleX:o,scaleY:s,originX:a,originY:c,lockAspectRatio:h}=e,{width:l,height:d}=t.original.size;r.rotate(-t.current.rot);const[u,p]=function(t,e,n){const r=B(t),i=I(t+90),o=I(t),[s,a,c,h]=function(t,e,n){const r=Math.cos(e),i=Math.sin(e),o=Math.cos(n),s=Math.sin(n);return t>=45&&t<=135||t>=225&&t<=315?[i,r,s,o]:[r,i,o,s]}(r,i,o);let l=e.y*s+e.x*c,d=e.y*a+e.x*h;return l=Math.abs(l)<=n?l:0,d=Math.abs(d)<=n?d:0,[l,d]}(t.current.rot,r,i);return{snapDistance:Math.abs(n),transform:new Qo(o-u/l,s-p/d,a,c,h)}}function tf(t,e,n){const{originX:r,originY:i}=e,[o,s]=ef(t),a=new _(o?-r:r,s?-i:i);return 0!==n&&a.rotate(n),a}function ef(t){const{x:e,y:n}=t.original.flip,{flip:r}=t.current;return[e!==r.x,n!==r.y]}function nf(t,e){return of(e.left,e.right,t.left,t.right)}function rf(t,e){return of(e.top,e.bottom,t.top,t.bottom)}function of(t,e,n,r){return t<=n&&n<=e||t<=r&&r<=e||t<r&&n<t&&e<r&&n<e||t<n&&n<e&&t<r&&r<e}class sf{constructor(t,e,n={snap:10,render:.5,merge:.1}){this.renderer=t,this.thresholds=n,this.getCanvas=e}begin(t){this.reset(),t.bounds.forEach((t=>{this.addRect(t,!1)})),void 0!==this.getCanvas&&this.addRect(this.getCanvas(),!0);const e=(t,e)=>t.edge-e.edge;return this.horizontals.sort(e),this.verticals.sort(e),hf(this.horizontals,this.thresholds.merge),hf(this.verticals,this.thresholds.merge),this.renderer.viewModel}snap(t,e){if(1!==t.selected.length||!af(e))return;const[n,r]=this.findEdges(t.selected[0],e,this.thresholds.snap),i=t=>Math.abs(t[1]),[o,s]=[Yp(n,i),Yp(r,i)];return function(t,e,n,r,i){if(void 0===t&&void 0===e)return;const[o,s]=Xp(t,e);return 0===r.type?{snapDistance:o,transform:new Ko(r.x+s.x,r.y+s.y)}:function(t,e,n,r,i){const{scaleX:o,scaleY:s,originX:a,originY:c,lockAspectRatio:h}=e,{width:l,height:d}=t.original.size;if(0===a||0===c){const u=function(t,e,n,r){const i=tf(t,e,t.current.rot);function o(t,e){return isFinite(t)&&0!==t&&Math.abs(t)<=e}return n.x/=i.x,n.y/=i.y,o(n.x,r)?n.x:o(n.y,r)?n.y:void 0}(t,e,r,i);if(void 0===u)return;const[p,f]=ef(t);return{snapDistance:n,transform:new Qo(o+u*Math.abs(a)*(p?-1:1)/l,s+u*Math.abs(c)*(f?-1:1)/d,a,c,h)}}return r.rotate(-t.current.rot),{snapDistance:n,transform:new Qo(o+r.x*a/l,s+r.y*c/d,a,c,h)}}(n,r,o,s,i)}(o,s,t.selected[0],e,this.thresholds.snap)}render(t,e){if(this.renderer.clear(),1!==t.selected.length||!af(e))return;const[n,r]=this.findEdges(t.selected[0],e,this.thresholds.render),i=t.selected[0].bounds;for(const[t]of n)this.renderer.render({edge:t.edge,source:{min:i.left,max:i.right},target:{min:t.min,max:t.max},horizontal:!0,canvas:t.canvas});for(const[t]of r)this.renderer.render({edge:t.edge,source:{min:i.top,max:i.bottom},target:{min:t.min,max:t.max},horizontal:!1,canvas:t.canvas})}end(){this.reset(),this.renderer.clean()}reset(){this.renderer.clear(),this.horizontals=[],this.verticals=[]}addRect(t,e){const{left:n,right:r,top:i,bottom:o}=t,s=t.center();this.horizontals.push({edge:i,min:n,max:r,canvas:e},{edge:s.y,min:n,max:r,canvas:e},{edge:o,min:n,max:r,canvas:e}),this.verticals.push({edge:n,min:i,max:o,canvas:e},{edge:s.x,min:i,max:o,canvas:e},{edge:r,min:i,max:o,canvas:e})}findEdges(t,e,n){const[r,i]=function(t,e){const n=t.bounds,r=n.center();return 0===e.type?[[n.top,r.y,n.bottom],[n.left,r.x,n.right]]:function(t,e){const{originX:n,originY:r}=e;if(0===n&&0===r)return[[],[]];if(0===n||0===r){const{left:n,right:r,top:i,bottom:o}=t.bounds,s=tf(t,e,t.current.rot);return[lf(s.y,[i],[],[o]),lf(s.x,[n],[],[r])]}const{x:i,y:o}=function(t,e){const{pos:n,size:r,rot:i}=t.current,o=tf(t,e,0),s=new _(n.x+(o.x+1)/2*r.width,n.y+(o.y+1)/2*r.height),{x:a,y:c}=t.current.getCenter();return s.rotate(i,new _(a,c)),s}(t,e);return[[o],[i]]}(t,e)}(t,e);return[r.map((t=>cf(this.horizontals,t,n))).filter(Jp),i.map((t=>cf(this.verticals,t,n))).filter(Jp)]}}function af(t){return 0===t.type||1===t.type}function cf(t,e,n){const r=function(t,e){const n=Qp(t,(t=>e(t)<0));return n===t.length?t[t.length-1]:0===n||e(t[n])<-e(t[n-1])?t[n]:t[n-1]}(t,(t=>t.edge-e));if(void 0===r)return;const i=r.edge-e;return Math.abs(i)>n?void 0:[r,i]}function hf(t,e){if(t.length<=0)return;let n=0;for(let r=1;r<t.length;r+=1)Math.abs(t[r].edge-t[n].edge)<e?(t[n].min=Math.min(t[r].min,t[n].min),t[n].max=Math.max(t[r].max,t[n].max),t[n].canvas=t[n].canvas||t[r].canvas):(n+=1,t[n]=t[r]);t.splice(n+1)}function lf(t,e,n,r){return Math.abs(t)<1e-5?n:t>0?r:e}class df{constructor(t,e={snap:5,render:2}){this.sortedByWidth=[],this.sortedByHeight=[],this.renderer=t,this.thresholds=e}begin(t){return this.sortedByWidth=[],this.sortedByHeight=[],t.bounds.forEach((t=>{this.sortedByWidth.push(t),this.sortedByHeight.push(t)})),this.sortedByWidth.sort(((t,e)=>t.width()-e.width())),this.sortedByHeight.sort(((t,e)=>t.height()-e.height())),this.renderer.viewModel}snap(t,e){if(1!==t.selected.length||1!==e.type)return;const[n,r]=this.findCandidateDimensionsInThreshold(t.selected[0],e,this.thresholds.snap),i=t=>Math.abs(t[1]),[o,s]=[Yp(n,i),Yp(r,i)];return function(t,e,n,r,i){if(void 0===t&&void 0===e)return;const[o,s]=Xp(t,e);return Zp(n,r,o,s,i)}(o,s,t.selected[0],e,this.thresholds.snap)}render(t,e){if(this.renderer.clear(),1!==t.selected.length||1!==e.type)return;const[n,r]=this.findCandidateDimensionsInThreshold(t.selected[0],e,this.thresholds.render);for(const e of n)void 0!==e&&(this.renderer.render(!1,e[0]),this.renderer.render(!1,t.selected[0].bounds));for(const e of r)void 0!==e&&(this.renderer.render(!0,e[0]),this.renderer.render(!0,t.selected[0].bounds))}end(){this.sortedByWidth=[],this.sortedByHeight=[]}findCandidateDimensionsInThreshold(t,e,n){const[r,i]=function(t,e){const{originX:n,originY:r}=e;if(0===n&&0===r)return[!1,!1];let i,o;switch(B(t.current.rot)){case 0:case 180:i=0!==n,o=0!==r;break;case 90:case 270:i=0!==r,o=0!==n;break;default:i=!1,o=!1}return[o,i]}(t,e),o=r?pf(this.sortedByHeight,t.bounds,n,!0):[],s=i?pf(this.sortedByWidth,t.bounds,n,!1):[];return[r?o.map((e=>uf(e,t.bounds,!0))).filter(Jp):[],i?s.map((e=>uf(e,t.bounds,!1))).filter(Jp):[]]}}function uf(t,e,n){if(function(t,e,n){return!(n?t.top===e.top||t.bottom===e.bottom:t.left===e.left||t.right===e.right)&&(nf(t,e)||rf(t,e))}(t,e,n)){const r=n?e.height()-t.height():e.width()-t.width();return[t,r]}}function pf(t,e,n,r){const i=r?e.height():e.width(),o=Qp(t,(t=>(r?t.height():t.width())<i-n)),s=Qp(t,(t=>(r?t.height():t.width())<=i+n));return t.slice(o,s)}class ff{constructor(t,e,n,r,i){this.shape=i,this.lightBoundsBegin=t,this.lightBoundsEnd=e,this.distance=n,this.distanceStartPoint=r}}class yf{constructor(t,e,n){this.shape=t,this.lightSet=e,this.direction=n}}class gf{constructor(t,e,n,r,i,o,s,a){this.sourceDistanceShape=t,this.sourceDistanceStartPoint=e,this.matchedDistanceShape=n,this.matchedDistanceStartPoint=r,this.matchedDistance=i,this.differenceWithMatchedDistance=o,this.sourceDirection=s,this.neighborDirection=a}}class xf{constructor(t,e={snap:5,render:5}){this.northRects=[],this.southRects=[],this.eastRects=[],this.westRects=[],this.renderer=t,this.thresholds=e}begin(){return this.northRects=[],this.southRects=[],this.eastRects=[],this.westRects=[],this.renderer.viewModel}snap(t,e){if(this.northRects=[],this.southRects=[],this.eastRects=[],this.westRects=[],1!==t.selected.length||2===e.type||0===t.bounds.length||t.bounds.length>200)return;const n=t.selected[0].bounds;this.northRects.push(n),this.southRects.push(n),this.eastRects.push(n),this.westRects.push(n),t.bounds.forEach((t=>{mf(t,n,this.northRects,this.southRects,this.eastRects,this.westRects)}));const r=this.getEqualDistances(t.selected[0],e,this.thresholds.snap),i=t=>Math.abs(t.differenceWithMatchedDistance),o=[];return r.forEach((t=>{const e=Yp(t,i);void 0!==e&&o.push(e)})),function(t,e,n,r){if(void 0===t)return;const i=t.sourceDirection,o=t.differenceWithMatchedDistance;if(0===e.type){const t=2===i||1===i?o:-o,n=2===i||3===i?e.x+t:e.x,r=0===i||1===i?e.y+t:e.y;return{snapDistance:Math.abs(t),transform:new Ko(n,r)}}return 1===e.type?Zp(n,e,-o,new _(2===i||3===i?-o:0,0===i||1===i?-o:0),r):void 0}(Yp(o,i),e,t.selected[0],this.thresholds.snap)}render(t,e){if(this.renderer.clear(),this.northRects=[],this.southRects=[],this.eastRects=[],this.westRects=[],1!==t.selected.length||2===e.type||0===t.bounds.length||t.bounds.length>200)return;const n=t.selected[0].bounds;this.northRects.push(n),this.southRects.push(n),this.eastRects.push(n),this.westRects.push(n),t.bounds.forEach((t=>{mf(t,n,this.northRects,this.southRects,this.eastRects,this.westRects)})),this.getEqualDistances(t.selected[0],e,this.thresholds.render).forEach((t=>{this.renderEqualDistances(t)}))}end(){this.renderer.clear(),this.northRects=[],this.southRects=[],this.eastRects=[],this.westRects=[]}getEqualDistances(t,e,n){const r=[],[i,o]=function(t,e){let n=!0,r=!0;if(0===e.type)return[n,r];if(1===e.type){const{originX:i,originY:o}=e;if(0===i&&0===o)return[!1,!1];switch(B(t.current.rot)){case 0:case 180:n=0!==i,r=0!==o;break;case 90:case 270:n=0!==o,r=0!==i;break;default:n=!1,r=!1}}return[n,r]}(t,e);if(i){const t=wf(this.eastRects,2),e=wf(this.westRects,3),i=this.getEqualDistancesHelper(t,n),o=this.getEqualDistancesHelper(e,n);r.push(i,o);const s=[];s.push(...t,...e);const a=this.getEqualDistancesHelper(s,n);r.push(a)}if(o){const t=wf(this.northRects,0),e=wf(this.southRects,1),i=this.getEqualDistancesHelper(t,n),o=this.getEqualDistancesHelper(e,n);r.push(i,o);const s=[];s.push(...t,...e);const a=this.getEqualDistancesHelper(s,n);r.push(a)}return r}renderEqualDistances(t){t.forEach((t=>{this.renderer.render(t)}))}getEqualDistancesHelper(t,e){if(t.length<=1)return[];const n=t[0],r=[];return t.forEach((t=>{t.shape===n.shape&&t.direction===n.direction||t.lightSet.forEach((i=>{n.lightSet.forEach((o=>{if(function(t,e,n){return!(void 0===t.shape||void 0===e.shape||-1===t.distanceStartPoint||-1===e.distanceStartPoint||t.distance<=0||e.distance<=0||t.distanceStartPoint===e.distanceStartPoint)&&(t.distance-n<=e.distance&&e.distance<=t.distance+n)}(i,o,e)){const e=o.distance-i.distance,s=new gf(n.shape,o.distanceStartPoint,t.shape,i.distanceStartPoint,i.distance,e,n.direction,t.direction);r.push(s)}}))}))})),r}}function vf(t,e,n){if(void 0===t||void 0===e)return;const r=e[1],i=void 0!==r?Qp(e,(e=>function(t,e,n,r){switch(r){case 2:return function(t,e,n){return(e.left<n.right?e.right:e.left)>=(t.left<n.right?t.right:t.left)}(t,e,n);case 3:return function(t,e,n){return(e.right>n.left?e.left:e.right)<=(t.right>n.left?t.left:t.right)}(t,e,n);case 0:return function(t,e,n){return(e.bottom>n.top?e.top:e.bottom)<=(t.bottom>n.top?t.top:t.bottom)}(t,e,n);case 1:return function(t,e,n){return(e.top<n.bottom?e.bottom:e.top)>=(t.top<n.bottom?t.bottom:t.top)}(t,e,n);default:b(r)}}(e,t,r,n))):1;e.splice(i,0,t)}function mf(t,e,n,r,i,o){rf(t,e)?t.right>e.right?vf(t,i,2):t.left<e.left&&vf(t,o,3):nf(t,e)&&(t.top<e.top?vf(t,n,0):t.bottom>e.bottom&&vf(t,r,1))}function wf(t,e){const n=t[0];return t.map(((r,i)=>function(t,e,n,r,i){const o=[new ff(Of(e,t,r),kf(e,t,r),-1,-1)];for(let t=i+1;t<n.length;t+=1){const i=n[t];i!==e&&bf(e,i,o,r)}return new yf(e,o,r)}(n,r,t,e,i)))}function bf(t,e,n,r){for(let i=0;i<n.length;i+=1){const o=n[i];if(void 0===o.shape&&-1===o.distance&&o.lightBoundsEnd>o.lightBoundsBegin){const o=Pf(t,e,r);Cf(t,e,n,i,r,o),Af(t,e,n,i,r,o),jf(t,e,n,i,r,o),Tf(t,e,n,i,r,o)}}}function Pf(t,e,n){let r=-1;switch(n){case 0:e.bottom>t.top&&e.top<=t.top&&(r=e.top),e.bottom<=t.top&&(r=e.bottom);break;case 1:e.top<t.bottom&&e.bottom>=t.bottom&&(r=e.bottom),e.top>=t.bottom&&(r=e.top);break;case 2:e.right>=t.right&&e.left<t.right&&(r=e.right),e.left>=t.right&&(r=e.left);break;case 3:e.right>t.left&&e.left<=t.left&&(r=e.left),e.right<=t.left&&(r=e.right);break;default:b(n)}return r}function Cf(t,e,n,r,i,o){const s=n[r];switch(i){case 0:case 1:if(Sf(s.lightBoundsBegin,s.lightBoundsEnd,e.left,e.right)){const a=new ff(s.lightBoundsBegin,e.right,0===i?t.top-o:o-t.bottom,o,e);n.push(a),n[r].lightBoundsBegin=e.right}break;case 2:case 3:if(Sf(s.lightBoundsBegin,s.lightBoundsEnd,e.top,e.bottom)){const a=new ff(s.lightBoundsBegin,e.bottom,2===i?o-t.right:t.left-o,o,e);n.push(a),n[r].lightBoundsBegin=e.bottom}break;default:b(i)}}function Af(t,e,n,r,i,o){const s=n[r];switch(i){case 0:case 1:if(Rf(s.lightBoundsBegin,s.lightBoundsEnd,e.left,e.right)){const a=new ff(e.left,s.lightBoundsEnd,0===i?t.top-o:o-t.bottom,o,e);n.push(a),n[r].lightBoundsEnd=e.left}break;case 2:case 3:if(Rf(s.lightBoundsBegin,s.lightBoundsEnd,e.top,e.bottom)){const a=new ff(e.top,s.lightBoundsEnd,2===i?o-t.right:t.left-o,o,e);n.push(a),n[r].lightBoundsEnd=e.top}break;default:b(i)}}function jf(t,e,n,r,i,o){const s=n[r];switch(i){case 0:case 1:if(Ef(s.lightBoundsBegin,s.lightBoundsEnd,e.left,e.right)){const a=new ff(e.left,e.right,0===i?t.top-o:o-t.bottom,o,e),c=new ff(e.right,s.lightBoundsEnd,-1,-1,void 0);n.push(a,c),n[r].lightBoundsEnd=e.left}break;case 2:case 3:if(Ef(s.lightBoundsBegin,s.lightBoundsEnd,e.top,e.bottom)){const a=new ff(e.top,e.bottom,2===i?o-t.right:t.left-o,o,e),c=new ff(e.bottom,s.lightBoundsEnd,-1,-1,void 0);n.push(a,c),n[r].lightBoundsEnd=e.top}break;default:b(i)}}function Tf(t,e,n,r,i,o){const s=n[r];switch(i){case 0:case 1:Mf(s.lightBoundsBegin,s.lightBoundsEnd,e.left,e.right)&&(n[r].shape=e,n[r].distance=0===i?t.top-o:o-t.bottom,n[r].distanceStartPoint=o);break;case 2:case 3:Mf(s.lightBoundsBegin,s.lightBoundsEnd,e.top,e.bottom)&&(n[r].shape=e,n[r].distance=2===i?o-t.right:t.left-o,n[r].distanceStartPoint=o);break;default:b(i)}}function Sf(t,e,n,r){return r>=t&&r<=e&&n<=t}function Rf(t,e,n,r){return n>=t&&n<=e&&r>=e}function Ef(t,e,n,r){return n>t&&n<e&&r<e&&r>t}function Mf(t,e,n,r){return n<t&&r>e}function Of(t,e,n){switch(n){case 0:case 1:return Math.max(t.left,e.left);default:return Math.max(t.top,e.top)}}function kf(t,e,n){switch(n){case 0:case 1:return Math.min(t.right,e.right);default:return Math.min(t.bottom,e.bottom)}}function If(t,e,n){let r=0,i=0,o=0,s=0;switch(n){case 2:r=e,o=t.bottom+10,i=t.right,s=t.bottom+10;break;case 3:r=t.left,o=t.bottom+10,i=e,s=t.bottom+10;break;case 0:r=t.left-10,o=e,i=t.left-10,s=t.top;break;case 1:r=t.left-10,o=t.bottom,i=t.left-10,s=e;break;default:b(n)}return[r,i,o,s]}function Bf(t){return t.type===class{}}function _f(t,e){return function(t,e){const n=Xi(t),r=new _(n.left+n.width()/2,n.top+n.height()/2),i=I(t.rot),o=io(-r.x,-r.y).scale(t.flip.x?-1:1,t.flip.y?-1:1).rotate(i).translate(r.x,r.y);return e.multiply(o),e}(t,function(t,e){switch(e){case 0:return new _(t.pos.x,t.pos.y);case 1:return new _(t.pos.x+t.size.width/2,t.pos.y);case 2:return new _(t.pos.x+t.size.width,t.pos.y);case 3:return new _(t.pos.x,t.pos.y+t.size.height/2);case 4:return new _(t.pos.x+t.size.width/2,t.pos.y+t.size.height/2);case 5:return new _(t.pos.x+t.size.width,t.pos.y+t.size.height/2);case 6:return new _(t.pos.x,t.pos.y+t.size.height);case 7:return new _(t.pos.x+t.size.width/2,t.pos.y+t.size.height);case 8:return new _(t.pos.x+t.size.width,t.pos.y+t.size.height);default:b(e)}}(t,e))}var Df;function Ff(t,e,n){let r=Math.abs(e.x-t.x),i=Math.abs(e.y-t.y);r=0===r?1:r,i=0===i?1:i;const o=(t.x+e.x)/2,s=(t.y+e.y)/2,a=t.x>e.x,c=t.y>e.y;return(null!=n?n:i>r)?new Dt(new Bt(o-i/2,s-r/2),new _t(i,r),new It(c,!a),90):new Dt(new Bt(o-r/2,s-i/2),new _t(r,i),new It(a,c))}!function(t){t[t.Right=0]="Right",t[t.Down=1]="Down",t[t.Left=2]="Left",t[t.Up=3]="Up"}(Df||(Df={}));const Nf=30,Uf=1e5;function Lf(t,e,n,r,i,o,s){switch(t){case Df.Right:return s(Ff(e,n,!1),e,n,Xi(r),Xi(i),o);case Df.Down:return s(Ff(e,n,!0),new _(e.y,-e.x),new _(n.y,-n.x),Vf(r),Vf(i),o);case Df.Left:return s(Ff(e,n,!1),new _(-e.x,-e.y),new _(-n.x,-n.y),Wf(r),Wf(i),o);case Df.Up:return s(Ff(e,n,!0),new _(-e.y,e.x),new _(-n.y,n.x),Gf(r),Gf(i),o);default:b(t)}}function qf(t,e,n,r,i,o){if(e.x<n.x)return{transform:t,connectorType:o?97:101,adjustValues:[["adj1",5e4]]};const s=Nf/t.size.width*Uf;let a,c;if(r.bottom<i.top)a=(i.top+r.bottom)/2-e.y,c=a/t.size.height*Uf;else if(i.bottom<r.top)a=e.y-(r.top+i.bottom)/2,c=a/t.size.height*Uf;else if(e.y<n.y)a=Math.max(r.bottom,i.bottom)+Nf-Math.min(e.y,n.y),c=a/t.size.height*Uf;else{const o=Math.min(r.top,i.top)-Nf;a=Math.max(e.y,n.y)-o,c=a/t.size.height*Uf}return{transform:t,connectorType:o?99:103,adjustValues:[["adj1",-s],["adj2",c],["adj3",Uf+s]]}}function zf(t,e,n,r,i,o){let s,a,c=Nf/t.size.width*Uf,h=Nf/t.size.height*Uf;return e.x<=n.x&&e.y<=n.y?{transform:t,connectorType:o?96:100,adjustValues:[]}:(e.x<=i.left?(s=(i.left+r.right)/2-e.x,c=s/t.size.width*Uf,h=Uf+h):r.bottom<=n.y?(c=-c,a=(i.top+r.bottom)/2-e.y,h=a/t.size.height*Uf):e.x<=i.right?(c=(i.right+Nf-e.x)/t.size.width*Uf,c=e.x<=n.x?c:-c,h=Uf+h):r.top<=n.y?(c=-c,h=(e.y+Nf-r.top)/t.size.height*Uf,h=e.y<=n.y?-h:h):(c=-c,h=Uf+h),{transform:t,connectorType:o?98:102,adjustValues:[["adj1",c],["adj2",h]]})}function $f(t,e,n,r,i,o){const s=Nf/t.size.width*Uf;let a,c,h;return r.right<i.left&&e.y<i.bottom&&i.top<e.y?(a=(i.left-r.right)/(2*t.size.width)*Uf,c=(n.y<e.y?i.bottom-e.y:e.y-i.top)+Nf,h=c/t.size.height*Uf,{transform:t,connectorType:o?99:103,adjustValues:[["adj1",a],["adj2",-h],["adj3",Uf+s]]}):i.right<r.left&&r.top<n.y&&n.y<r.bottom?(a=(r.left-i.right)/(2*t.size.width)*Uf,c=(n.x<e.x?e.y-r.top:r.bottom-e.y)+Nf,h=c/t.size.height*Uf,{transform:t,connectorType:o?99:103,adjustValues:[["adj1",-s],["adj2",h],["adj3",Uf-a]]}):{transform:t,connectorType:o?97:101,adjustValues:[["adj1",n.x<e.x?-s:Uf+s]]}}function Hf(t,e,n,r,i,o){let s,a,c=Nf/t.size.width*Uf,h=Nf/t.size.height*Uf;return e.x<=n.x&&n.y<=e.y?{transform:t,connectorType:o?96:100,adjustValues:[]}:(e.x<=i.left?(s=(i.left+r.right)/2-e.x,c=s/t.size.width*Uf,h=Uf+h):n.y<=r.top?(c=-c,a=e.y-(i.bottom+r.top)/2,h=a/t.size.height*Uf):e.x<=i.right?(c=(i.right+Nf-e.x)/t.size.width*Uf,c=e.x<=n.x?c:-c,h=Uf+h):n.y<=r.bottom?(c=-c,h=(r.bottom+Nf-e.y)/t.size.height*Uf,h=e.y<=n.y?h:-h):(c=-c,h=Uf+h),{transform:t,connectorType:o?98:102,adjustValues:[["adj1",c],["adj2",h]]})}function Vf(t){return new Ji(t.pos.y,-t.pos.x-t.size.width,t.pos.y+t.size.height,-t.pos.x)}function Wf(t){return new Ji(-t.pos.x-t.size.width,-t.pos.y-t.size.height,-t.pos.x,-t.pos.y)}function Gf(t){return new Ji(-t.pos.y-t.size.height,t.pos.x,-t.pos.y,t.pos.x+t.size.width)}function Kf(t,e,n,r,i){if(!t.connected)return{connectionPoint:t};const o=t.connectableId,s=e.get(o);let a,c,h;void 0!==s&&(a=s[t.connectionIndex]);for(const t of r)t.id===o&&(c=t);return void 0!==c&&(h=n(c)),{connectionPoint:t,connectablePoint:a,transform:h,selected:i.includes(o)}}class Qf extends mt{createConnectablePoints(t,e){const n=this.get(t.type);return void 0===n?[]:n(t,e)}}function Yf(t,e){V(t)?t.children.forEach((t=>{Yf(t,e)})):e(t)}class Jf{constructor(t,e){this.bounds=[...t.graphic.model].filter((e=>!t.hasGraphic(e))).map((t=>ac(e(t)))),this.selected=[...t].map((t=>{const n=e(t);return{original:n,current:n,bounds:ac(n)}}))}updateSelected(t){for(const e of this.selected){const n=D(e.original,t,!1);e.current=n,e.bounds=ac(n)}}}class Xf{constructor(t,e,n){this.getTransform=t=>this.presenter.getPresenters(t)[1].transform,this.selection=t,this.presenter=e,this.guides=n}begin(t){if(0!==this.guides.length){this.bounds=new Jf(this.selection,this.getTransform);for(const e of this.guides)t.presenter.addPreview(e.begin(this.bounds))}}update(t){if(0===this.guides.length)return t;this.bounds.updateSelected(t);const e=Yp(this.guides.map((e=>e.snap(this.bounds,t))).filter(Jp),(t=>t.snapDistance));void 0!==e&&this.bounds.updateSelected(e.transform);const n=void 0!==e?e.transform:t;for(const t of this.guides)t.render(this.bounds,n);return n}end(){if(0!==this.guides.length)for(const t of this.guides)t.end()}}class Zf{constructor(t,e,n=new Qf([]),r=[]){this.graphics=new Map,this.selections=new Map,this.connectors=new Map,this.connectables=new Map,this.selection=t,this.presenter=e,this.connectablePointsCreator=n,this.guides=new Xf(t,e,r)}beginEdit(t,e){t.presenter.beginPreview(e);for(const t of this.selection.graphic.model){const e=this.presenter.getPresenters(t),n=e[1];this.graphics.set(t,n),this.selection.hasGraphic(t)&&this.selections.set(t,n),this.selection.hasGraphic(t)&&!Bf(t.model)||Yf(e[0].viewModel,(e=>{this.connectables.set(e,t)})),Bf(t.model)&&this.connectors.set(t,[n,n.transform])}this.guides.begin(t)}endEdit(t,e){this.guides.end(),t.presenter.endPreview(e),this.graphics.clear(),this.selections.clear(),this.connectables.clear()}applyTransformOnGraphic(t,e){const n=this.selections.get(e);void 0!==n&&n.applyTransform(t)}applyTransform(t){const e=this.guides.update(t);return this.selections.forEach(((t,n)=>{Bf(n.model)||t.applyTransform(e)})),this.updateConnectors(e),e}hitTestConnectable(t){return this.connectables.get(t)}getConnectablePoints(t){const e=this.presenter.getPresenters(t)[1].transform;return this.connectablePointsCreator.createConnectablePoints(t.model,e)}triggerSmartGuides(t){return this.guides.update(t)}updateConnectors(t){const e=new Map;this.graphics.forEach(((t,n)=>{e.set(n.id,this.connectablePointsCreator.createConnectablePoints(n.model,t.transform))}));const n=[];this.selections.forEach(((t,e)=>{n.push(e.id)})),this.connectors.forEach((([r,i],o)=>{const s=function(t,e,n,r,i,o,s){const a=r.connectionPoint,c=i.connectionPoint,h=a.connected&&void 0!==r.selected&&r.selected,l=c.connected&&void 0!==i.selected&&i.selected;if(!n&&!h&&!l)return{};const d=function(t,e,n,r){var i,o;const s=t.connectablePoint,a=null!==(i=null==s?void 0:s.point)&&void 0!==i?i:_f(n,0),c=e.connectablePoint,h=null!==(o=null==c?void 0:c.point)&&void 0!==o?o:_f(n,8),l=0===r.type?r.preset:void 0;if(t.connectionPoint.connected&&e.connectionPoint.connected&&void 0!==s&&void 0!==c&&void 0!==t.transform&&void 0!==e.transform&&void 0!==l&&95!==l&&Lt("ConnectorReroute")){const n=function(t){switch(t){case 96:case 97:case 98:case 99:return!0;default:return!1}}(l);return function(t){switch(t){case Df.Right:return Df.Left;case Df.Down:return Df.Up;case Df.Left:return Df.Right;case Df.Up:return Df.Down;default:b(t)}}(s.angle)===c.angle?Lf(s.angle,a,h,t.transform,e.transform,n,qf):s.angle===c.angle?Lf(s.angle,a,h,t.transform,e.transform,n,$f):function(t){switch(t){case Df.Right:return Df.Up;case Df.Down:return Df.Right;case Df.Left:return Df.Down;case Df.Up:return Df.Left;default:b(t)}}(s.angle)===c.angle?Lf(s.angle,a,h,t.transform,e.transform,n,zf):Lf(s.angle,a,h,t.transform,e.transform,n,Hf)}return{transform:Ff(a,h)}}(r,i,e,t);if(void 0===d.transform)return{};const u=d.transform;if(!n)return(h&&!c.connected||l&&!a.connected)&&0===(null==o?void 0:o.transform.type)?{transform:Np(e,o)}:d;const p=n&&a.connected&&!h,f=n&&c.connected&&!l;return 0===(null==o?void 0:o.transform.type)?{disconnectHead:p,disconnectTail:f,transform:Np(e,o)}:s?{}:h||l?{disconnectHead:p,disconnectTail:f,transform:u}:a.connected||c.connected||void 0===o?{}:{transform:Np(e,o)}}(o.model.geometry,i,n.includes(o.id),Kf(o.model.connectorData.head,e,(t=>{var e,n;return null!==(n=null===(e=this.graphics.get(t))||void 0===e?void 0:e.transform)&&void 0!==n?n:t.anchor.transform}),this.graphics.keys(),n),Kf(o.model.connectorData.tail,e,(t=>{var e,n;return null!==(n=null===(e=this.graphics.get(t))||void 0===e?void 0:e.transform)&&void 0!==n?n:t.anchor.transform}),this.graphics.keys(),n),new Fp(t),1===n.length);void 0!==s.transform&&r.applyTransform(od(i,s.transform)),void 0!==s.connectorType&&void 0!==s.adjustValues&&Lt("ConnectorReroute")&&Lt("ReroutePreview")&&(o.model.geometry=new Me(s.connectorType,s.adjustValues))}))}}function ty(){}class ey{constructor(t,e,n,r,i,o,s){this.dragStartPos=new Map,this.doNotUseGetOffsetFromPointerEventForDeltaCalculation=Lt("DoNotUseGetOffsetFromPointerEventForDeltaCalculation"),this.currentElementPosition=new Bt(0,0),this.onPointerDown=t=>{var e,n;if(ny(t,null===(e=this.options)||void 0===e?void 0:e.preventDefault,null===(n=this.options)||void 0===n?void 0:n.stopPropagation),null!==t.currentTarget){const e=t.currentTarget.getBoundingClientRect();this.currentElementPosition=new Bt(e.left,e.top)}const r=this.getPosition(t);this.dragStartPos.set(t.pointerId,r),function(t,e){try{t.setPointerCapture(e.pointerId)}catch(t){}}(t.currentTarget,t),zc(t,this.cursor.drag),this.dragStart(t,r)},this.onPointerMove=t=>{var e,n;ny(t,null===(e=this.options)||void 0===e?void 0:e.preventDefault,null===(n=this.options)||void 0===n?void 0:n.stopPropagation);const r=this.dragStartPos.get(t.pointerId);if(void 0===r)return zc(t,this.cursor.hover),void this.hover(t);zc(t,this.cursor.drag),this.dragMove(...ry(t,r,this.getPosition(t)))},this.onPointerUp=t=>{var e,n;ny(t,null===(e=this.options)||void 0===e?void 0:e.preventDefault,null===(n=this.options)||void 0===n?void 0:n.stopPropagation),zc(t,this.cursor.hover);const r=this.dragStartPos.get(t.pointerId);void 0!==r&&(this.dragEnd(...ry(t,r,this.getPosition(t))),this.dragStartPos.delete(t.pointerId))},this.onPointerCancel=t=>{var e,n;ny(t,null===(e=this.options)||void 0===e?void 0:e.preventDefault,null===(n=this.options)||void 0===n?void 0:n.stopPropagation),0!==this.dragStartPos.size&&(this.dragCancel(t),this.dragStartPos.delete(t.pointerId))},this.cursor=t,this.hover=e,this.dragStart=n,this.dragMove=r,this.dragEnd=i,this.dragCancel=o,this.options=s}attach(t){t.pointerdown.value.on(this.onPointerDown),t.pointermove.value.on(this.onPointerMove),t.pointerup.value.on(this.onPointerUp),t.pointercancel.value.on(this.onPointerCancel)}detach(t){t.pointerdown.value.off(this.onPointerDown),t.pointermove.value.off(this.onPointerMove),t.pointerup.value.off(this.onPointerUp),t.pointercancel.value.off(this.onPointerCancel)}getPosition(t){return this.doNotUseGetOffsetFromPointerEventForDeltaCalculation?Co().getRelativePosition(new _(t.clientX-this.currentElementPosition.x,t.clientY-this.currentElementPosition.y)):function(t){if(null!==t.currentTarget){const e=t.currentTarget.getBoundingClientRect();return Co().getRelativePosition(new _(t.clientX-e.left,t.clientY-e.top))}return new _(0,0)}(t)}}function ny(t,e,n){e&&t.preventDefault(),n&&t.stopPropagation()}function ry(t,e,n){return[new _(n.x-e.x,n.y-e.y),t,n]}class iy{}class oy{constructor(t,e,n={},r){this.type=iy,this.move={allowed:!0,started:!1,previewed:!1,dragging:!1},this.cleanups=[],this.onDragStart=t=>{var e,n;this.move.dragging=!0;const r=!0!==(null===(e=this.graphic.anchor.locks)||void 0===e?void 0:e.select);this.move.allowed=r&&!0!==(null===(n=this.graphic.anchor.locks)||void 0===n?void 0:n.move)&&0===t.button,r&&!this.options.noSelectOnPointerDown&&(t.ctrlKey||t.shiftKey?this.editContext.actionInvoker.invoke(new tp(this.graphic)):this.editContext.actionInvoker.invoke(new mo([this.graphic]))),void 0!==this.options.onPointerDown&&this.options.onPointerDown(t,this.context),this.move.started=!1,this.move.previewed=!1},this.onDragMove=t=>{var e;if(this.move.dragging&&this.move.allowed){if(!this.move.started){const n=null!==(e=this.options.dragSlop)&&void 0!==e?e:.5;(Math.abs(t.x)>n||Math.abs(t.y)>n)&&(this.move.started=!0,void 0!==this.editContext.previewInfo&&(this.editContext.previewInfo.dragEditor.beginEdit(this.editContext.previewInfo,this),this.move.previewed=!0,void 0!==this.previews&&this.editContext.previewInfo.presenter.addPreviewPresenter(...this.previews)))}this.move.previewed&&void 0!==this.editContext.previewInfo&&this.editContext.previewInfo.dragEditor.applyTransform(new Ko(t.x,t.y))}},this.onDragEnd=(t,e)=>{if(!this.move.dragging)return;if(this.move.dragging=!1,this.cleanup(),!this.move.started)return void(void 0!==this.options.onPointerUpMoveNotStarted&&this.options.onPointerUpMoveNotStarted(e,this.context));let n=new Ko(t.x,t.y);this.move.previewed&&void 0!==this.editContext.previewInfo&&(n=this.editContext.previewInfo.dragEditor.applyTransform(n),this.editContext.previewInfo.dragEditor.endEdit(this.editContext.previewInfo,this)),this.editContext.actionInvoker.invoke(new Fp(n))},this.onDragCancel=()=>{this.move.dragging&&(this.move.dragging=!1,this.cleanup(),this.move.started&&this.move.previewed&&void 0!==this.editContext.previewInfo&&this.editContext.previewInfo.dragEditor.endEdit(this.editContext.previewInfo))},this.context=t,this.graphic=t.graphic,this.editContext=t.editContext,this.tracker=void 0===r?new ey(e,ty,this.onDragStart,this.onDragMove,this.onDragEnd,this.onDragCancel):new ey(e,ty,r.dragStart,r.dragMove,r.dragEnd,r.dragCancel),this.options=n}addEventListeners(t){this.tracker.attach(t.pointerEventNotifiers)}removeEventListeners(t){this.cleanups.push((()=>{this.tracker.detach(t.pointerEventNotifiers)})),this.move.dragging||this.cleanup()}setCursor(t){this.tracker.cursor=t}cleanup(){this.cleanups.forEach((t=>{t()})),this.cleanups=[]}}class sy extends mt{constructor(t,e){super(e),this.defaultEditElementCreator=t}createEditElement(t){const e=this.get(t.graphic.model.type);return void 0!==e?e(t):this.defaultEditElementCreator(t)}}function ay(t){return[new oy(t,{hover:"move",drag:"move"}),ty]}class cy{constructor(t,e,n,r){this.elements=new Map,this.updateElements=()=>{const t=this.elements;this.elements=new Map;for(const e of this.selection.graphic.model){if(this.selection.hasGraphic(e))continue;const[n,r]=this.presenter.getPresenters(e),i=t.get(e);if(void 0!==i&&i.presenter===n){t.delete(e),this.elements.set(e,i),i.update();continue}const[o,s]=this.editElementCreator.createEditElement({graphic:e,presenter:n,anchorPresenter:r,editContext:this.editContext});this.elements.set(e,new hy(o,s,n))}for(const[e,n]of t)n.teardown()},this.selection=t,this.presenter=e,this.editContext=n,this.editElementCreator=r,this.updateElements(),this.presenter.viewModelUpdated.on(this.updateElements),this.selection.selectionUpdated.on(this.updateElements)}teardown(){this.selection.selectionUpdated.off(this.updateElements),this.presenter.viewModelUpdated.off(this.updateElements);for(const[t,e]of this.elements)e.teardown()}}class hy{constructor(t,e,n){this.update=()=>{this.viewModel!==this.presenter.viewModel&&(this.element.removeEventListeners(this.viewModel),this.viewModel=this.presenter.viewModel,this.element.addEventListeners(this.viewModel))},this.element=t,this.presenter=n,this.viewModel=n.viewModel,this.elementTeardown=e,this.element.addEventListeners(this.viewModel),this.presenter.viewModelUpdated.on(this.update)}teardown(){this.presenter.viewModelUpdated.off(this.update),this.element.removeEventListeners(this.viewModel),this.elementTeardown()}}const ly="grCollSelR";class dy{constructor(e,n,r,i){this.viewModel=new H([],{nodeType:ly}),this.viewModelUpdated=new t,this.underlayPresenters=[],this.childPresenters=new Map,this.updateViewModel=()=>{const t=this.childPresenters;this.childPresenters=new Map;const e=[];for(const n of this.selection.selections){if(this.selection.graphic.model.getGraphic(n.graphic.id)!==n.graphic)continue;const r=t.get(n),[i]=this.modelPresenter.getPresenters(n.graphic);if(void 0!==r&&r.modelPresenter===i){t.delete(n),this.childPresenters.set(n,r),r.update(),e.push(r.container);continue}const o=this.createChildSelectionPresenter(n);this.childPresenters.set(n,o),e.push(o.container)}for(const[e,n]of t)n.teardown();this.viewModel.children=[...this.underlayPresenters.map((t=>t.viewModel)),...e],this.viewModelUpdated.emit()},this.selection=e,this.modelPresenter=n.modelPresenter,this.selectionPresenterCreator=n.selectionPresenterCreator,this.context=n,this.editContext=r,this.editElements=new cy(e,this.modelPresenter,r,i),this.updateViewModel(),this.selection.selectionUpdated.on(this.updateViewModel),this.modelPresenter.viewModelUpdated.on(this.updateViewModel)}teardown(){this.editElements.teardown(),this.selection.selectionUpdated.off(this.updateViewModel),this.modelPresenter.viewModelUpdated.off(this.updateViewModel);for(const[t,e]of this.childPresenters)e.teardown();this.childPresenters.clear();for(const t of this.underlayPresenters)t.viewModelUpdated.off(this.updateViewModel),t.teardown()}addUnderlayPresenter(t){this.underlayPresenters.push(t),t.viewModelUpdated.on(this.updateViewModel),this.updateViewModel()}createChildSelectionPresenter(t){const[e,n]=this.modelPresenter.getPresenters(t.graphic),r=Object.assign(Object.assign({},this.context),{anchorPresenter:n,modelPresenter:e}),i=this.selectionPresenterCreator.createSelectionPresenter(t,r,this.editContext);return new uy(e,i,this)}}class uy{constructor(t,e,n){this.onViewModelUpdated=()=>{this.update(),this.parent.viewModelUpdated.emit()},this.modelPresenter=t,this.presenter=e,this.container=new H([e.viewModel]),this.parent=n,this.presenter.viewModelUpdated.on(this.onViewModelUpdated)}update(){this.container.children=[this.presenter.viewModel]}teardown(){this.presenter.viewModelUpdated.off(this.onViewModelUpdated),this.presenter.teardown()}}function py(t=(()=>new sy(ay,[]))()){return(e,n,r)=>new dy(e,n,r,t)}class fy{constructor(t=[]){this.hitTestableRenderTargets=[],this.hitTestableRenderTargets=t}hitTest(t){let e;return this.hitTestableRenderTargets.forEach((n=>{void 0===e&&(e=n.hitTest(t))})),e}}class yy{}class gy{constructor(){this.type=yy,this.pointerEventNotifiers=z(),this.hitTestSlop=0,this.elements=[],this.hitTestElements=[]}teardown(){}}function xy(t,e){for(const n of t.hitTestElements)n.style.pointerEvents="painted",e.hitTestMap.setViewModel(n,t);e.svgRoot.append(...t.elements)}class vy extends Wd{constructor(t=Xc("line")){super(t)}set x1(t){this.set("x1",`${t}`)}set x2(t){this.set("x2",`${t}`)}set y1(t){this.set("y1",`${t}`)}set y2(t){this.set("y2",`${t}`)}clone(){return new vy(this.element.cloneNode())}}class my{constructor(t,e){this.viewModel=new gy,this.highContrastModeInfo=t,this.window=null!=e?e:window}render(t){const{edge:e,source:n,target:r,horizontal:i}=t,[o,s]=[Math.min(n.min,r.min),Math.max(n.max,r.max)],[a,c]=[o-10,s+10],h=new vy;h.x1=i?a:e,h.x2=i?c:e,h.y1=i?e:a,h.y2=i?e:c,this.highContrastModeInfo.isInHighContrastMode?(h.style.fill="Highlight",h.style.stroke="Highlight"):(h.stroke="rgb(180,60,30)",h.fill="red");const l=1/this.window.devicePixelRatio;h.strokeWidth=`${l}`,h.strokeDasharray=`${4*l} ${3*l}`,h.shapeRendering="crispEdges",this.viewModel.elements.push(h.element)}clear(){this.viewModel.elements=[]}clean(){}}class wy extends Wd{constructor(t=Xc("path")){super(t)}set d(t){this.set("d",`${t}`)}clone(){return new wy(this.element.cloneNode())}}function by(t,e,n,r,i,o,s){const a=new wy;a.d=function(t,e,n,r,i){let o="",s="";return i?(o+=`M${t-3} ${n+3} L${t} ${n} L${t-3} ${n-3} L${t-3} ${n+3}`,s+=`M${e+3} ${r+3} L${e} ${r} L${e+3} ${r-3} L${e+3} ${r+3}`):(o+=`M${t-3} ${n+3} L${t} ${n} L${t+3} ${n+3} L${t-3} ${n+3}`,s+=`M${e-3} ${r-3} L${e} ${r} L${e+3} ${r-3} L${e-3} ${r-3}`),`${o} ${s}`}(t,e,n,r,i),o.isInHighContrastMode?(a.style.fill="Highlight",a.style.stroke="Highlight"):(a.stroke="rgb(180,60,30)",a.fill="red");const c=1/(null!=s?s:window).devicePixelRatio;return a.strokeWidth=`${c}`,a.shapeRendering="crispEdges",a}function Py(t,e,n,r,i,o){const s=new wy;s.d=`M${t} ${n} L${e} ${r}`,i.isInHighContrastMode?(s.style.fill="Highlight",s.style.stroke="Highlight"):(s.stroke="rgb(180,60,30)",s.fill="red");const a=1/(null!=o?o:window).devicePixelRatio;return s.strokeWidth=`${a}`,s.shapeRendering="crispEdges",s.strokeDasharray=`${4*a} ${3*a}`,s}class Cy{constructor(t,e){this.viewModel=new gy,this.highContrastModeInfo=t,this.window=null!=e?e:window}render(t,e){const n=e.center(),r=t?e.right:n.x,i=t?e.left:n.x,o=t?n.y:e.top,s=t?n.y:e.bottom,a=by(r,i,o,s,t,this.highContrastModeInfo,this.window),c=Py(r,i,o,s,this.highContrastModeInfo,this.window);this.viewModel.elements.push(c.element,a.element)}clear(){this.viewModel.elements=[]}}class Ay{constructor(t,e){this.viewModel=new gy,this.highContrastModeInfo=t,this.window=null!=e?e:window}render(t){const[e,n,r,i]=If(t.sourceDistanceShape,t.sourceDistanceStartPoint,t.sourceDirection),[o,s,a,c]=If(t.matchedDistanceShape,t.matchedDistanceStartPoint,t.neighborDirection),h=by(e,n,r,i,2===t.sourceDirection||3===t.sourceDirection,this.highContrastModeInfo,this.window),l=by(o,s,a,c,2===t.sourceDirection||3===t.sourceDirection,this.highContrastModeInfo,this.window),d=Py(e,n,r,i,this.highContrastModeInfo,this.window),u=Py(o,s,a,c,this.highContrastModeInfo,this.window);this.viewModel.elements.push(d.element,h.element,u.element,l.element)}clear(){this.viewModel.elements=[]}}function jy(t,e,n,r){const[i,o,s,a]=[t,e,n,r],c=new _(o.x-i.x,o.y-i.y),h=new _(s.x-a.x,s.y-a.y),l=new _(s.x-i.x,s.y-i.y),d=function(t,e){const n=function(t){const[e,n,r,i]=t,o=e*i-n*r;if(!(Math.abs(o)<Number.EPSILON))return[i/o,-n/o,-r/o,e/o]}(t);if(void 0!==n)return function(t,e){const[n,r,i,o]=t,[s,a]=e;return[n*s+r*a,i*s+o*a]}(n,e)}([c.x,h.x,c.y,h.y],[l.x,l.y]);if(void 0===d)return;const[u,p]=d;return{rayScale:u,segmentScale:p,intersection:new _(i.x+u*c.x,i.y+u*c.y),rayIntersectsSegmentOnScale:u>=0&&p>=0&&p<=1}}function Ty(t,e){const n=e.croppedTransform,r=e.uncroppedTransform;let i,o;if(void 0===e.uncroppedRelativeRotation||0===e.uncroppedRelativeRotation)i=n.size.width*t,o=n.size.height*t;else{const e=n.clone();e.rot-=r.rot;const s=ac(e);i=s.width()*t,o=s.height()*t}const s=i/r.size.width,a=o/r.size.height;return Math.max(s,a)}function Sy(t,e,n,r,i,o,s){const a=n*t,c=r*e;let h=Math.abs(i-o)*e-a/2,l=Math.abs(s-i)*e-a/2;return l=h<0?l+h:l,h=l<0?h+l:h,{min:Math.max(h/c,0),max:Math.max(l/c,0)}}function Ry(t,e,n,r,i,o,s){let{min:a,max:c}=t;const h=Ey(e,n),l=Math.abs(a-i),d=Math.abs(c-o);return function(t,e,n){return t?e>0&&n.topLeft||e<0&&n.bottomLeft:e>0&&n.topRight||e<0&&n.topLeft}(s,r,h)&&(a=i,c-=l),function(t,e,n){return t?e>0&&n.bottomRight||e<0&&n.topRight:e>0&&n.bottomLeft||e<0&&n.bottomRight}(s,r,h)&&(c=o,a-=d),{min:Math.max(a,0),max:Math.max(c,0)}}function Ey(t,e){const[n,r,i,o]=_l([new _(t.pos.x,t.pos.y),new _(t.pos.x+t.size.width,t.pos.y),new _(t.pos.x,t.pos.y+t.size.height),new _(t.pos.x+t.size.width,t.pos.y+t.size.height)],t.rot,t.getCenter());return{topLeft:Ul(n,e),topRight:Ul(r,e),bottomLeft:Ul(i,e),bottomRight:Ul(o,e)}}function My(t,e,n){const r=Nl(t,!1),i=Nl(e,!1),o=e.getCenter(),s=function(t,e,n){const r=function(t,e,n){const r=null!=n?n:t.center();if(!e.contains(r))return;const i=ql(t),o=ql(e);let s=Number.MAX_VALUE;return i.forEach((t=>{for(let e=0;e<o.length;++e){const n=jy(r,t,o[e],o[(e+1)%4]);void 0!==n&&n.rayIntersectsSegmentOnScale&&(s=Math.min(s,n.rayScale))}})),s===Number.MAX_VALUE?void 0:s}(e,t,n);return void 0===r?void 0:1/r}(r,i,o),a=$l(t,e);if(void 0===s||s<=0)return a;r.scaleAbout(s,s,o);const c=$l(Dl(r.getUnRotatedAtCenterRect(),t.rot,t.getCenter(),t.flip.clone()),e);return void 0!==n&&(c.left<n.left||c.right<n.right||c.top<n.top||c.bottom<n.bottom)?n:c}function Oy(t,e,n){const r=e.clone();r.rot-=t.rot;const i=ac(r);return Dl(n(Nl(t,!1).getUnrotatedRectAtPoint(e.getCenter()),i),t.rot,e.getCenter(),t.flip)}class ky{}class Iy{constructor(t,e,n){this.type=ky,this.move={allowed:!0,started:!1,previewed:!1,dragging:!1},this.onDragStart=t=>{var e,n;this.move.allowed=!0!==(null===(e=this.graphic.anchor.locks)||void 0===e?void 0:e.select)&&!0!==(null===(n=this.graphic.anchor.locks)||void 0===n?void 0:n.move)&&0===t.button,this.move.allowed&&(this.context.cropState.scenario=4,this.move.dragging=!0,this.move.started=!1,this.move.previewed=!1,this.onDragStartTransform=this.context.cropTransformChangeTracker.uncroppedTransform.clone())},this.onDragMove=t=>{this.move.dragging&&this.move.allowed&&(this.move.started||(Math.abs(t.x)>.5||Math.abs(t.y)>.5)&&(this.move.started=!0,void 0!==this.editContext.previewInfo&&(this.editContext.previewInfo.dragEditor.beginEdit(this.editContext.previewInfo,this),this.move.previewed=!0,void 0!==this.previews&&this.editContext.previewInfo.presenter.addPreviewPresenter(...this.previews))),this.move.previewed&&void 0!==this.editContext.previewInfo&&this.context.cropTransformChangeTracker.updateUncroppedTransformWithSrcRect(this.getNewSrcRect(t),"Dragging"))},this.onDragEnd=t=>{this.move.dragging&&(this.move.dragging=!1,this.move.started&&(this.context.cropState.scenario=1,this.move.previewed&&void 0!==this.editContext.previewInfo&&(this.editContext.previewInfo.dragEditor.endEdit(this.editContext.previewInfo,this),this.context.cropTransformChangeTracker.updateUncroppedTransformWithSrcRect(this.getNewSrcRect(t),"DragEnd"))))},this.onDragCancel=()=>{this.move.dragging&&(this.move.dragging=!1,this.move.started&&(this.context.cropState.scenario=1,this.move.previewed&&void 0!==this.editContext.previewInfo&&this.editContext.previewInfo.dragEditor.endEdit(this.editContext.previewInfo)))},this.context=t,this.graphic=t.graphic,this.editContext=t.editContext,this.tracker=new ey(e,ty,this.onDragStart,this.onDragMove,this.onDragEnd,this.onDragCancel,n)}addEventListeners(t){this.tracker.attach(t.pointerEventNotifiers)}removeEventListeners(t){this.tracker.detach(t.pointerEventNotifiers)}setCursor(t){this.tracker.cursor=t}getNewSrcRect(t){const e=this.context.cropTransformChangeTracker.croppedTransform,n=this.onDragStartTransform,r=D(n,new Ko(t.x,t.y),!1),i=$l(r,e);if(this.context.allowOutCrop)return i;if(Lt("CropDisableNewMoveConstraint")){const t=$l(n,e),r=t.left+t.right,o=t.top+t.bottom,s=Ic(i.left,0,r),a=Ic(i.right,0,r-s),c=Ic(i.top,0,o),h=Ic(i.bottom,0,o-c);return new zl(s,c,a,h)}return $l(Oy(r,o=e,((t,e)=>function(t,e){const n=e.left-t.left,r=e.top-t.top,i=t.right-e.right,o=t.bottom-e.bottom,s=Math.min(n,i,0),a=Math.min(r,o,0),c=n<0?1:i<0?-1:0,h=r<0?1:o<0?-1:0,l=t.clone();return l.translate(s*c,a*h),l}(t,e))),o);var o}}function By(t){if(100===t)return{x:0,y:0};switch(t){case 0:return{x:0,y:-1};case 1:return{x:1,y:-1};case 2:return{x:1,y:0};case 3:return{x:1,y:1};case 4:return{x:0,y:1};case 5:return{x:-1,y:1};case 6:return{x:-1,y:0};case 7:return{x:-1,y:-1};default:b(t)}}function _y(t,e){return function(t){switch(t){case 7:case 3:return"nw-resize";case 1:case 5:return"ne-resize";case 0:case 4:return"ns-resize";case 6:case 2:return"ew-resize";default:b(t)}}((t+Math.round(B(e.rot)/45))%8)}class Dy{}class Fy{constructor(t,e,n,r=!0,i){var o;this.type=Dy,this.onDragStart=t=>{var e;this.resize.allowed=!0!==(null===(e=this.anchor.locks)||void 0===e?void 0:e.resize)&&(this.resize.rightClickAllowed||0===t.button),this.resize.allowed&&(this.context.cropState.scenario=3,this.onDragStartTransform=this.context.cropTransformChangeTracker.uncroppedTransform.clone(),void 0!==this.editContext.previewInfo&&(this.editContext.previewInfo.dragEditor.beginEdit(this.editContext.previewInfo,this),void 0!==this.previews&&this.editContext.previewInfo.presenter.addPreviewPresenter(...this.previews)))},this.onDragMove=(t,e,n)=>{if(this.resize.allowed&&void 0!==this.editContext.previewInfo&&(this.context.cropTransformChangeTracker.updateUncroppedTransformWithSrcRect(this.getNewSrcRect(t,e.shiftKey),"Dragging"),void 0!==this.toolTipManager)){const{width:t,height:e}=this.context.cropTransformChangeTracker.uncroppedTransform.size;this.toolTipManager.showResizeToolTip(n,t,e)}},this.onDragEnd=(t,e)=>{var n;this.resize.allowed&&(this.context.cropState.scenario=1,void 0!==this.editContext.previewInfo&&(this.editContext.previewInfo.dragEditor.endEdit(this.editContext.previewInfo,this),this.context.cropTransformChangeTracker.updateUncroppedTransformWithSrcRect(this.getNewSrcRect(t,e.shiftKey),"DragEnd"),null===(n=this.toolTipManager)||void 0===n||n.hideResizeToolTip()))},this.onDragCancel=()=>{var t;this.resize.allowed&&(this.context.cropState.scenario=1,void 0!==this.editContext.previewInfo&&(this.editContext.previewInfo.dragEditor.endEdit(this.editContext.previewInfo),null===(t=this.toolTipManager)||void 0===t||t.hideResizeToolTip()))},this.context=t,this.anchor=t.graphic.anchor,this.editContext=t.editContext,this.toolTipManager=null===(o=t.editContext.previewInfo)||void 0===o?void 0:o.resizeToolTipManager,this.handleKind=e,this.tracker=new ey(n,ty,this.onDragStart,this.onDragMove,this.onDragEnd,this.onDragCancel,i),this.resize={rightClickAllowed:r,allowed:!0}}addEventListeners(t){this.tracker.attach(t.pointerEventNotifiers)}removeEventListeners(t){this.tracker.detach(t.pointerEventNotifiers)}setCursor(t){this.tracker.cursor=t}getMinScaleSize(){return new _t(5,5)}getScaleTransform(t,e){var n;const r=this.onDragStartTransform.size.width,i=this.onDragStartTransform.size.height,o=By(this.handleKind),{width:s,height:a}=this.getMinScaleSize(),c=Math.max(r+t.x*o.x,s),h=Math.max(i+t.y*o.y,a);let[l,d]=[(0===c?1:c)/r,(0===h?1:h)/i];const u=e||!0===(null===(n=this.anchor.locks)||void 0===n?void 0:n.aspectRatio);if(u&&0!==o.x&&0!==o.y){const t=Math.max(Math.abs(l),Math.abs(d));l=Math.sign(l)*t,d=Math.sign(d)*t}return new Qo(l,d,o.x,o.y,u)}getNewSrcRect(t,e){var n;t.rotate(-this.onDragStartTransform.rot);const r=D(this.onDragStartTransform,this.getScaleTransform(t,e),!1),i=this.context.cropTransformChangeTracker.croppedTransform;return this.context.allowOutCrop?$l(r,i):function(t,e,n,r,i){const o=Oy(t,e,((t,e)=>function(t,e,n,r,i){const o=Math.min(t.left,e.left),s=Math.min(t.top,e.top),a=Math.max(t.right,e.right),c=Math.max(t.bottom,e.bottom);let h=(a-o)/Math.abs(t.width()),l=(c-s)/Math.abs(t.height());n&&(h=l=Math.max(h,l)),h=0===i.x?1:h,l=0===i.y?1:l;const d=t.clone(),u=function(t,e){const n=t.width(),r=t.height(),i=t.center();return new _(i.x+e.x*n/2,i.y+e.y*r/2)}(t,r);return d.scaleAbout(h,l,u),d}(t,e,n,r,i)));return $l(o,e)}(r,i,e||!0===(null===(n=this.anchor.locks)||void 0===n?void 0:n.aspectRatio),function(t){if(100===t)return{x:0,y:0};switch(t){case 0:return{x:0,y:1};case 1:return{x:-1,y:1};case 2:return{x:-1,y:0};case 3:return{x:-1,y:-1};case 4:return{x:0,y:-1};case 5:return{x:1,y:-1};case 6:return{x:1,y:0};case 7:return{x:1,y:1};default:b(t)}}(this.handleKind),By(this.handleKind))}}class Ny{}class Uy{constructor(t,e){this.type=Ny,this.context=t,this.tracker=new ey(e,ty,ty,ty,ty,ty)}setCursor(t){this.tracker.cursor=t}addEventListeners(t){this.tracker.attach(t.pointerEventNotifiers)}removeEventListeners(t){this.tracker.detach(t.pointerEventNotifiers)}}class Ly{constructor(e,n,r,i,o=ty){var s;this.viewModelUpdated=new t,this.updateViewModel=()=>{this.update(this.viewModel,this.anchorPresenter.transform,this.editElement),this.viewModelUpdated.emit()},this.viewModel=e,this.anchorPresenter=n,this.editElement=i,this.update=r,this._teardown=o,this.updateViewModel(),null===(s=this.editElement)||void 0===s||s.addEventListeners(this.viewModel),this.anchorPresenter.transformUpdated.on(this.updateViewModel)}teardown(){this.anchorPresenter.transformUpdated.off(this.updateViewModel),void 0!==this.editElement&&(this.editElement.removeEventListeners(this.viewModel),this.editElement.previews=void 0),this._teardown(this.editElement),this.viewModel.teardown()}}const qy="#FFFFFF",zy="#616161";class $y{constructor(e,n,r,i,o=ty,s,a){var c,h;this.viewModelUpdated=new t,this.supportsKeyboardActivation=!1,this.updateViewModel=()=>{this.update(this.viewModel,this.cropTransformChangeTracker.croppedTransform,this.editElement,this.isKeyboardActive),this.viewModelUpdated.emit()},this.viewModel=e,this.cropTransformChangeTracker=n,this.editElement=i,this.update=r,this.cropState=s,this.supportsKeyboardActivation=a,this.updateViewModel(),null===(c=this.editElement)||void 0===c||c.addEventListeners(this.viewModel),this.cropTransformChangeTracker.cropTransformUpdated.on(this.updateViewModel),null===(h=this.cropState)||void 0===h||h.scenarioUpdated.on(this.updateViewModel),this._teardown=o}set keyboardActive(t){if(this.keyboardActive!==t){this.isKeyboardActive=t;const e=this.viewModel.accessibleNode;void 0!==e&&(e.shouldTakeFocus=!0===t),this.updateViewModel()}}get keyboardActive(){return this.isKeyboardActive}handleKeyboardEvent(t){var e;return this.isKeyboardActive&&void 0!==(null===(e=this.editElement)||void 0===e?void 0:e.handleKeyboardEvent)?this.editElement.handleKeyboardEvent(t):{isHandled:!1}}teardown(){var t,e;this.cropTransformChangeTracker.cropTransformUpdated.off(this.updateViewModel),null===(t=this.cropState)||void 0===t||t.scenarioUpdated.off(this.updateViewModel),null===(e=this.editElement)||void 0===e||e.removeEventListeners(this.viewModel),this._teardown(this.editElement),this.viewModel.teardown()}}class Hy{constructor(t,e,n){this.dragSet=new Set,this.dragStart=t,this.dragMove=e,this.dragEnd=n}handleKeyboardEvent(t){return"keydown"===t.type?this.dragSet.has(t.key)?this.dragMove(t):(this.dragSet.add(t.key),this.dragStart(t)):("keyup"===t.type&&(this.dragSet.delete(t.key),this.dragEnd(t)),{isHandled:!0})}}const Vy=.0312;class Wy{constructor(t,e){this.diffH=0,this.diffW=0,this.shouldSnap=!0,this.uncroppedTransform=t,this.uncroppedAspectRatio=t.size.width/t.size.height,this.handleKind=e}snapToAspectRatio(t,e,n){const r=(1-(e.left+e.right)/100)*this.uncroppedAspectRatio,i=1-(e.top+e.bottom)/100,o=Math.round(r/i*100)/100;for(const[r,s]of[[.9,1],[1.2,1.33333333],[1.4,1.5],[1.6,1.77777777]])if(o>r){const{min:r,max:a}=Ky(s,i);if(o>r&&o<a&&this.shouldSnap){const r=this.handleSnap(s,e,n),i=r.getSrcRectTransformFromParent(this.uncroppedTransform,{rotation:t.rot});return this.diffH=Math.abs(i.size.height-t.size.height),this.diffW=Math.abs(i.size.width-t.size.width),this.shouldSnap=this.diffH<15&&this.diffW<15,r}}return this.diffH=0,this.diffW=0,this.shouldSnap=!0,this.snappedSrcRect=void 0,e}handleSnap(t,e,n){if(void 0===this.snappedSrcRect){const r=(1-(e.left+e.right)/100)*this.uncroppedAspectRatio,i=t*(1-(e.top+e.bottom)/100),o=r/t;let s=Math.round(100*e.left)/100,a=Math.round(100*e.right)/100,c=Math.round(100*e.top)/100,h=Math.round(100*e.bottom)/100;if(n)switch(this.handleKind){case 0:case 7:case 1:c=Gy(o+e.bottom/100);break;case 4:case 5:case 3:h=Gy(o+e.top/100);break;default:throw new Error("Cannot snap height.")}else switch(this.handleKind){case 6:case 7:case 5:s=Gy(i/this.uncroppedAspectRatio+e.right/100);break;case 2:case 1:case 3:a=Gy(i/this.uncroppedAspectRatio+e.left/100);break;default:throw new Error("Cannot snap width.")}this.snappedSrcRect=new zl(s,c,a,h)}return this.snappedSrcRect}}function Gy(t){return Ic(100*(1-t),0,100)}function Ky(t,e){return{min:Math.round(100*(t-Vy/e))/100,max:Math.round(100*(Vy/e+t))/100}}class Qy{}class Yy{constructor(t,e,n,r){var i;this.type=Qy,this.snapHeight=!1,this.validKeys=new Set(["ArrowLeft","ArrowRight","ArrowUp","ArrowDown","Shift"]),this.handleKeyboardEvent=t=>this.keyboardTracker.handleKeyboardEvent(t),this.onDragStart=()=>{var t;this.context.cropState.scenario=2,this.dragStartTransform=this.cropTransformChangeTracker.croppedTransform.clone(),null===(t=this.context.editContext.previewInfo)||void 0===t||t.dragEditor.beginEdit(this.context.editContext.previewInfo,this),this.cropTransformChangeTracker.updateCropTransformWithSrcRect(this.cropTransformChangeTracker.srcRect,"Dragging")},this.onPointerDragMove=(t,e,n)=>{this.handleDragMove(this.getUpdatedTransform(t),n)},this.onPointerDragEnd=t=>{var e,n;try{this.context.cropState.scenario=1,null===(e=this.context.editContext.previewInfo)||void 0===e||e.dragEditor.endEdit(this.context.editContext.previewInfo,this),this.cropTransformChangeTracker.updateCropTransformWithSrcRect(this.createSrcRect(this.getUpdatedTransform(t)),"DragEnd"),null===(n=this.toolTipManager)||void 0===n||n.hideResizeToolTip()}catch(t){u(0,`Exception on dragEnd event of crop handles: ${t.message}`)}},this.onPointerDragCancel=()=>{var t,e;this.context.cropState.scenario=1,null===(t=this.toolTipManager)||void 0===t||t.hideResizeToolTip(),null===(e=this.context.editContext.previewInfo)||void 0===e||e.dragEditor.endEdit(this.context.editContext.previewInfo,this)},this.onKeyboardDragStart=t=>{if(!this.validKeys.has(t.key))return{isHandled:!1};if(1===this.context.cropState.scenario&&(this.keyboardDragTransform=this.cropTransformChangeTracker.croppedTransform.clone(),this.onDragStart()),void 0!==this.toolTipManager){const t=this.context.cropTransformChangeTracker,{width:e,height:n}=this.getSizeForResizeToolTip(t.croppedTransform),r=new _(t.croppedTransform.pos.x,t.croppedTransform.pos.y);this.toolTipManager.showResizeToolTip(r,e,n)}return{isHandled:!0}},this.onKeyboardDragMove=t=>{var e;if(!this.validKeys.has(t.key))return{isHandled:!1};const n=this.getKeyboardDragTransform(t);if(void 0===n)return{isHandled:!0};this.keyboardDragTransform=D(this.keyboardDragTransform,n,!1);const r=od(this.dragStartTransform,this.keyboardDragTransform),i=null===(e=this.context.editContext.previewInfo)||void 0===e?void 0:e.dragEditor.triggerSmartGuides(r);return this.handleDragMove(null!=i?i:r),{isHandled:!0}},this.onKeyboardDragEnd=t=>{if(!this.validKeys.has(t.key))return{isHandled:!1};const e=this.getKeyboardDragTransform(t);if(void 0===e)return{isHandled:!0};this.keyboardDragTransform=D(this.keyboardDragTransform,e,!1);const n=od(this.dragStartTransform,this.keyboardDragTransform);return this.handleDragEnd(n),{isHandled:!0}},this.context=t,this.handleKind=e,this.pointerTracker=new ey(n,ty,this.onDragStart,this.onPointerDragMove,this.onPointerDragEnd,this.onPointerDragCancel,r),this.keyboardTracker=new Hy(this.onKeyboardDragStart,this.onKeyboardDragMove,this.onKeyboardDragEnd),this.cropTransformChangeTracker=t.cropTransformChangeTracker,this.dragStartTransform=t.cropTransformChangeTracker.croppedTransform.clone(),this.snapToAspectRatioGuide=new Wy(this.cropTransformChangeTracker.uncroppedTransform,e),this.toolTipManager=null===(i=t.editContext.previewInfo)||void 0===i?void 0:i.resizeToolTipManager}setCursor(t){this.pointerTracker.cursor=t}addEventListeners(t){this.pointerTracker.attach(t.pointerEventNotifiers)}removeEventListeners(t){this.pointerTracker.detach(t.pointerEventNotifiers)}getUpdatedTransform(t){var e;let n=this.getTransformDiff(t);const r=By(this.handleKind);let i=this.handleResize(this.getSizeDiff(t));if(this.context.cropState.forceLockAspectRatio){const t=Jy(i.width,i.height,r);i=new _t(t,t)}const o=new Qo(i.width,i.height,r.x,r.y),s=null===(e=this.context.editContext.previewInfo)||void 0===e?void 0:e.dragEditor.triggerSmartGuides(o);if(void 0!==s&&(n=s,n instanceof Qo&&this.context.cropState.forceLockAspectRatio)){const t=Jy(n.scaleX,n.scaleY,r);n=new Qo(t,t,n.originX,n.originY,n.lockAspectRatio)}return n}getKeyboardDragTransform(t){const e=By(this.handleKind),n=t.shiftKey?1.1:1.01;let[r,i]=[1,1];if("ArrowLeft"===t.key)r=n;else if("ArrowRight"===t.key)r=1/n;else if("ArrowUp"===t.key)i=n;else{if("ArrowDown"!==t.key)return;i=1/n}return r=-1===e.x?r:1/r,i=-1===e.y?i:1/i,new Qo(r,i,e.x,e.y)}handleDragMove(t,e){try{const n=this.context.cropTransformChangeTracker;if(n.updateCropTransformWithSrcRect(this.createSrcRect(t),"Dragging"),void 0!==this.toolTipManager){const{width:t,height:r}=this.getSizeForResizeToolTip(n.croppedTransform),i=null!=e?e:new _(n.croppedTransform.pos.x,n.croppedTransform.pos.y);this.toolTipManager.showResizeToolTip(new _(i.x,i.y),t,r)}}catch(t){u(0,`Exception on drag of crop handles: ${t.message}`)}}handleDragEnd(t){var e,n;try{this.context.cropState.scenario=1,null===(e=this.context.editContext.previewInfo)||void 0===e||e.dragEditor.endEdit(this.context.editContext.previewInfo,this),this.cropTransformChangeTracker.updateCropTransformWithSrcRect(this.createSrcRect(t),"DragEnd"),null===(n=this.toolTipManager)||void 0===n||n.hideResizeToolTip()}catch(t){u(0,`Exception on dragEnd event of crop handles: ${t.message}`)}}getTransformDiff(t){t.rotate(-this.dragStartTransform.rot),this.snapHeight=Math.abs(t.y)>Math.abs(t.x);const e=this.getSizeDiff(t),n=this.handleReposition(e);return new id(n,e)}getSizeDiff(t){const{x:e,y:n}=By(this.handleKind);return new _t(t.x*e,t.y*n)}handleResize(t){var e,n;const r=this.dragStartTransform.size.width,i=this.dragStartTransform.size.height,o=r+t.width,s=i+t.height,a=this.context.config.minCropWindowSize;return new _t(Math.max(null!==(e=null==a?void 0:a.width)&&void 0!==e?e:5,o)/r,Math.max(null!==(n=null==a?void 0:a.height)&&void 0!==n?n:5,s)/i)}handleReposition(t){const{pos:e,size:n}=this.dragStartTransform,r=n.clone().add(t),{x:i,y:o}=By(this.handleKind),s=new _(t.width*i/2,t.height*o/2),a=new _(e.x+n.width/2,e.y+n.height/2);return s.rotate(this.dragStartTransform.rot),a.add(s),new Bt(a.x-r.width/2-e.x,a.y-r.height/2-e.y)}createSrcRect(t){const e=D(this.dragStartTransform,t,!1),n=function(t,e,n,r){const i=$l(t,e);if(n)return new zl(Math.min(r.left,i.left),Math.min(r.top,i.top),Math.min(r.right,i.right),Math.min(r.bottom,i.bottom));const o=Ic(i.left,0,100),s=Ic(i.right,0,100-o),a=Ic(i.top,0,100),c=Ic(i.bottom,0,100-a);return new zl(o,a,s,c)}(this.cropTransformChangeTracker.uncroppedTransform,e,this.context.allowOutCrop,this.cropTransformChangeTracker.initialSrcRect);return this.context.config.snapToAspectRatio?this.snapToAspectRatioGuide.snapToAspectRatio(e,n,this.snapHeight):n}getSizeForResizeToolTip(t){if(!this.context.config.swapWidthHeightForResizeToolTipOnRotation90)return t.size;const{width:e,height:n}=t.size,r=B(t.rot);return 90===r||270===r?new _t(n,e):t.size}}function Jy(t,e,n){return 0===n.x?e:0===n.y?t:Math.max(t,e)}function Xy(t){return t.toFixed(2)}function Zy(t){const e=[];return e.push(...[1,3,5,7,0,4,2,6].map((e=>function(t,e){const n=new gy;n.hitTestSlop=6;const r=_y(e,t.cropTransformChangeTracker.croppedTransform),i=new Yy(t,e,{hover:r,drag:r});return new $y(n,t.cropTransformChangeTracker,((t,n)=>{let r,i,o;switch(e){case 1:case 3:case 5:case 7:r=!0,i=!1,o=n.size.width<40||n.size.height<40;break;case 0:case 4:r=n.size.width>65,i=!0,o=!1;break;case 2:case 6:r=n.size.height>65,i=!0,o=!1;break;default:b(e)}const s=function(t,e,n,r){const i=new wy,o=By(e);i.d=n?"M0 0L12 0L12 -6L-12 -6L-12 0Z":r?"M0 0L8 0L8 -8L0 -8Z":"M0 0L20 0L20 -6L6 -6L6 -20L0 -20Z",i.stroke="#FFFFFF",i.fill="#000000";const s=function(t){switch(t){case 5:case 4:return 0;case 7:case 6:return 90;case 3:case 2:return 270;case 1:case 0:return 180;default:b(t)}}(e);return i.transform.set({x:0,y:0},{x:!1,y:!1},s,{x:o.x*t.size.width/2,y:o.y*t.size.height/2}),i}(n,e,i,o),a=s.clone();a.strokeWidth="6",a.style.visibility="hidden",!r&&i&&(s.style.visibility="hidden",a.strokeWidth="0");const c=new Xd;c.transform.set({x:0,y:0},{x:!1,y:!1},n.rot,n.getCenter()),c.appendChild(s),c.appendChild(a),t.elements=[c.element],t.hitTestElements=[a.element]}),i,(()=>{n.teardown()}))}(t,e)))),e}function tg(t){const e=new gy;return e.hitTestSlop=0,new $y(e,t,((t,e)=>{!function(t,e){const n=Xi(e),r=n.width()/3,i=n.height()/3,o=n.left+r,s=o+r,a=n.top+i,c=a+i,h=e.getCenter(),l=new wy;l.d=`M${o} ${n.top}L${o} ${n.bottom}M${s} ${n.top}L${s} ${n.bottom}M${n.left} ${a}L${n.right} ${a}M${n.left} ${c}L${n.right} ${c}`,l.transform.setRotate(e.rot,h.x,h.y),l.stroke="#FFFFFFBF";const d=l.clone();d.stroke="#000000BF",d.strokeDasharray="4 3",t.elements=[l.element,d.element]}(t,e)}),void 0,void 0)}class eg{}class ng{constructor(t,e,n){this.type=eg,this.rotate={allowed:!0},this.startRotation=0,this.onDragStart=(t,e)=>{var n;this.rotate.allowed=!0!==(null===(n=this.anchor.locks)||void 0===n?void 0:n.rotate),this.rotate.allowed&&(this.transform=this.anchorPresenter.transform.clone(),this.startRotation=this.getRotationAgainstCenter(e),void 0!==this.editContext.previewInfo&&(this.editContext.previewInfo.dragEditor.beginEdit(this.editContext.previewInfo),void 0!==this.previews&&this.editContext.previewInfo.presenter.addPreviewPresenter(...this.previews)))},this.onDragMove=(t,e,n)=>{if(this.rotate.allowed&&void 0!==this.editContext.previewInfo){let t=this.getRotateTransformAgainstCenter(n,e.shiftKey);if(t=this.editContext.previewInfo.dragEditor.applyTransform(t),void 0!==this.editContext.previewInfo.rotationToolTipManager){const e=D(this.transform,t,!1).rot;this.editContext.previewInfo.rotationToolTipManager.showRotationToolTip(n,e)}}},this.onDragEnd=(t,e,n)=>{var r;if(!this.rotate.allowed)return;let i=this.getRotateTransformAgainstCenter(n,e.shiftKey);void 0!==this.editContext.previewInfo&&(i=this.editContext.previewInfo.dragEditor.applyTransform(i),this.editContext.previewInfo.dragEditor.endEdit(this.editContext.previewInfo,this),null===(r=this.editContext.previewInfo.rotationToolTipManager)||void 0===r||r.hideRotationToolTip()),this.editContext.actionInvoker.invoke(new Fp(i))},this.onDragCancel=()=>{var t;this.rotate.allowed&&void 0!==this.editContext.previewInfo&&(this.editContext.previewInfo.dragEditor.endEdit(this.editContext.previewInfo),null===(t=this.editContext.previewInfo.rotationToolTipManager)||void 0===t||t.hideRotationToolTip())},this.context=t,this.anchor=t.graphic.anchor,this.anchorPresenter=t.anchorPresenter,this.editContext=t.editContext,this.tracker=new ey(e,ty,this.onDragStart,this.onDragMove,this.onDragEnd,this.onDragCancel,n)}addEventListeners(t){this.tracker.attach(t.pointerEventNotifiers)}removeEventListeners(t){this.tracker.detach(t.pointerEventNotifiers)}setCursor(t){this.tracker.cursor=t}getRotationAgainstCenter(t){const e=this.transform.getCenter();return rg(new _(t.x-e.x,t.y-e.y))}getRotateTransformAgainstCenter(t,e){const n=this.transform.getCenter();return function(t,e,n,r=!1){const i=Math.round(rg(t)-e+n.rot),o=Math.abs(i%90);return o<=3||Math.abs(o-90)<=3?new Yo(90*Math.round(i/90)-n.rot):new Yo(r?15*Math.round(i/15)-n.rot:i-n.rot)}(new _(t.x-n.x,t.y-n.y),this.startRotation,this.transform,e)}}function rg(t){return 180*Math.atan2(t.y,t.x)/C}class ig{}class og{constructor(t,e,n,r=!0,i){this.type=ig,this.onDragStart=t=>{var e;this.resize.allowed=!0!==(null===(e=this.anchor.locks)||void 0===e?void 0:e.resize)&&(this.resize.rightClickAllowed||0===t.button),this.resize.allowed&&(this.transform=this.anchorPresenter.transform.clone(),void 0!==this.editContext.previewInfo&&(this.editContext.previewInfo.dragEditor.beginEdit(this.editContext.previewInfo,this),void 0!==this.previews&&this.editContext.previewInfo.presenter.addPreviewPresenter(...this.previews)))},this.onDragMove=(t,e,n)=>{var r;if(this.resize.allowed&&void 0!==this.editContext.previewInfo){const i=e.shiftKey||!0===(null===(r=this.anchor.locks)||void 0===r?void 0:r.aspectRatio);let o=sg(t,this.transform,this.handleKind,i);if(o=this.editContext.previewInfo.dragEditor.applyTransform(o),void 0!==this.editContext.previewInfo.resizeToolTipManager){const t=D(this.transform,o,!1).size;this.editContext.previewInfo.resizeToolTipManager.showResizeToolTip(n,t.width,t.height)}}},this.onDragEnd=(t,e)=>{var n,r;if(!this.resize.allowed)return;const i=e.shiftKey||!0===(null===(n=this.anchor.locks)||void 0===n?void 0:n.aspectRatio);let o=sg(t,this.transform,this.handleKind,i);void 0!==this.editContext.previewInfo&&(o=this.editContext.previewInfo.dragEditor.applyTransform(o),this.editContext.previewInfo.dragEditor.endEdit(this.editContext.previewInfo,this),null===(r=this.editContext.previewInfo.resizeToolTipManager)||void 0===r||r.hideResizeToolTip()),this.editContext.actionInvoker.invoke(new Fp(o))},this.onDragCancel=()=>{var t;this.resize.allowed&&void 0!==this.editContext.previewInfo&&(this.editContext.previewInfo.dragEditor.endEdit(this.editContext.previewInfo),null===(t=this.editContext.previewInfo.resizeToolTipManager)||void 0===t||t.hideResizeToolTip())},this.context=t,this.anchor=t.graphic.anchor,this.anchorPresenter=t.anchorPresenter,this.editContext=t.editContext,this.handleKind=e,this.graphic=t.graphic,this.tracker=new ey(n,ty,this.onDragStart,this.onDragMove,this.onDragEnd,this.onDragCancel,i),this.resize={rightClickAllowed:r,allowed:!0}}addEventListeners(t){this.tracker.attach(t.pointerEventNotifiers)}removeEventListeners(t){this.tracker.detach(t.pointerEventNotifiers)}setCursor(t){this.tracker.cursor=t}}function sg(t,e,n,r){const i=new _(t.x,t.y);i.rotate(-e.rot);const o=e.size.width,s=e.size.height,a=By(n);let c=a;0===c.x&&0===c.y&&(c={x:2,y:2});const h=o+i.x*c.x,l=s+i.y*c.y;let[d,u]=[(0===h?1:h)/o,(0===l?1:l)/s];if(r&&0!==a.x&&0!==a.y){const t=Math.max(Math.abs(d),Math.abs(u));d=Math.sign(d)*t,u=Math.sign(u)*t}return new Qo(d,u,a.x,a.y,r)}class ag extends Wd{constructor(t=Xc("circle")){super(t)}set r(t){this.set("r",`${t}`)}set cx(t){this.set("cx",`${t}`)}set cy(t){this.set("cy",`${t}`)}clone(){return new ag(this.element.cloneNode())}}function cg(t){return t.toFixed(2)}function hg(t,e){return new Ly(new gy,t.anchorPresenter,((t,e)=>{const n=new wy;n.d="M5.46 0L0.75 0L7.56 6.81L13.77 0L9.06 0A9.06 9.06 0 1 0 3.598 8.315L2.168 5.011A5.46 5.46 0 1 1 5.46 0Z",n.fill=qy,n.stroke=zy,n.strokeWidth="1.5pt",n.transform.set({x:0,y:-34-e.size.height/2},e.flip,e.rot,e.getCenter());const r=new wy;r.d="M0 -25L0 0",r.stroke=zy,r.strokeWidth="0.5pt",r.transform.set({x:0,y:-e.size.height/2},e.flip,e.rot,e.getCenter());const i=new ag;i.r="13",i.transform.set({x:0,y:-34-e.size.height/2},e.flip,e.rot,e.getCenter()),i.style.visibility="hidden",t.elements=[n.element,r.element,i.element],t.hitTestElements=[i.element]}),new ng(t,{hover:"move",drag:"crosshair"},e))}function lg(t,e,n,r,i){const o=new ag;o.r="4.72",o.fill=r,o.stroke=i,o.strokeWidth="1.5pt";const s=By(n);o.transform.set({x:s.x*e.size.width/2,y:s.y*e.size.height/2},{x:!1,y:!1},e.rot,e.getCenter());const a=o.clone();a.strokeWidth="6",a.style.visibility="hidden",t.elements=[o.element,a.element],t.hitTestElements=[a.element]}class dg{constructor(t){this.options=t}createSelectionHandles(t){var e,n,r;const i=t.graphic.anchor.locks,o=[];if(t.inCropMode){const r=(null===(e=this.options)||void 0===e?void 0:e.noMoveInCropMode)?new Uy(t,{hover:"default",drag:"default"}):new Iy(t,{hover:"move",drag:"move"});return null==r||r.addEventListeners(t.presenter.viewModel),o.push(new Ly(new gy,t.anchorPresenter,((t,e)=>{const n=new Gd,{width:r,height:i}=e.size;n.transform.set({x:-r/2,y:-i/2},e.flip,e.rot,e.getCenter()),n.width=`${r.toFixed(2)}`,n.height=`${i.toFixed(2)}`,n.fill="none",n.stroke=zy,n.strokeWidth="0.5pt";const o=n.clone();o.strokeWidth="6",o.style.visibility="hidden",t.elements=[n.element,o.element],t.hitTestElements=[o.element]}),r,(()=>{null==r||r.removeEventListeners(t.presenter.viewModel)}))),o.push(...!0!==(null==i?void 0:i.resize)&&!0!==(null===(n=this.options)||void 0===n?void 0:n.noResizeInCropMode)?[0,1,2,3,4,5,6,7].map((e=>new Ly(new gy,t.uncroppedAnchorPresenter,((t,n,r)=>{lg(t,n,e,qy,zy),r.setCursor({hover:_y(e,n),drag:"crosshair"})}),new Fy(t,e,{hover:_y(e,t.uncroppedAnchorPresenter.transform),drag:"crosshair"})))):[]),o}return(null===(r=this.options)||void 0===r?void 0:r.noSelectionHandles)||o.push(function(t){const e=new oy(t,{hover:"move",drag:"move"});return e.addEventListeners(t.presenter.viewModel),new Ly(new gy,t.anchorPresenter,((t,e)=>{const n=new Gd,{width:r,height:i}=e.size;n.transform.set({x:-r/2,y:-i/2},e.flip,e.rot,e.getCenter()),n.width=`${cg(r)}`,n.height=`${cg(i)}`,n.fill="none",n.stroke=zy,n.strokeWidth="0.5pt";const o=n.clone();o.strokeWidth="6",o.style.visibility="hidden",t.elements=[n.element,o.element],t.hitTestElements=[o.element]}),e,(()=>{e.removeEventListeners(t.presenter.viewModel)}))}(t),...!0!==(null==i?void 0:i.rotate)?[hg(t)]:[],...!0!==(null==i?void 0:i.resize)?function(t,e){return[0,1,2,3,4,5,6,7].map((e=>new Ly(new gy,t.anchorPresenter,((t,n,r)=>{lg(t,n,e,qy,zy),r.setCursor({hover:_y(e,n),drag:"crosshair"})}),new og(t,e,{hover:_y(e,t.anchorPresenter.transform),drag:"crosshair"},void 0,undefined))))}(t):[]),o}createCropHandles(t){return[(e=t.cropTransformChangeTracker,new $y(new gy,e,((t,e)=>{const n=new Gd,{width:r,height:i}=e.size;n.transform.set({x:-r/2,y:-i/2},e.flip,e.rot,e.getCenter()),n.width=`${Xy(r)}`,n.height=`${Xy(i)}`,n.fill="none",n.stroke=zy,n.strokeWidth="0.5pt",t.elements=[n.element]}),void 0,void 0)),tg(t.cropTransformChangeTracker),...Zy(t)];var e}}function ug(t,e){var n;return e.cropState.inCropMode&&void 0!==e.cropState.crop?Kl(new Gl(e.cropState.crop,e.graphic.anchor.transform,void 0,null===(n=e.cropState.cropTracker)||void 0===n?void 0:n.uncroppedRelativeRotation),e):[]}function pg(t,e){const n=e.graphic.anchor;return[new Il(e.graphic.model,t.crop),new kl(n,Np(n.transform,new Fp(t.scale)))]}class fg{constructor(t,e,n=!1){this.cropState=t,this.lockAspectRatio=e,n&&(this.mergePolicy=new Xa)}perform(){const t=new fg(this.cropState,!this.lockAspectRatio,void 0!==this.mergePolicy);return this.cropState.forceLockAspectRatio=this.lockAspectRatio,{undoOp:t}}}function yg(t,e){if(!e.cropState.inCropMode||void 0===e.cropState.cropTracker)return[];e.cropState.forceLockAspectRatio=t.forceLockAspectRatio;const n=e.cropState.cropTracker,r=t.getTransformAdjustedToAspectRatio(n.croppedTransform),i=[new fg(e.cropState,t.forceLockAspectRatio)];if(void 0!==r){const t=$l(n.uncroppedTransform,r);n.reset(r,t,n.uncroppedRelativeRotation),i.push(...Kl(new Gl(t,r,void 0,n.uncroppedRelativeRotation),e))}return i}function gg(t,e){return e.cropState.scenario=t.scenario,[]}class xg{constructor(t,e,n,r=!1,i){this.model=t,this.prop=e,this.value=n,r&&(Lt("ValueEditOpMergeUndoAlways")?this.mergePolicy=new Xa:this.mergePolicy=new mg(t,e,i))}perform(){const t=this.model[this.prop];return this.model[this.prop]=this.value,{undoOp:new xg(this.model,this.prop,t)}}}class vg{}class mg{constructor(t,e,n){this.type=vg,this.model=t,this.prop=e,this.mergeUndoId=n}shouldMergeWithPrevious(t){return void 0!==t&&t.type===vg&&t.model===this.model&&(void 0===this.mergeUndoId&&t.prop===this.prop||t.mergeUndoId===this.mergeUndoId)}}function wg(t,e){const n=void 0!==t?t.clone():new yt;return void 0!==e.fill&&(n.fill=e.fill),void 0!==e.weight&&(n.weight=e.weight),void 0!==e.dash&&(n.dash=e.dash),void 0!==e.headEnd&&(n.headEnd=e.headEnd),void 0!==e.tailEnd&&(n.tailEnd=e.tailEnd),void 0!==e.join&&(n.join=e.join),void 0!==e.compound&&(n.compound=e.compound),n}const bg="changeEffects";function Pg(t,e){var n;const r=null!==(n=null==t?void 0:t.clone())&&void 0!==n?n:new ko;return void 0!==e.glow&&(r.glow=e.glow),void 0!==e.shadow&&(r.shadow=e.shadow),void 0!==e.innerShadow&&(r.innerShadow=e.innerShadow),void 0!==e.reflection&&(r.reflection=e.reflection),void 0!==e.softEdges&&(r.softEdges=e.softEdges),r}class Cg{constructor(t,e,n,r,i,o,s){this.hueSaturationLuminance=t,this.brightnessContrast=e,this.recolor=n,this.colorTemperature=r,this.sharpness=i,this.pictureEffectProperties=o,this.tonalGrading=s}clone(){var t,e,n,r,i,o,s;return new Cg(null===(t=this.hueSaturationLuminance)||void 0===t?void 0:t.clone(),null===(e=this.brightnessContrast)||void 0===e?void 0:e.clone(),null===(n=this.recolor)||void 0===n?void 0:n.clone(),null===(r=this.colorTemperature)||void 0===r?void 0:r.clone(),null===(i=this.sharpness)||void 0===i?void 0:i.clone(),null===(o=this.pictureEffectProperties)||void 0===o?void 0:o.clone(),null===(s=this.tonalGrading)||void 0===s?void 0:s.clone())}equals(t){return N(this.hueSaturationLuminance,t.hueSaturationLuminance)&&N(this.brightnessContrast,t.brightnessContrast)&&N(this.recolor,t.recolor)&&N(this.colorTemperature,t.colorTemperature)&&N(this.sharpness,t.sharpness)&&N(this.pictureEffectProperties,t.pictureEffectProperties)&&N(this.tonalGrading,t.tonalGrading)}}class Ag{}class jg{constructor(t){this.value=t}}function Tg(t,e,n){void 0!==n&&(n instanceof Ag?t[e]=void 0:n instanceof jg?void 0===t[e]&&(t[e]=n.value):t[e]=n)}class Sg{constructor(t,e,n,r,i,o){this.isBackgroundRemoved=t,this.appliedFilter=e,this.appliedEffects=n,this.originalImageId=r,this.resized=i,this.restyled=o}equals(t){return this.isBackgroundRemoved===t.isBackgroundRemoved&&this.appliedFilter===t.appliedFilter&&this.appliedEffects===t.appliedEffects&&this.originalImageId===t.originalImageId&&this.resized===t.resized&&this.restyled===t.restyled}clone(){return new Sg(this.isBackgroundRemoved,this.appliedFilter,void 0!==this.appliedEffects?[...this.appliedEffects]:void 0,this.originalImageId,this.resized,this.restyled)}}class Rg{constructor(t,e,n,r,i=1,o=1,s=0,a=0,c=4,h=!0){this.color=t,this.radius=e,this.angle=n,this.distance=r,this.scaleX=i,this.scaleY=o,this.skewX=s,this.skewY=a,this.alignment=c,this.rotateWithShape=h}clone(){return new Rg(this.color.clone(),this.radius,this.angle,this.distance,this.scaleX,this.scaleY,this.skewX,this.skewY,this.alignment,this.rotateWithShape)}equals(t){return this.color.equals(t.color)&&this.radius===t.radius&&this.angle===t.angle&&this.distance===t.distance&&this.scaleX===t.scaleX&&this.scaleY===t.scaleY&&this.skewX===t.skewX&&this.skewY===t.skewY&&this.alignment===t.alignment&&this.rotateWithShape===t.rotateWithShape}}class Eg{constructor(t,e){this.brightness=t,this.contrast=e}equals(t){return this.brightness===t.brightness&&this.contrast===t.contrast}clone(){return new Eg(this.brightness,this.contrast)}}class Mg{constructor(t,e,n){this.hueRotation=t,this.saturationFactor=e,this.luminanceFactor=n}equals(t){return this.hueRotation===t.hueRotation&&this.saturationFactor===t.saturationFactor&&this.luminanceFactor===t.luminanceFactor}clone(){return new Mg(this.hueRotation,this.saturationFactor,this.luminanceFactor)}}const Og="changeFillColor",kg="changeLineProps",Ig="setOpacity";class Bg{constructor(t,e,n){this.picture=t,this.placeholder=e,this.isUndoable=n}perform(){const t=this.isUndoable?new Bg(this.picture,this.picture.placeholder,this.isUndoable):void 0;return this.picture.placeholder=this.placeholder,{undoOp:t}}}const _g="GC2PictureModification";function Dg(t,e){return new xg(e,"fill",t.fill)}function Fg(t,e){return new xg(e,"line",wg(e.line,t))}function Ng(t,e){const n=Pg(e.effects,t);return new xg(e,"effects",n)}function Ug(t,e){const n=function(t,e){var n;const r=null!==(n=null==t?void 0:t.clone())&&void 0!==n?n:new Cg;return Tg(r,"brightnessContrast",e.brightnessContrast),Tg(r,"colorTemperature",e.colorTemperature),Tg(r,"hueSaturationLuminance",e.hueSaturationLuminance),Tg(r,"pictureEffectProperties",e.pictureEffectProperties),Tg(r,"recolor",e.recolor),Tg(r,"sharpness",e.sharpness),Tg(r,"tonalGrading",e.tonalGrading),r}(e.pictureEffects,t);return Ml(_g,new Map([["ActionName",t.actionType]])),new xg(e,"pictureEffects",n,t.mergeUndo,t.mergeUndoId)}function Lg(t,e){const n=function(t,e){var n;const r=null!==(n=null==t?void 0:t.clone())&&void 0!==n?n:new Cg;void 0===r.pictureEffectProperties&&(r.pictureEffectProperties=new Sg);const i=r.pictureEffectProperties;return Tg(i,"isBackgroundRemoved",e.isBackgroundRemoved),Tg(i,"appliedFilter",e.appliedFilter),void 0===i.appliedEffects||e.appliedEffects instanceof Ag||e.appliedEffects instanceof jg?Tg(i,"appliedEffects",e.appliedEffects):void 0!==e.appliedEffects&&(i.appliedEffects=function(t,e){const n=new Set(t);return e.forEach((t=>n.add(t))),[...n.values()]}(i.appliedEffects,e.appliedEffects)),Tg(i,"originalImageId",e.originalImageId),Tg(i,"resized",e.resized),Tg(i,"restyled",e.restyled),r}(e.pictureEffects,t);return Ml(_g,new Map([["ActionName",t.actionType]])),new xg(e,"pictureEffects",n,t.mergeUndo)}function qg(t,e){const n=function(t,e){var n;const r=null!==(n=null==t?void 0:t.clone())&&void 0!==n?n:new ko;return void 0!==r.shadow?r.shadow.radius=e.blur:r.shadow=new Rg(ot,e.blur,0,0),r}(e.effects,t);return Ml(_g,new Map([["ActionName",t.actionType]])),new xg(e,"effects",n,t.mergeUndo)}function zg(t,e){const n=function(t,e){var n;const r=null!==(n=null==t?void 0:t.clone())&&void 0!==n?n:new ko;return void 0!==r.shadow?r.shadow.distance=e.distance:r.shadow=new Rg(ot,0,0,e.distance),r}(e.effects,t);return Ml(_g,new Map([["ActionName",t.actionType]])),new xg(e,"effects",n,t.mergeUndo)}function $g(t,e){const n=function(t,e,n){var r;const i=null!==(r=null==t?void 0:t.clone())&&void 0!==r?r:new ko;if(void 0!==i.shadow){const t=as(i.shadow.color,n);i.shadow.color=new tt(t.r,t.g,t.b,e.opacity)}else i.shadow=new Rg(new tt(0,0,0,e.opacity),0,0,0);return i}(e.effects,t,e.hostContext.themeInfo);return Ml(_g,new Map([["ActionName",t.actionType]])),new xg(e,"effects",n,t.mergeUndo)}function Hg(t,e){const n=function(t,e){var n;const r=null!==(n=null==t?void 0:t.clone())&&void 0!==n?n:new ko;return void 0!==r.shadow?r.shadow.angle=e.angle:r.shadow=new Rg(ot,0,e.angle,0),r}(e.effects,t);return Ml(_g,new Map([["ActionName",t.actionType]])),new xg(e,"effects",n,t.mergeUndo)}function Vg(t,e){const n=function(t,e,n){var r;const i=null!==(r=null==t?void 0:t.clone())&&void 0!==r?r:new ko,o=e.color;if(void 0!==i.shadow){const t=as(i.shadow.color,n);i.shadow.color=new tt(o.r,o.g,o.b,t.a)}else i.shadow=new Rg(o,0,0,0);return i}(e.effects,t,e.hostContext.themeInfo);return Ml(_g,new Map([["ActionName",t.actionType]])),new xg(e,"effects",n,t.mergeUndo)}function Wg(t,e){const n=function(t,e){var n;const r=null!==(n=null==t?void 0:t.clone())&&void 0!==n?n:new Cg;return void 0!==r.brightnessContrast?r.brightnessContrast.brightness=e.brightness:r.brightnessContrast=new Eg(e.brightness,0),r}(e.pictureEffects,t);return Ml(_g,new Map([["ActionName",t.actionType]])),new xg(e,"pictureEffects",n,t.mergeUndo)}function Gg(t,e){const n=function(t,e){var n;const r=null!==(n=null==t?void 0:t.clone())&&void 0!==n?n:new Cg;return void 0!==r.brightnessContrast?r.brightnessContrast.contrast=e.contrast:r.brightnessContrast=new Eg(0,e.contrast),r}(e.pictureEffects,t);return Ml(_g,new Map([["ActionName",t.actionType]])),new xg(e,"pictureEffects",n,t.mergeUndo)}function Kg(t,e){const n=function(t,e){var n;const r=null!==(n=null==t?void 0:t.clone())&&void 0!==n?n:new Cg;return void 0!==r.hueSaturationLuminance?r.hueSaturationLuminance.saturationFactor=e.saturation:r.hueSaturationLuminance=new Mg(0,e.saturation,1),r}(e.pictureEffects,t);return Ml(_g,new Map([["ActionName",t.actionType]])),new xg(e,"pictureEffects",n,t.mergeUndo)}function Qg(t,e){var n;return new xg(e.graphic.anchor,"locks",Object.assign(Object.assign({},null!==(n=e.graphic.anchor.locks)&&void 0!==n?n:{}),{aspectRatio:t.lockAspectRatio}))}function Yg(t,e){return new xg(e,"geometry",t.geometry)}function Jg(t,e){return Ml(_g,new Map([["ActionName",t.actionType]])),new xg(e,"opacity",100-t.transparency,t.mergeUndo)}function Xg(t,e){return Ml(_g,new Map([["ActionName",t.actionType]])),new xg(e,"opacity",t.opacity,t.mergeUndo)}function Zg(t,e){var n,r;return new Bg(null!==(r=null===(n=t.graphic)||void 0===n?void 0:n.model)&&void 0!==r?r:e,t.placeholder,t.isUndoable)}function tx(t,e){var n,r;return new xg(null!==(r=null===(n=t.graphic)||void 0===n?void 0:n.model)&&void 0!==r?r:e,"data",t.data)}function ex(t,e){return new xg(e,"rotation",t.rotation,t.mergeUndo)}function nx(t,e){var n;const r=null!==(n=t.graphic)&&void 0!==n?n:e.graphic;return["crop","geometry","fill","line","opacity","effects","pictureEffects","rotation","placeholder"].map((e=>new xg(r.model,e,void 0,t.mergeUndo)))}function rx(){const t=new Xu([[Og,ip(Dg)],[kg,ip(Fg)],[bg,ip(Ng)],["ChangeShadowBlur",ip(qg)],["ChangeShadowDistance",ip(zg)],["ChangeShadowTransparency",ip($g)],["ChangeShadowAngle",ip(Hg)],["ChangeShadowColor",ip(Vg)],["changePictureBrightness",ip(Wg)],["changePictureContrast",ip(Gg)],["changePictureSaturation",ip(Kg)],["changePictureEffectPropertiesProps",ip(Lg)],["changePictureEffects",ip(Ug)],["SetLockAspectRatio",np(Qg)],["cropToGeometry",ip(Yg)],[Ig,ip(Xg)],["setPictureTransparency",ip(Jg)],["setPicturePlaceholder",ip(Zg)],["setPictureData",ip(tx)],["setPictureRotation",ip(ex)],["resetPicture",rp(nx)]]);return function(t){t.register("applyCurrentCrop",rp(ug)).register(Wl,rp(Kl)).register("cropAndScale",rp(pg)).register("cropToAspectRatio",rp(yg)).register(mu,ep(bu)).register("setCropScenario",rp(gg))}(t),t}class ix{dispatchAction(t,e,n,r){return r.performAction(t,e,n)}dispatchKeyboardEvent(t,e){const n={isHandled:!1};return e.cropState.keyboardEvent.emit(t,n),n}}class ox{constructor(e,n,r){this.cropTransformUpdated=new t,this.uncroppedTransformUpdated=new t,this.reset(e,n,r)}get initialSrcRect(){return this._initialSrcRect}get croppedTransform(){return this._croppedTransform}get uncroppedTransform(){return this._uncroppedTransform}get srcRect(){return this._srcRect}get uncroppedRelativeRotation(){return this._uncroppedRelativeRotation}updateCropTransformWithSrcRect(t,e){this._srcRect=t,this._croppedTransform=t.getSrcRectTransformFromParent(this.uncroppedTransform,{rotation:this._croppedTransform.rot}),this.cropTransformUpdated.emit(e),this.lastUnconstrainedSrcRectForRotate=t}updateUncroppedTransformWithSrcRect(t,e,n=!0){this._srcRect=t,this._uncroppedTransform=t.getParentTransform(this.croppedTransform,{rotation:this.getUncroppedRotation()}),this.uncroppedTransformUpdated.emit(e),n&&(this.lastUnconstrainedSrcRectForRotate=t)}reset(t,e,n){this._srcRect=null!=e?e:new zl(0,0,0,0),this._initialSrcRect=this._srcRect,this._uncroppedRelativeRotation=n,this._croppedTransform=t.clone(),this._uncroppedTransform=this._srcRect.getParentTransform(this._croppedTransform,{rotation:this.getUncroppedRotation()}),this.lastUnconstrainedSrcRectForRotate=void 0,this.cropTransformUpdated.emit("None"),this.uncroppedTransformUpdated.emit("None")}updateUncroppedRelativeRotation(t,e){if(this._uncroppedRelativeRotation===t)return;this._uncroppedRelativeRotation=t;let n=this._srcRect;void 0!==e&&(n=e(Hl(this._croppedTransform,n,{rotation:this.getUncroppedRotation()}),this._croppedTransform,this.lastUnconstrainedSrcRectForRotate),n.equals(this._srcRect)&&(this.lastUnconstrainedSrcRectForRotate=n)),this.updateUncroppedTransformWithSrcRect(n,"None",!1)}updateCropTransform(t,e){N(t,this._croppedTransform)||(this._croppedTransform=t.clone(),this._uncroppedTransform=this._srcRect.getParentTransform(this._croppedTransform,{rotation:this.getUncroppedRotation()}),this.cropTransformUpdated.emit("None",e),this.uncroppedTransformUpdated.emit("None"))}updateCropTransformOnZoom(t,e){t!==e&&(this._srcRect=function(t,e,n){const r=n.croppedTransform,i=n.uncroppedTransform,o=Fl(r),s=Nl(i).getUnrotatedRectAtPoint(r.getCenter());let a=Sy(t,e,r.size.width,i.size.width,o.center().x,s.left,s.right),c=Sy(t,e,r.size.height,i.size.height,o.center().y,s.top,s.bottom);return void 0!==n.uncroppedRelativeRotation&&0!==n.uncroppedRelativeRotation&&e<t&&(a=Ry(a,n.croppedTransform,n.uncroppedTransform,n.uncroppedRelativeRotation,n.srcRect.left/100,n.srcRect.right/100,!0),c=Ry(c,n.croppedTransform,n.uncroppedTransform,n.uncroppedRelativeRotation,n.srcRect.top/100,n.srcRect.bottom/100,!1)),new zl(100*a.min,100*c.min,100*a.max,100*c.max)}(t,e,this),this._croppedTransform=this._srcRect.getSrcRectTransformFromParent(this.uncroppedTransform,{rotation:this._croppedTransform.rot}),this.cropTransformUpdated.emit("None"))}getUncroppedRotation(){var t;return this._croppedTransform.rot+(null!==(t=this._uncroppedRelativeRotation)&&void 0!==t?t:0)}}class sx{constructor(e){this.transformUpdated=new t,this.onUncroppedTransformUpdated=()=>{this.transformUpdated.emit()},this.cropTransformChangeTracker=e,this.teardown=this.cropTransformChangeTracker.uncroppedTransformUpdated.use(this.onUncroppedTransformUpdated)}get transform(){return this.cropTransformChangeTracker.uncroppedTransform}}class ax{constructor(t,e,n,r,i,o,s){this.viewModel=new H,this.croppableViewModel=new H,this.selectionHandlePresenters=[],this.selectionHandleViewModel=new H,this.cropHandlePresenters=[],this.cropHandleViewModel=new H,this.currentTabIndex=-1,this.onPointerDownHandler=()=>{const t=this.getCurrentKeyboardActivePresenter();void 0!==t&&(t.keyboardActive=!1),this.currentTabIndex=-1},this.onKeyboardEvent=(t,e)=>{if(!this.cropState.inCropMode)return;if(this.tryHandleTab(t).isHandled)return void(e.isHandled=!0);const n=this.getCurrentKeyboardActivePresenter();if(void 0!==(null==n?void 0:n.handleKeyboardEvent)){const r=n.handleKeyboardEvent(t);if(r.isHandled)return void(e.isHandled=r.isHandled)}const r=this.cropConfig.cropKeyboardEventProcessor(t);e.isHandled=r.isHandled,r.exitCrop&&this.editContext.actionInvoker.invoke(new wu(r.discardCrop?1:2))},this.cropState=t,this.editContext=n,this.editElementContext=r,this.handleCreator=i,this.cropConfig=o,this.croppablePresenter=e.modelPresenter,this.onHandleUpdated=s,this.viewModel.children=[this.croppableViewModel,this.selectionHandleViewModel,this.cropHandleViewModel],this.createSelectionHandles(),this.cropState.keyboardEvent.on(this.onKeyboardEvent),document.addEventListener("pointerdown",this.onPointerDownHandler)}get presenters(){return this.cropState.inCropMode?[...this.cropConfig.doNotBringCroppableOnTopInCrop?[]:[this.croppablePresenter],...this.selectionHandlePresenters,...this.cropHandlePresenters]:this.selectionHandlePresenters}createSelectionHandles(){this.selectionHandleTeardown(),this.selectionHandlePresenters=this.handleCreator.createSelectionHandles(this.editElementContext),this.selectionHandlePresenters.forEach((t=>{t.viewModelUpdated.on(this.onHandleUpdated),this.selectionHandleViewModel.children.push(t.viewModel)}))}createCropHandles(){this.cropHandleTeardown(),this.cropHandlePresenters=this.handleCreator.createCropHandles(this.editElementContext),this.cropHandlePresenters.forEach((t=>{t.viewModelUpdated.on(this.onHandleUpdated),this.cropHandleViewModel.children.push(t.viewModel)})),this.cropConfig.doNotBringCroppableOnTopInCrop||(this.croppableViewModel.children=[this.croppablePresenter.viewModel])}isKeyboardActive(){return void 0!==this.getCurrentKeyboardActivePresenter()}teardown(){this.selectionHandleTeardown(),this.cropHandleTeardown(),this.cropState.keyboardEvent.off(this.onKeyboardEvent),document.removeEventListener("pointerdown",this.onPointerDownHandler),this.currentTabIndex=-1}cropHandleTeardown(){this.cropHandlePresenters.forEach((t=>{t.viewModelUpdated.off(this.onHandleUpdated),t.teardown()})),this.cropHandlePresenters=[],this.cropHandleViewModel.children=[],this.croppableViewModel.children=[]}selectionHandleTeardown(){this.selectionHandlePresenters.forEach((t=>{t.viewModelUpdated.off(this.onHandleUpdated),t.teardown()})),this.selectionHandlePresenters=[],this.selectionHandleViewModel.children=[]}getKeyboardActivatablePresenters(){return this.cropHandlePresenters.filter((t=>!0===t.supportsKeyboardActivation))}tryHandleTab(t){if(!this.cropState.inCropMode||"Tab"!==t.key)return{isHandled:!1};if("keyup"===t.type)return{isHandled:!0};const e=this.getKeyboardActivatablePresenters();if(0===e.length||this.currentTabIndex>=e.length)return{isHandled:!1};const n=this.currentTabIndex+(t.shiftKey?-1:1);return n<=-1||n>=e.length?{isHandled:!1}:(this.currentTabIndex>=0&&this.currentTabIndex<e.length&&(e[this.currentTabIndex].keyboardActive=!1),this.currentTabIndex=n,e[this.currentTabIndex].keyboardActive=!0,{isHandled:!0})}getCurrentKeyboardActivePresenter(){return this.getKeyboardActivatablePresenters()[this.currentTabIndex]}}class cx{constructor(e,n,r,i,o,s){var a,c;this.viewModelUpdated=new t,this.lastZoomScale=1,this.shouldKeepCenterUnmovedOnZoom=Lt("KeepCenterUnmovedOnZoom"),this.onCropEvent=t=>{0===t?(this.lastZoomScale=Co().zoom,Co().zoomPanUpdated.on(this.onZoomPanUpdated),Co().setZoomOutEligibilityChecker(this.zoomOutEligibilityChecker)):(Co().zoomPanUpdated.off(this.onZoomPanUpdated),Co().resetZoomOutEligibilityChecker()),this.editElementContext.inCropMode=this.selection.cropState.inCropMode,this.editElementContext.allowOutCrop=this.selection.cropState.outCropping,this.selectionManager.createSelectionHandles(),this.selection.cropState.inCropMode?(this.selectionManager.createCropHandles(),this.prepareCropPreview()):(this.cropPresenter.setInCropMode(!1),this.performCrop(t),this.selectionManager.cropHandleTeardown(),this.cropLabelsTeardown()),this.viewModelUpdated.emit()},this.onCropHandleBeingDragged=(t,e)=>{var n;const r="Dragging"===t;if(this.updateTransformAndCropOnCroppable(e),this.editElementContext.isCropHandlesDragging!==r&&(this.editElementContext.isCropHandlesDragging=r,this.selectionManager.createSelectionHandles(),r?null===(n=this.editContext.previewInfo)||void 0===n||n.presenter.addPreviewPresenter(...this.selectionManager.presenters):!0===this.cropConfig.performCropOnDragEnd&&"DragEnd"===t&&this.performCrop(2),this.viewModelUpdated.emit()),void 0===this.cropLabelManager)return;const i=this.editElementContext.cropTransformChangeTracker.croppedTransform;if(void 0!==this.cropResolutionLabel&&(r?(this.cropResolutionLabel.updateLabel(this.cropLabelManager.getPosition(i,0),this.cropLabelManager.getResolution(i.size)),this.cropResolutionLabel.showLabel()):this.cropResolutionLabel.hideLabel()),void 0!==this.cropAspectRatioLabel){const t=this.cropLabelManager.getAspectRatio(i);void 0!==t?(this.cropAspectRatioLabel.updateLabel(this.cropLabelManager.getPosition(i,1),t),this.cropAspectRatioLabel.showLabel()):this.cropAspectRatioLabel.hideLabel()}},this.onHandleUpdated=()=>{this.viewModelUpdated.emit()},this.onEditPreviewEvent=t=>{1===t&&this.selection.cropState.inCropMode&&(this.selectionManager.createSelectionHandles(),this.viewModelUpdated.emit())},this.onUncroppedTransformUpdated=t=>{this.updateCropOnPresenter(),!0===this.cropConfig.performCropOnDragEnd&&"DragEnd"===t&&this.performCrop(2)},this.updateCropOnPresenter=()=>{const t=this.editElementContext.cropTransformChangeTracker.srcRect;this.selection.cropState.crop=t,this.cropPresenter.setCrop(t)},this.onAnchorTransformUpdated=()=>{this.selection.cropState.inCropMode&&this.editElementContext.cropTransformChangeTracker.updateCropTransform(this.context.anchorPresenter.transform,!1)},this.zoomOutEligibilityChecker=()=>{if(void 0===this.cropConfig.shouldEnableZoomToCrop||!this.cropConfig.shouldEnableZoomToCrop())return{eligible:!0};const t=this.editElementContext.cropTransformChangeTracker;return function(t){if(void 0===t.uncroppedRelativeRotation||0===t.uncroppedRelativeRotation){const e=t.srcRect;return e.left<=0&&e.right<=0||e.top<=0&&e.bottom<=0}const e=Ey(t.croppedTransform,t.uncroppedTransform);return e.topLeft&&e.bottomRight||e.topRight&&e.bottomLeft}(t)?{eligible:!1}:{eligible:!0,targetValue:Ty(Co().zoom,t)}},this.onZoomPanUpdated=()=>{var t,e;const n=Co().zoom;this.lastZoomScale!==n&&((null===(e=(t=this.cropConfig).shouldEnableZoomToCrop)||void 0===e?void 0:e.call(t))&&(this.editElementContext.cropTransformChangeTracker.updateCropTransformOnZoom(this.lastZoomScale,n),this.shouldKeepCenterUnmovedOnZoom&&this.performCrop(2)),this.lastZoomScale=n)},this.selection=e,this.context=n,this.editContext=r,this.handleCreator=i,this.cropConfig=o,this.cropPresenter=n.modelPresenter,this.cropLabelManager=s,this.uncroppedRelativeRotation=e.graphic.model.rotation,null===(a=this.editContext.previewInfo)||void 0===a||a.presenter.notifier.on(this.onEditPreviewEvent),this.selection.cropState.cropEventNotifier.on(this.onCropEvent);const h=new ox(this.context.anchorPresenter.transform,this.selection.graphic.model.crop,this.uncroppedRelativeRotation);h.cropTransformUpdated.on(this.onCropHandleBeingDragged),h.uncroppedTransformUpdated.on(this.onUncroppedTransformUpdated),this.selection.cropState.cropTracker=h;const l=null!==(c=o.overflowTransparency)&&void 0!==c?c:.3;this.cropPresenter.setOverflowTransparency(l),this.editElementContext={graphic:this.selection.graphic,presenter:this.context.modelPresenter,anchorPresenter:this.context.anchorPresenter,editContext:this.editContext,inCropMode:this.selection.cropState.inCropMode,isCropHandlesDragging:!1,cropTransformChangeTracker:h,uncroppedAnchorPresenter:new sx(h),allowOutCrop:this.selection.cropState.outCropping,cropState:this.selection.cropState,config:o},this.selectionManager=new ax(this.selection.cropState,n,r,this.editElementContext,this.handleCreator,this.cropConfig,this.onHandleUpdated),this.selection.cropState.inCropMode&&this.prepareCropPreview(),this.context.anchorPresenter.transformUpdated.on(this.onAnchorTransformUpdated)}get viewModel(){return this.selectionManager.viewModel}updateUncroppedRelativeRotation(t,e){this.uncroppedRelativeRotation=t,this.editElementContext.cropTransformChangeTracker.updateUncroppedRelativeRotation(t,e)}isKeyboardFocussed(){return this.selectionManager.isKeyboardActive()}teardown(){var t;this.selection.cropState.inCropMode&&this.selection.cropState.setInCropMode(2),this.selectionManager.teardown(),this.cropLabelsTeardown(),null===(t=this.editContext.previewInfo)||void 0===t||t.presenter.notifier.off(this.onEditPreviewEvent),this.editElementContext.cropTransformChangeTracker.cropTransformUpdated.off(this.onCropHandleBeingDragged),this.editElementContext.cropTransformChangeTracker.uncroppedTransformUpdated.off(this.onUncroppedTransformUpdated),this.editElementContext.uncroppedAnchorPresenter.teardown(),this.selection.cropState.cropEventNotifier.off(this.onCropEvent),this.context.anchorPresenter.transformUpdated.off(this.onAnchorTransformUpdated)}cropLabelsTeardown(){var t,e;void 0!==this.cropResolutionLabel&&(null===(t=this.cropLabelManager)||void 0===t||t.teardown(this.cropResolutionLabel),this.cropResolutionLabel=void 0),void 0!==this.cropAspectRatioLabel&&(null===(e=this.cropLabelManager)||void 0===e||e.teardown(this.cropAspectRatioLabel),this.cropAspectRatioLabel=void 0)}prepareCropPreview(){var t,e;this.cropResolutionLabel=null===(t=this.cropLabelManager)||void 0===t?void 0:t.createCropLabel(),this.cropAspectRatioLabel=null===(e=this.cropLabelManager)||void 0===e?void 0:e.createCropLabel(),this.editElementContext.cropTransformChangeTracker.reset(this.context.anchorPresenter.transform,this.selection.graphic.model.crop,this.uncroppedRelativeRotation),this.cropPresenter.setInCropMode(!0)}performCrop(t){const e=this.editElementContext.cropTransformChangeTracker;if(1===t)return this.context.anchorPresenter.applyTransform(new id),void e.reset(this.context.anchorPresenter.transform,this.selection.graphic.model.crop);this.editElementContext.editContext.actionInvoker.invoke(new Gl(e.srcRect,e.croppedTransform,this.selection.graphic,e.uncroppedRelativeRotation))}updateTransformAndCropOnCroppable(t){!1!==t&&this.context.anchorPresenter.setTransform(this.editElementContext.cropTransformChangeTracker.croppedTransform),this.updateCropOnPresenter()}}class hx{constructor(e,n,r,i,o,s,a,c){var h;this.viewModel=new H,this.viewModelUpdated=new t,this.onModelUpdated=t=>{var e;if(void 0!==t){const n=t;if(0!=(512&n.updates)&&this.selectionPresenter.updateUncroppedRelativeRotation(this.model.rotation,this.selection.cropState.inCropMode?My:void 0),0!=(2&n.updates)){const t=this.selection.cropState.cropTracker;if(void 0===t)return;N(this.model.crop,t.srcRect)||t.updateUncroppedTransformWithSrcRect(null!==(e=this.model.crop)&&void 0!==e?e:new zl(0,0,0,0),"None")}}},this.updateViewModel=()=>{void 0!==this.presenter.viewModel.accessibleNode&&(this.presenter.viewModel.accessibleNode.shouldTakeFocus=!this.selectionPresenter.isKeyboardFocussed()),this.viewModel.children=[],void 0!==this.paintablePresenter&&this.viewModel.children.push(this.paintablePresenter.viewModel),void 0!==this.segmentablePresenter&&this.viewModel.children.push(this.segmentablePresenter.viewModel),this.viewModel.children.push(this.selectionPresenter.viewModel),this.viewModelUpdated.emit()},this.selection=e,this.presenter=n.modelPresenter,this.presenter.setSelected(!0),this.selectionPresenter=new cx(e,n,r,i,o,s),this.selectionPresenter.viewModelUpdated.on(this.updateViewModel),this.model=e.graphic.model,this.model.modelUpdated.on(this.onModelUpdated),void 0!==a&&(this.paintablePresenter=a(e,n,r),this.paintablePresenter.viewModelUpdated.on(this.updateViewModel)),void 0!==c&&(this.segmentablePresenter=c(e,n,r),null===(h=this.segmentablePresenter)||void 0===h||h.viewModelUpdated.on(this.updateViewModel)),this.updateViewModel()}teardown(){this.model.modelUpdated.off(this.onModelUpdated),void 0!==this.presenter.viewModel.accessibleNode&&(this.presenter.viewModel.accessibleNode.shouldTakeFocus=!1),void 0!==this.paintablePresenter&&(this.paintablePresenter.viewModelUpdated.off(this.updateViewModel),this.paintablePresenter.teardown()),void 0!==this.segmentablePresenter&&(this.segmentablePresenter.viewModelUpdated.off(this.updateViewModel),this.segmentablePresenter.teardown()),this.selectionPresenter.viewModelUpdated.off(this.updateViewModel),this.presenter.setSelected(!1),this.selectionPresenter.teardown()}}const lx="editPreview";class dx{constructor(){this.notifier=new t,this.viewModel=new H([],{nodeType:lx}),this.viewModelUpdated=new t,this.presenters=[],this.onViewModelUpdated=t=>{this.viewModelUpdated.emit(t)}}teardown(){}beginPreview(t){this.viewModel.children=[],this.notifier.emit(0,t)}addPreview(...t){this.viewModel.children.push(...t),this.viewModelUpdated.emit()}addPreviewPresenter(...t){for(const e of t)e.viewModelUpdated.on(this.onViewModelUpdated),this.presenters.push(e),this.viewModel.children.push(e.viewModel);this.viewModelUpdated.emit()}endPreview(t){for(const t of this.presenters)t.viewModelUpdated.off(this.onViewModelUpdated);this.presenters=[],this.viewModel.children=[],this.viewModelUpdated.emit(),this.notifier.emit(1,t)}}function ux(t,e){return px(t+e.rot+(function(t,e){const n=px(t);switch(n){case Df.Right:case Df.Left:return e.flip.x;case Df.Down:case Df.Up:return e.flip.y;default:b(n)}}(t,e)?180:0))}function px(t){const e=B(t);return e<45||e>315?Df.Right:e<135?Df.Down:e<225?Df.Left:Df.Up}function fx(t){return JSON.stringify(t)}class yx extends wt{constructor(t,e=[]){super(e),this.fallbackRegistry=t}beginRender(){for(const t of this)t.beginRender()}endRender(){for(const t of this)t.endRender()}addViewModel(t){if(void 0!==t.nodeId){const e=this.get(fx(t.nodeId));if(void 0!==e)return void e.addViewModel(t)}t.children.forEach((t=>{this.fallbackRegistry.addViewModel(t)}))}}class gx{constructor(t){this.listeners=[],this.filter=t}on(t){this.listeners.push(t)}off(t){const e=this.listeners.indexOf(t);-1!==e&&this.listeners.splice(e,1)}use(t){return this.on(t),()=>{this.off(t)}}emit(...t){this.filter(...t)&&this.listeners.forEach((e=>{e(...t)}))}}function xx(t=(()=>!0)){return()=>new gx(t)}class vx{constructor(t,e,n,r){this.pointerEventNotifiers=z(),this.renderScope=0,this.inBeginRender=!1,this.inEndRender=!1,this.renderTargetRegistry=t,this.viewModelHitTester=r,this.pointerEventHandler=new Fc(e),this.pointerEventHandler.on(new Nc(this.pointerEventNotifiers)),new $c(this.viewModelHitTester,n).addEventListeners(this.pointerEventNotifiers)}beginRender(){if(!this.inBeginRender)try{this.inBeginRender=!0,0===this.renderScope&&this.renderTargetRegistry.beginRender(),this.renderScope+=1}finally{this.inBeginRender=!1}}endRender(){if(!this.inEndRender)try{this.inEndRender=!0,this.renderScope-=1,0===this.renderScope&&this.renderTargetRegistry.endRender()}finally{this.inEndRender=!1}}hitTest(t){return this.viewModelHitTester.hitTest(t)}addViewModel(t){V(t)&&this.renderTargetRegistry.addViewModel(t)}beginGroup(t){}endGroup(){}}class mx{constructor(t){this.presenter=t}}class wx{constructor(t){this.element=t}showLabel(){this.element.style.visibility="visible"}hideLabel(){this.element.style.visibility="hidden"}updateLabel(t,e){this.element.textContent=e,this.element.style.left=`${t.x}px`,this.element.style.top=`${t.y}px`}}class bx{constructor(t,e,n){this.isSheetRTL=!1,this.parent=t,this.isGridViewRTL=e,this.isCGEnabled=n}createCropLabel(){return this.isCGEnabled(ou,Au.ChangeGate)&&(Su(this.isGridViewRTL)||(this.isSheetRTL=this.isGridViewRTL())),new wx(this.createLabelElement())}getPosition(t,e){const n=ac(t);switch(e){case 0:return new _(n.center().x-30,n.bottom);case 1:return new _(n.center().x-15,n.top+15);default:b(e)}}getResolution(t){const e=t.height.toFixed(0),n=t.width.toFixed(0);return this.isCGEnabled(ou,Au.ChangeGate)&&this.isSheetRTL?`${e} x ${n}`:`${n} x ${e}`}getAspectRatio(t){switch((t.size.width/t.size.height).toFixed(2)){case"1.50":return"3:2";case"1.00":return"1:1";case"1.33":return"4:3";case"1.77":case"1.78":return"16:9";default:return}}teardown(t){this.parent.removeChild(t.element)}createLabelElement(){const t=document.createElement("div");return t.style.pointerEvents="none",t.style.position="absolute",t.style.fontFamily="Segoe UI",t.style.fontSize="12px",t.style.textAlign="centre",t.style.lineHeight="16px",t.style.color="#F2F2F2",t.style.boxSizing="border-box",t.style.background="#000000",t.style.opacity="0.6",t.style.borderRadius="2px",t.style.paddingTop="2px",t.style.paddingBottom="2px",t.style.paddingLeft="4px",t.style.paddingRight="4px",t.style.boxShadow="0px 3.2px 7.2px rgba(0, 0, 0, 0.22)",t.style.visibility="hidden",this.isCGEnabled("OfficeVSO:9006402_CropDimensionBoxOverflowFix",Au.ChangeGate)&&(t.style.whiteSpace="nowrap"),this.isCGEnabled(ou,Au.ChangeGate)&&(t.style.unicodeBidi="plaintext"),this.parent.appendChild(t),t}}function Px(t,e,n){const r=new mx(new dx),i=new ie(function(t,e,n){const r={noSelectionHandles:!0,noMoveInCropMode:!t.isEnabled(su,Au.FeatureGate),noResizeInCropMode:!t.isEnabled(su,Au.FeatureGate)},i=(o=new dg(r),s={cropKeyboardEventProcessor:t.isEnabled("OfficeVSO:8843510_cropPictureEnterKeyAction",Au.ChangeGate)?Cx:Ju,snapToAspectRatio:!0,minCropWindowSize:t.isEnabled("OfficeVSO:8900388_CropPictureMinCropWindowSize",Au.ChangeGate)?new _t(11,11):void 0},c=new bx(t.parent,t.isGridViewRTL,t.isEnabled),(t,e,n)=>(function(t){ed(t)||m(0,`selection of type ${t.type} is not a PictureSelection`)}(t),new hx(t,e,n,o,s,c,l,d)));var o,s,c,l,d;return{anchorPresenterCreatorEntries:[le()],selectionCreatorRegistrars:[nd,h],selectionPresenterCreatorEntries:[[a,py()],[Zl,i]],keyboardEventNotifiers:Kc(new Oc(document.body)),actionInvoker:{invoke:t=>{e(t)}},editPreviewInfo:n,renderOnlyWhenDirty:Lt("RenderOnlyWhenDirty")}}(t,n,r)),s=new Q;if(function(t,e,n){const r=Lc("svg");r.id=au+e.parent.id,e.parent.appendChild(r),r.style.width=cu,r.style.height=cu,r.style.overflow=hu,r.setAttribute(lu,du);const i=(new kc).register(zd,ru).register(yy,xy),o=new yx(t.renderTargetRegistry),s=new Hc(r,i),a=new Vc(t.renderTargetRegistry);t.renderTargetRegistry.register(zd,s).register(yy,s).register($,a);const c=new fy,h={pointerdown:new q(xx((l={}).pointerdown)),pointermove:new q(xx(l.pointermove)),pointerup:new q(xx(l.pointerup)),pointercancel:new q(xx(l.pointercancel)),pointerover:new q(xx(l.pointerover)),pointerout:new q(xx(l.pointerout))};var l;c.hitTestableRenderTargets.push(s),function(t,e,n,r,i){t.register($,new vx(e,n,r,i))}(t.renderTargetRegistry,o,e.parent,h,c),o.register(fx({nodeType:ly}),a),o.register(fx({nodeType:lx}),a)}(i,t),function(t,e){t.presenterCreatorRegistry.register(Xl,Vd(ki)),t.presenterCreatorRegistry.register(o,K(e,t.presenterCreatorRegistry,t.anchorPresenterCreatorRegistry))}(i,s),function(t){const e={dispatcher:new ix,actions:rx(),keyboardShortcuts:new Dp([])};t.register(Zl,e)}(i.editorRegistry),t.isEnabled("OfficeVSO:9045865_CropImageDisappearOnTellMeSearch",Au.ChangeGate)){const{keyboardShortcuts:e}=Kp(i.editorRegistry);e.registerShortcut({key:"Delete",modifiers:_p.None,performer:Ax}),e.registerShortcut({key:"Backspace",modifiers:_p.None,performer:Ax}),t.isEnabled("OfficeVSO:9138471_CropPictureTabKeySupressed",Au.ChangeGate)&&e.registerShortcut({key:"Tab",modifiers:_p.None,performer:Ax})}else Kp(i.editorRegistry);r.renderTargetRegistry=i.renderTargetRegistry;const c=new Ji(0,0,t.parent.clientWidth,t.parent.clientHeight);i.start(e,ae(c));const l=new Qf([[Xl,(t,e)=>[{point:_f(e,1),angle:ux(270,e)},{point:_f(e,5),angle:ux(0,e)},{point:_f(e,7),angle:ux(90,e)},{point:_f(e,3),angle:ux(180,e)}]]]),d=[new sf(new my(new Pu),(()=>c))];return d.push(new df(new Cy(new Pu))),d.push(new xf(new Ay(new Pu))),r.dragEditor=new Zf(i.selection,i.presenter,l,d),i}function Cx(t){return"keyup"===t.type?{isHandled:!1,discardCrop:!1,exitCrop:!1}:"Enter"===t.key||"Escape"===t.key?(t.preventDefault(),t.stopPropagation(),{isHandled:!1,discardCrop:!1,exitCrop:!0}):{isHandled:!1,discardCrop:!1,exitCrop:!1}}function Ax(t){return{isHandled:!1}}class jx{constructor(t){this.hostContext=new Y(vt),this.performCropCommand="PerformCrop",this.getPictureRenderData=()=>this.pictureRenderData,this.performAction=t=>{var e,n,r,i,o,s,a,c,h,l,d,u;if(f(0,`ExcelPictureHost.performAction: Performing action ${null==t?void 0:t.actionType}`),this.host.performAction(t),function(t){return t.actionType===Wl}(t)){this.hasCroppedAreaChanged(t)||f(0,`ExcelPictureHost.performAction: No change was made in picture with id ${this.id}. Initiating PerformCropPictureHostAction without crop details.`);const p=t,y={width:null!==(r=null===(n=null===(e=p.transform)||void 0===e?void 0:e.size)||void 0===n?void 0:n.width)&&void 0!==r?r:0,height:null!==(s=null===(o=null===(i=p.transform)||void 0===i?void 0:i.size)||void 0===o?void 0:o.height)&&void 0!==s?s:0},g={x:null!==(h=null===(c=null===(a=p.transform)||void 0===a?void 0:a.pos)||void 0===c?void 0:c.x)&&void 0!==h?h:0,y:null!==(u=null===(d=null===(l=p.transform)||void 0===l?void 0:l.pos)||void 0===d?void 0:d.y)&&void 0!==u?u:0},x={top:p.crop.top,bottom:p.crop.bottom,left:p.crop.left,right:p.crop.right};this.hostConfig.actionHandler.executeAction(new Fu(this.id,y,x,g))}},this.hostConfig=t,this.id=t.id,this.parent=t.parent,t.isEnabled(iu,Au.FeatureGate)?(this.graphicCollectionModel=new P(this.hostContext),this.host=Px(this.hostConfig,this.graphicCollectionModel,this.performAction)):(this.host=new ie(this.getHostConfig()),this.registerRenderTarget(),this.registerPresenterCreator(),this.graphicCollectionModel=new P(this.hostContext),this.host.start(this.graphicCollectionModel,new se)),this.selection=this.host.selection,this.commandContext=new Bu(new Ql(!0),this.host.selection,this.hostContext.themeInfo,(()=>{})),this.pictureProvider=new Nu(this.hostConfig,this.getPictureRenderData),this.pictureRenderStrategy=new Yu(this.hostConfig,this.pictureProvider)}updateModel(t){let e;try{e=function(t){const e=JSON.parse(t,Ru),n=null==e?void 0:e.imageURL;if(null==n||""===n)throw Error("Image URL is undefined or empty.");return e.pictureMetaData.pictureModelJson.data.data=n,e}(t)}catch(t){return void u(0,`ExcelPictureHost.updateModel: Failed to parse json object with the following message: ${t.message}`)}if(this.id!==e.id)return;const n=this.pictureRenderData;this.pictureRenderData=e,void 0===this.graphic?(this.graphic=this.pictureRenderStrategy.createGraphic(this.hostContext,this.pictureRenderData,this.id),this.graphicCollectionModel.addGraphics([this.graphic])):this.pictureRenderStrategy.updateGraphic(this.hostContext,this.graphic,this.pictureRenderData,n)}handleCommand(t,e){let n=t;"BeginCropPreview"===n&&(this.isCropMode()?n=this.performCropCommand:this.hostConfig.actionHandler.executeAction(new Du(this.id)));const r=this.createAction(n,e);void 0!==r&&this.performAction(r)}isEditing(){return this.isCropMode()}getHitTestData(t,e,n){}isRenderTransparencySupported(){return!0}isRenderOverflowSupported(){return!0}setSelected(t){if(this.hostConfig.isEnabled(iu,Au.FeatureGate))if(this.graphic&&t)this.performAction(new mo([this.graphic]));else if(!t&&this.isCropMode()){const t=this.createAction(this.performCropCommand);void 0!==t&&this.host.performAction(t)}}isCropMode(){const t=this.getPictureSelection();return void 0!==t&&t.cropState.inCropMode}createAction(t,e={}){const n=Iu.createAction(t,e,this.commandContext);return void 0===n&&u(0,`ExcelPictureHost.createAction: Failed to create action for command ${t}.`),n}getHostConfig(){return{anchorPresenterCreatorEntries:[le()],selectionCreatorRegistrars:[nd,h],selectionPresenterCreatorEntries:[[a,Rc]],keyboardEventNotifiers:Gc(),actionInvoker:{invoke:t=>{}},renderOnlyWhenDirty:Lt("RenderOnlyWhenDirty")}}registerPresenterCreator(){this.host.presenterCreatorRegistry.register(Xl,Vd(ki)),this.host.presenterCreatorRegistry.register(o,K(new Q,this.host.presenterCreatorRegistry,this.host.anchorPresenterCreatorRegistry))}registerRenderTarget(){const t=Lc("svg");t.id=au+this.parent.id,this.parent.appendChild(t),t.style.width=cu,t.style.height=cu,t.style.overflow=hu,t.setAttribute(lu,du);const e=(new kc).register(zd,ru);this.host.renderTargetRegistry.register(zd,new Hc(t,e)),Wc(this.host.renderTargetRegistry)}getPictureSelection(){const t=this.selection.selections;if(1===t.length&&ed(t[0]))return t[0]}hasCroppedAreaChanged(t){var e,n,r,i,o,s,a,c;if(void 0===t||!this.pictureRenderData)return!1;const h=null===(i=null===(r=null===(n=null===(e=this.pictureRenderData)||void 0===e?void 0:e.pictureMetaData)||void 0===n?void 0:n.pictureModelJson)||void 0===r?void 0:r.crop)||void 0===i?void 0:i.srcRect,l=t.crop;return void 0===h?!N(l,new zl(0,0,0,0)):!(N(l,h)&&N(null===(o=t.transform)||void 0===o?void 0:o.size,null===(a=null===(s=this.pictureRenderData)||void 0===s?void 0:s.pictureMetaData)||void 0===a?void 0:a.size)&&N(null===(c=t.transform)||void 0===c?void 0:c.pos,new Bt(0,0)))}}const Tx=new class{constructor(){this.globalLoggerSet=!1}createHost(t){return this.globalLoggerSet||(d(new Ol(t.logger)),this.globalLoggerSet=!0),void 0!==t.excelHealth&&(x(new Tl(t.excelHealth)),El(new Sl(t.excelHealth))),new jx(t)}};class Sx{constructor(t){this.element=function(t){const e=document.createElement("div");return e.id="GC2AriaLiveRegion",e.style.width="0",e.style.height="0",e.style.overflow="hidden",e.style.zIndex="-1",e.setAttribute("role","marquee"),e.setAttribute("aria-live","polite"),e.setAttribute("aria-atomic","true"),t.appendChild(e),e}(t)}teardown(){var t;null===(t=this.element.parentElement)||void 0===t||t.removeChild(this.element)}notify(t){Uc(this.element),this.element.appendChild(document.createTextNode(t))}}function Rx(t,e,n){const r=e.pop();if(void 0===r)return;const i=t.performUndoEntry(r);n.push(i)}class Ex{constructor(t){this.undoEntries=[],this.redoEntries=[],this.editHost=t}logUndo(t){!function(t,e,n){var r;const i=n[n.length-1];void 0!==i&&(null===(r=t.mergePolicy)||void 0===r?void 0:r.shouldMergeWithPrevious(i.mergePolicy))?n.splice(n.length-1,1,{savedSelectionBefore:i.savedSelectionBefore,savedSelectionAfter:t.savedSelectionAfter,editOps:[...t.editOps,...i.editOps],mergePolicy:t.mergePolicy}):n.push(t),e.splice(0)}(t,this.redoEntries,this.undoEntries)}redo(){Rx(this.editHost,this.redoEntries,this.undoEntries)}undo(){Rx(this.editHost,this.undoEntries,this.redoEntries)}isUndoStackEmpty(){return 0===this.undoEntries.length}isRedoStackEmpty(){return 0===this.redoEntries.length}clear(){this.undoEntries=[],this.redoEntries=[]}}class Mx{constructor(t,e,n){this.fillRef=t,this.lineRef=e,this.fontRef=n}equals(t){return N(this.fillRef,t.fillRef)&&N(this.lineRef,t.lineRef)&&N(this.fontRef,t.fontRef)}}const Ox="setAlphaColorTransform";class kx{constructor(t,e=!1){this.actionType=Ox,this.transparency=t,this.mergeUndo=e}}function Ix(t,e){const n=100-e.transparency;switch(t.type){case 1:return new ht(Bx(t.color,n));case 4:{const e=t.clone();return e.opacity=n,e}case 3:{const e=t;return new hs(e.gradientType,e.stops.map((t=>new cs(t.position,Bx(t.color,n)))),e.fromRect,e.toRect,e.angle,e.rotateWithShape)}}return t}function Bx(t,e){const n=t.clone();for(let t=0;t<n.transforms.length;t+=1){const e=n.transforms[t];4!==e.type&&5!==e.type||(n.transforms.splice(t,1),t-=1)}return n.transforms.push(new vh(e)),n}class _x{constructor(t,e){this.model=t,this.values=e}perform(){const t=this.model.geometry.adjustValues;return this.model.geometry=function(t,e){switch(t.type){case 0:return new Me(t.preset,e);case 1:return new Oe(t.custom,e);default:b(t)}}(this.model.geometry,this.values),{undoOp:new _x(this.model,t)}}}const Dx="GC2ShapeEditing";function Fx(t,e){return Ml(Dx,new Map([["ActionName",t.actionType]])),new xg(e,"geometry",new Me(t.newShapeType))}function Nx(t,e){return Ml(Dx,new Map([["ActionName",t.actionType]])),new xg(e,"fill",t.fill)}function Ux(t,e){Ml(Dx,new Map([["ActionName",t.actionType]]));const n=wg(e.line,t);return new xg(e,"line",n)}function Lx(t,e){var n;Ml(Dx,new Map([["ActionName",t.actionType]]));const r=function(t,e){return new Mx(void 0!==e.newFillRef?e.newFillRef:t.fillRef,void 0!==e.newLineRef?e.newLineRef:t.lineRef,void 0!==e.newFontRef?e.newFontRef:t.fontRef)}(null!==(n=e.style)&&void 0!==n?n:new Mx,t);return new xg(e,"style",r)}function qx(t,e){return Ml(Dx,new Map([["ActionName",t.actionType]])),new _x(e,t.values)}function zx(t,e){Ml(Dx,new Map([["ActionName",t.actionType]]));const n=Pg(e.effects,t);return new xg(e,"effects",n)}function $x(t,e){if(Ml(Dx,new Map([["ActionName",t.actionType]])),0===e.fill.type)return[];const n=Ix(e.fill,t);return[new xg(e,"fill",n,t.mergeUndo)]}function Hx(t,e){if(Ml(Dx,new Map([["ActionName",t.actionType]])),void 0===e.line.fill||0===e.line.fill.type)return[];const n=e.line.clone();return n.fill=Ix(e.line.fill,t),[new xg(e,"line",n,t.mergeUndo)]}function Vx(t,e){return Ml(Dx,new Map([["ActionName",t.actionType]])),[...$x(new kx(100-t.opacity,t.mergeUndo),e),...Hx(new kx(100-t.opacity,t.mergeUndo),e)]}class Wx{dispatchAction(t,e,n){if(wo(t)){if(t instanceof bo){if(e.textSelection.range=t.textRange.clone(),t.textRange.charPos===e.graphic.model.text.textBody.length&&(e.textSelection.range.charPos-=1),e.textSelection.highlight=!t.clearSelectionHighlight,void 0!==t.ipCharProps?e.textSelection.ipCharProps.setFrom(t.ipCharProps):t.clearExisting&&(e.textSelection.ipCharProps=_i(e.textSelection)),t.isFirstTimeSelect)return new Rt(!0)}else{const t=Lt("QuillSelectionRefactor");if(t?e.textSelection.textRange=void 0:(e.textSelection.range=new Bi(0,e.graphic.model.text.textBody.length-1),e.textSelection.highlight=!1),e.textSelection.ipCharProps=_i(e.textSelection),!t){const t=document.getSelection();null!==t&&t.empty()}}return new Rt(!1)}const r=n.editorRegistry.performAction(t,e.shapeSelection,n);return r.performed?r:n.editorRegistry.performAction(t,e.textSelection,n)}dispatchKeyboardEvent(t,e,n){if(n.isInLivePreview)return{isHandled:!1};if("keydown"===t.type&&!(1!==t.key.length&&"Enter"!==t.key||t.ctrlKey||t.metaKey))return!0!==e.graphic.model.text.lockEdit&&e.graphic.model.text.textAppended.emit("Enter"===t.key?"":t.key),{isHandled:!0};const r=n.editorRegistry.processKeyboardEvent(t,e.shapeSelection,n);return r.isHandled?r:n.editorRegistry.processKeyboardEvent(t,e.textSelection,n)}}const Gx="cutcopy";class Kx{constructor(t,e){this.actionType=Gx,this.isCut=t,this.clipboardData=e}}function Qx(t){return t.actionType===Gx}const Yx="paste";class Jx{constructor(t){this.actionType=Yx,this.clipboardData=t}}function Xx(t){return t.actionType===Yx}class Zx{constructor(t,e,n,r,i){this.data=t,this.sourceAnchorBounds=e,this.targetBounds=n,this.rotation=r,this.flip=i}}class tv{}class ev extends Zx{constructor(t,e,n,r=0,i=new It){super(t,e,n,r,i),this.type=tv}}function nv(t){if(!function(t){return t.type===tv}(t))throw new Error(`Invalid renderData type: ${t.type}`)}class rv{constructor(e,n,r,i){this.viewModelUpdated=new t,this.onModelUpdated=(t,e)=>{this.refreshViewModel(1,e).catch((t=>{this.logCatchReason(t)}))},this.onAnchorTransformUpdated=t=>{this.refreshViewModel(2,t).catch((t=>{this.logCatchReason(t)}))},this.onViewTransformUpdated=t=>{this.refreshViewModel(8,t).catch((t=>{this.logCatchReason(t)}))},this.onCombinedScaleChanged=()=>{this.refreshViewModel(4).catch((t=>{this.logCatchReason(t)}))},this.graphic=e,this.context=n,this.viewModel=r(),this.imageTypeChecker=i,this.teardown=U(this.graphic.model.modelUpdated.use(this.onModelUpdated),this.context.anchorPresenter.transformUpdated.use(this.onAnchorTransformUpdated),this.context.viewScale.viewTransformChanged.use(this.onViewTransformUpdated),this.context.viewScale.combinedScaleChanged.use(this.onCombinedScaleChanged))}init(t,e){void 0!==t&&this.viewModelUpdated.on(t),this.updateViewModelProperties(15,e).catch((t=>{this.logCatchReason(t)}))}async updateViewModelProperties(t,e){let n=!1;const r=new Yt(`${this.presenterClassName}_UpdateViewModel`,void 0!==e?[e]:[]);try{0!=(8&t)&&(n=this.updateViewModelViewTransform()||n),0!=(2&t)&&(n=this.updateViewModelAnchorTransform()||n),0!=(4&t)&&(n=this.updateViewModelScaleFactor()||n),0!=(1&t)&&(n=await this.updateViewModelRenderData()||n)}catch(t){throw u(0,`Exception: ${t.message}`),t}finally{r.complete()}n&&(this.viewModelUpdated.emit(e),this.viewModel.imageViewModelUpdated.emit(function(t){const e=[];return 0!=(1&t)&&e.push(0),0!=(6&t)&&e.push(1),e}(t)))}async updateViewModelRenderData(){const t=this.graphic.model.fallbackRenderData;return void 0!==t&&(this.imageTypeChecker(t),this.viewModel.sourceAnchorBounds=t.sourceAnchorBounds.clone(),this.viewModel.bounds=t.targetBounds.clone(),await this.viewModel.setImageData(t.data),!0)}updateViewModelAnchorTransform(){return 0!==this.context.viewScale.viewTransform.size.width||0!==this.context.viewScale.viewTransform.size.height?this.updateViewModelViewTransform():!this.viewModel.transform.equals(this.context.anchorPresenter.transform)&&(this.viewModel.transform=this.context.anchorPresenter.transform.clone(),!0)}updateViewModelViewTransform(){return!this.viewModel.transform.equals(this.context.viewScale.viewTransform)&&(this.viewModel.transform=this.context.viewScale.viewTransform.clone(),!0)}updateViewModelScaleFactor(){return this.viewModel.scaleFactor!==this.context.viewScale.zoomFactor&&(this.viewModel.scaleFactor=this.context.viewScale.zoomFactor,!0)}logCatchReason(t){u(0,`${t}`)}async refreshViewModel(t,e){return this.updateViewModelProperties(t,e)}}class iv extends rv{constructor(t,e,n){super(t,e,n,nv),this.renderDataType=tv,this.presenterClassName="Base64ImagePresenter"}}class ov{}class sv extends Bc{constructor(){super(),this.type=ov}teardown(){}}class av{}class cv extends Zx{constructor(t,e,n,r=0,i=new It){super(t,e,n,r,i),this.type=av}}function hv(t){if(!function(t){return t.type===av}(t))throw new Error(`Invalid renderData type: ${t.type}`)}class lv extends rv{constructor(t,e,n){super(t,e,n,hv),this.renderDataType=av,this.presenterClassName="SVGRenderDataPresenter"}}class dv extends Mc{}class uv{constructor(t,e,n=(()=>!0)){this.onCut=t=>{this.shouldHandleEvent(t)&&(t.preventDefault(),null!==t.clipboardData?this.actionInvoker.invoke(new Kx(!0,t.clipboardData)):u(0,"cut failed due to missing clipboardData"))},this.onCopy=t=>{this.shouldHandleEvent(t)&&(t.preventDefault(),null!==t.clipboardData?this.actionInvoker.invoke(new Kx(!1,t.clipboardData)):u(0,"copy failed due to missing clipboardData"))},this.onPaste=t=>{this.shouldHandleEvent(t)&&(t.preventDefault(),null!==t.clipboardData?this.actionInvoker.invoke(new Jx(t.clipboardData)):u(0,"paste failed due to missing clipboardData"))},this.actionInvoker=e,this.shouldHandleEvent=n,this.sink={cut:this.onCut,copy:this.onCopy,paste:this.onPaste},this.handler=new dv(t),this.handler.on(this.sink)}teardown(){this.handler.off(this.sink)}}function pv(t){return{name:"FontScheme",major:{latin:fv(t.major.latin),eastAsian:fv(t.major.ea),complexScript:fv(t.major.cs),fontList:yv(t.major.fonts)},minor:{latin:fv(t.minor.latin),eastAsian:fv(t.minor.ea),complexScript:fv(t.minor.cs),fontList:yv(t.minor.fonts)}}}function fv(t){return{typeface:t.typeface}}function yv(t){return t.map((t=>({script:t.script,typeface:t.typeface})))}function gv(t){return{name:"StyleMatrix",fills:(e=t.fills,e.map((t=>Sh(t)))),lines:xv(t.lines)};var e}function xv(t){return t.map((t=>$u(t)))}function vv(t,e){const n=t.group.cloneNode();void 0!==t.ariaLabel&&n.setAttribute("aria-label",`${t.ariaLabel}`),t.paths.forEach((r=>{const[i,o,s]=r,a=i.cloneNode();void 0!==t.fillColor&&1!==o&&a.setAttribute("fill",pd(function(t,e){switch(e){case 4:return nt(Ee(t,.6));case 5:return nt(Ee(t,.8));case 3:return nt(Ph(t,.8));case 2:return nt(Ph(t,.6));case 0:return;case 1:return t;default:b(e)}}(t.fillColor,o))),s&&a.setAttribute("stroke","none"),n.appendChild(a);let c=a;t.hitTestSlop>0&&(c=a.cloneNode(),c.setAttribute("stroke-width",`${t.hitTestSlop}`),c.style.visibility="hidden",n.appendChild(c)),c.style.pointerEvents=function(t,e){const n="none"!==t.getAttribute("fill"),r=e.getAttribute("fill");return n&&(null===r||"none"!==r)}(n,c)?"painted":"stroke",e.hitTestMap.setViewModel(c,t)})),e.svgRoot.appendChild(n)}const mv="setTextAlphaColorTransform";class wv{constructor(t,e=!1){this.actionType=mv,this.transparency=t,this.mergeUndo=e}}function bv(t,e){const n=[],r=t.textCharFormats.getRunRangeArray(e);for(const e of r){const r=t.getCharacterRunPropertyBag(e);void 0===r&&w("Text","CharRunPropBagUndefined","Undefined character run property bag in getCharRangePropBagArray"),n.push([e,r])}return n}function Pv(t,e){const n=[],r=t.textParagraphFormats.getRunRangeArray(e);for(const e of r){const r=t.getParagraphRunPropertyBag(e);void 0===r&&w("Text","ParaRunPropBagUndefined","Undefined paragraph run property bag in getParaRangePropBagArray"),n.push([e,r])}return n}class Cv{constructor(t,e){this.type=0,this.range=t,this.charRunProps=e}}class Av{constructor(t,e){this.type=7,this.range=t,this.charRunPropBag=e}}class jv{constructor(t,e){this.type=8,this.ipCharProps=t,this.charRunPropBag=e}}function Tv(t,e,n,r){return t.map((t=>void 0!==t[1][e]?new n(t[0],t[1]):new r(t[0],[e])))}class Sv{constructor(t,e,n,r,i,o,s,a){this.isQuillSelectionRefactorEnabled=Lt("QuillSelectionRefactor"),this.textBody=t,this.prop=e,this.charPropRangeWrapperArray=n,this.textSelection=r,this.textRange=i,this.highlightSelection=o,this.ipCharProps=s,a&&(this.mergePolicy=new Ev(t,e))}perform(){const t=[],e=this.ipCharProps;for(const e of this.charPropRangeWrapperArray){const n=this.textBody.getCharacterRunPropertyBag(e.range);void 0===n&&m(0,"Undefined character run property bag in TextCharPropEditOperation perform");const r=n[this.prop];t.push({range:e.range,propVal:r})}const n=this.charPropRangeWrapperArray.map((t=>{const e=gs({[this.prop]:t.propVal});return[t.range,e]})),r=this.highlightSelection?this.textRange:void 0,i=this.isQuillSelectionRefactorEnabled?[]:[new jv(this.ipCharProps,n[0][1])];if(i.push(...Tv(n,this.prop,Av,Cv)),this.textBody.applyBatchOperations(i,r),this.isQuillSelectionRefactorEnabled){const t=this.textSelection.ipCharProps.clone();t.setFrom(n[0][1]),this.textSelection.ipCharProps=t}return{undoOp:new Sv(this.textBody,this.prop,t,this.textSelection,this.textRange,this.highlightSelection,e,!1)}}}class Rv{}class Ev{constructor(t,e){this.type=Rv,this.textBody=t,this.prop=e}shouldMergeWithPrevious(t){return void 0!==t&&t.type===Rv&&t.textBody===this.textBody&&t.prop===this.prop}}class Mv{constructor(t){this.type=4,this.range=t}}function Ov(t,e,n,r){void 0!==e&&(is(n.length,e),t.range=e),Lt("QuillSelectionRefactor")?t.textRange=e:void 0!==e&&void 0!==r&&r.selectionSet.emit(e)}function kv(t){let e=t.replace(/\r\n/g,Sa);return Lt("EnsureNoBreakSpace")&&(e=e.replace(/ /g,Ea)),e=e.normalize("NFC"),e}class Iv{constructor(t,e){this.type=3,this.charPos=t,this.text=e}}class Bv{constructor(t,e){this.type=10,this.range=t,this.paraRunPropBag=e}}function _v(t,e){return t.map((t=>new e(t[0],t[1])))}class Dv{}class Fv{constructor(t,e){this.type=Dv,this.charPos=t,this.length=e}shouldMergeWithPrevious(t){return void 0!==t&&t.type===Dv&&t.charPos+t.length===this.charPos}}class Nv{constructor(t,e,n,r=!0,i,o,s,a,c){this.isQuillSelectionRefactorEnabled=Lt("QuillSelectionRefactor"),this.textBody=t,this.charPos=e,this.text=kv(n),this.isOnCaretPlacement=r,this.ipCharPropBag=i,this.charRangePropBagArray=o,this.paraRangePropBagArray=s,this.textSelection=a,this.ipPos=c}get mergePolicy(){if(this.text[this.text.length-1]!==Sa)return new Fv(this.charPos,this.text.length)}perform(){var t;const e=[new Iv(this.charPos,this.text)];void 0!==this.ipCharPropBag&&e.push(new Av(new Bi(this.charPos,this.text.length),this.ipCharPropBag)),void 0!==this.charRangePropBagArray&&e.push(..._v(this.charRangePropBagArray,Av)),void 0!==this.paraRangePropBagArray&&e.push(..._v(this.paraRangePropBagArray,Bv));const n=this.isOnCaretPlacement?new Bi(this.charPos+this.text.length,0):new Bi(this.charPos,this.text.length);return this.textBody.applyBatchOperations(e,this.isQuillSelectionRefactorEnabled?void 0:n),void 0!==this.textSelection&&this.isQuillSelectionRefactorEnabled&&Ov(this.textSelection,new Bi((null!==(t=this.ipPos)&&void 0!==t?t:this.charPos)+this.text.length,0),this.textBody),this.isQuillSelectionRefactorEnabled&&void 0!==this.textSelection&&void 0!==this.ipCharPropBag&&(this.textSelection.ipCharProps=this.ipCharPropBag),{undoOp:new Uv(this.textBody,new Bi(this.charPos,this.text.length),this.isOnCaretPlacement,this.ipCharPropBag,this.textSelection)}}}class Uv{constructor(t,e,n,r,i){this.isQuillSelectionRefactorEnabled=Lt("QuillSelectionRefactor"),this.textBody=t,this.textRange=e,this.isOnCaretPlacement=n,this.ipCharPropBag=r,this.textSelection=i}perform(){const t=this.textRange.clone();void 0!==this.textSelection&&this.isQuillSelectionRefactorEnabled&&Ov(this.textSelection,new Bi(t.charPos,0),this.textBody);const e=this.textBody,n=bv(e,t),r=Pv(e,t),i=this.textBody.getText(t),o=[new Mv(t)];return this.textBody.applyBatchOperations(o,this.isQuillSelectionRefactorEnabled?void 0:new Bi(t.charPos,0)),this.isQuillSelectionRefactorEnabled&&void 0!==this.textSelection&&(this.textSelection.ipCharProps=_i(this.textSelection)),{undoOp:new Nv(this.textBody,t.charPos,i,this.isOnCaretPlacement,this.ipCharPropBag,n,r,this.textSelection)}}}class Lv{constructor(t,e,n){this.type=9,this.scale=t,this.ipCharProps=e,this.defaultFontSize=n}}class qv{constructor(t,e,n,r){this.mergePolicy=new Xa,this.textBody=t,this.scale=e,this.ipCharProps=n,this.defaultFontSize=r}perform(){return this.textBody.applyBatchOperations([new Lv(this.scale,this.ipCharProps,this.defaultFontSize)]),{undoOp:new qv(this.textBody,1/this.scale,this.ipCharProps,this.defaultFontSize)}}}class zv{constructor(t,e){this.type=1,this.range=t,this.paraRunProps=e}}class $v{constructor(t,e,n,r,i,o=!1){this.textBody=t,this.prop=e,this.paraPropRangeWrapperArray=n,this.textRange=r,this.highlightSelection=i,o&&(this.mergePolicy=new Vv(t,e))}perform(){const t=[];for(const e of this.paraPropRangeWrapperArray){const n=this.textBody.getParagraphRunPropertyBag(e.range);void 0===n&&m(0,"Undefined paragraph run property bag in TextParaPropEditOperation perform");const r=n[this.prop];t.push({range:e.range,propVal:r})}const e=this.paraPropRangeWrapperArray.map((t=>{const e=ws({[this.prop]:t.propVal});return[t.range,e]})),n=this.highlightSelection?this.textRange:void 0;return this.textBody.applyBatchOperations(Tv(e,this.prop,Bv,zv),n),{undoOp:new $v(this.textBody,this.prop,t,this.textRange,this.highlightSelection)}}}class Hv{}class Vv{constructor(t,e){this.type=Hv,this.textBody=t,this.prop=e}shouldMergeWithPrevious(t){return void 0!==t&&t.type===Hv&&t.textBody===this.textBody&&t.prop===this.prop}}class Wv{constructor(t,e){this.type=5,this.range=t,this.text=e}}class Gv{constructor(t,e,n,r,i,o,s,a){this.isQuillSelectionRefactorEnabled=Lt("QuillSelectionRefactor"),this.textBody=t,this.textRange=e,this.text=kv(n),this.charRangePropBagArray=r,this.paraRangePropBagArray=i,this.textSelection=o,this.textModel=s,this.textRangeAfter=a,this.isCustomizedTextSelectionEnabled=Lt("CustomizedTextSelectionAfterReplacement")&&void 0!==this.textModel}perform(){const t=this.textRange.clone();void 0!==this.textSelection&&(this.isQuillSelectionRefactorEnabled||this.isCustomizedTextSelectionEnabled)&&Ov(this.textSelection,new Bi(t.charPos,0),this.textBody,this.textModel);const e=this.textBody,n=e.getText(t),r=new Bi(t.charPos,this.text.length),i=bv(e,t),o=Pv(e,t),s=[new Wv(t,this.text)];return void 0!==this.charRangePropBagArray&&s.push(..._v(this.charRangePropBagArray,Av)),void 0!==this.paraRangePropBagArray&&s.push(..._v(this.paraRangePropBagArray,Bv)),this.textBody.applyBatchOperations(s,void 0===this.textSelection||this.isQuillSelectionRefactorEnabled||this.isCustomizedTextSelectionEnabled?void 0:new Bi(t.charPos+this.text.length,0)),void 0!==this.textSelection&&(this.isQuillSelectionRefactorEnabled?(Ov(this.textSelection,void 0===this.textRangeAfter?new Bi(t.charPos+this.text.length,0):this.textRangeAfter,this.textBody),this.textSelection.ipCharProps=void 0!==this.charRangePropBagArray?this.charRangePropBagArray[0][1]:i[0][1]):this.isCustomizedTextSelectionEnabled&&Ov(this.textSelection,void 0===this.textRangeAfter?new Bi(t.charPos+this.text.length,0):this.textRangeAfter,this.textBody,this.textModel)),{undoOp:new Gv(this.textBody,r,n,i,o,this.textSelection,this.textModel,t)}}}class Kv{constructor(t,e){this.type=6,this.resizeLimit=t,this.isLimitSetByUser=e}}class Qv{constructor(t,e,n){this.mergePolicy=new Xa,this.textBody=t,this.resizeLimit=e,this.isLimitSetByUser=n}perform(){let t,e;const n=this.textBody.getTextBodyPropertyBag().textWrapping;return void 0!==n&&0===n.type?(t=n.resizeLimit,e=n.isLimitSetByUser,this.textBody.applyBatchOperations([new Kv(this.resizeLimit,this.isLimitSetByUser)]),{undoOp:new Qv(this.textBody,t,e)}):{undoOp:new fp}}}class Yv{constructor(t,e,n){this.mergePolicy=new Xa,this.textModel=t,this.textSelection=e,this.textRange=n}perform(){return Ov(this.textSelection,this.textRange,this.textModel.textBody,this.textModel),this.textSelection.ipCharProps=_i(this.textSelection),{undoOp:new fp}}}const Jv="GC2TextFormatting";function Xv(t,e){var n;return new Nv(e.graphic.model.textBody,Lt("FixCursorMisplacement")&&null!==(n=t.editPos)&&void 0!==n?n:e.range.charPos,t.text,!0,e.ipCharProps,void 0,void 0,e,Lt("FixCursorMisplacement")?e.range.charPos:void 0)}function Zv(t,e){return new Uv(e.graphic.model.textBody,void 0===t.textRange?e.range:t.textRange,t.isOnCaretPlacement,void 0,e)}function tm(t,e){const n=void 0===t.textRange?e.range:t.textRange;if(e.graphic.model.textBody.length>0){const r=new Bi(n.charPos,1),i=new Bi(n.charPos,t.text.length),o=bv(e.graphic.model.textBody,r).map((t=>(Lt("UpdatePropsRangeInReplaceText")&&(t[0]=i),t))),s=Pv(e.graphic.model.textBody,r).map((t=>(Lt("UpdatePropsRangeInReplaceText")&&(t[0]=i),t)));return new Gv(e.graphic.model.textBody,n,t.text,o,s,e,e.graphic.model,t.textRangeAfter)}return new Gv(e.graphic.model.textBody,n,t.text,void 0,void 0,e,e.graphic.model,t.textRangeAfter)}function em(t,e,n,r=!1){const i=t.graphic.model.textBody,o=i.textCharFormats.getRunRangeArray(t.range).map((t=>({range:t,propVal:n()})));return new Sv(i,e,o,t,t.range,t.highlight,t.ipCharProps,r)}function nm(t,e,n,r=!1){const i=t.graphic.model.textBody,o=i.textParagraphFormats.getRunRangeArray(t.range).map((t=>({range:t,propVal:n()})));return new $v(i,e,o,t.range,t.highlight,r)}function rm(t,e){return Ml(Jv,new Map([["ActionName",t.actionType]])),em(e,"fill",(()=>t.newFill),t.mergeUndo)}function im(t,e){Ml(Jv,new Map([["ActionName",t.actionType]]));const n=[],r=am(e);for(const e of r){const r=wg(e[1].line,t.newLineProps);n.push({range:e[0],propVal:r})}if(n.length>0){const t=e.graphic.model.textBody;return new Sv(t,"line",n,e,e.range,e.highlight,e.ipCharProps,!1)}return new fp}function om(t,e){return Ml(Jv,new Map([["ActionName",t.actionType]])),em(e,"effects",(()=>t.effectProps))}function sm(t,e){return Ml(Jv,new Map([["ActionName",t.actionType]])),em(e,"generativeFontEffect",(()=>t.generativeFontEffectProps))}function am(t){const e=t.graphic.model,n=[],r=e.textBody.textCharFormats.getRunRangeArray(t.range);for(const t of r){const r=e.textBody.getResolvedCharacterRunPropertyBag(t,e.fontRef,e.hostContext.themeInfo,e.defaultCharProps);n.push([t,r])}return n}function cm(t,e){Ml(Jv,new Map([["ActionName",t.actionType]]));const n=[],r=am(e);for(const e of r){const r=e[1].fill;if(void 0!==r){const i=Ix(r,t);n.push({range:e[0],propVal:i})}}if(n.length>0){const r=e.graphic.model.textBody;return new Sv(r,"fill",n,e,e.range,e.highlight,e.ipCharProps,t.mergeUndo)}return new fp}function hm(t,e){return Ml(Jv,new Map([["ActionName",t.actionType]])),cm(new wv(100-t.opacity),e)}function lm(t,e){return Ml(Jv,new Map([["ActionName",t.actionType]])),em(e,"fontSize",(()=>t.size),t.mergeUndo)}function dm(t,e){const n=e.graphic.model.textBody.getResolvedCharacterRunPropertyBag(e.range,void 0,void 0,e.graphic.model.defaultCharProps).fontSize;return new qv(e.graphic.model.textBody,t.scale,e.ipCharProps,n)}function um(t,e){return new Qv(e.graphic.model.textBody,t.resizeLimit,!0)}function pm(t,e){var n;if(void 0!==t.textModel&&t.textModel!==e.graphic.model)return new fp;if(Lt("ResizeWrapInTextAction")&&void 0!==t.widthLimit){const r=e.graphic.anchor.transform.size.width,i=null===(n=e.graphic.model.textBody.getTextBodyPropertyBag())||void 0===n?void 0:n.textWrapping;if((void 0===i||1!==i.type||1!==i.source)&&t.widthLimit>r)return new fp}return new ec(e.graphic.model.textBody,"textWrapping",t.textWrapping,e.range,e.highlight,t.mergeUndo)}function fm(t,e){return new ec(e.graphic.model.textBody,"autoFit",t.autoFit,e.range,e.highlight,t.mergeUndo)}function ym(t,e){return Ml(Jv,new Map([["ActionName",t.actionType]])),em(e,"fontFamily",(()=>t.fontFamily))}function gm(t,e){return em(e,"bold",(()=>t.bold))}function xm(t,e){return Ml(Jv,new Map([["ActionName",t.actionType]])),em(e,"baseline",(()=>t.baseline))}function vm(t,e){return em(e,"italic",(()=>t.italic))}function mm(t,e){return em(e,"strike",(()=>t.strike))}function wm(t,e){return em(e,"underline",(()=>t.underline))}function bm(t,e){return Ml(Jv,new Map([["ActionName",t.actionType]])),nm(e,"alignment",(()=>t.alignment))}function Pm(t,e){Ml(Jv,new Map([["ActionName",t.actionType]]));const n=t.direction,r=[],i=e.graphic.model.textBody,o=e.range,s=i.getResolvedParagraphRunPropertyBags(o),a=i.textParagraphFormats.getRunRangeArray(o);let c=o.charPos;for(let t=0;t<s.length;t+=1){const h=s[t].alignment,l=s[t].direction,d=new Bi(c,a[t].length);if(c+=a[t].length,(0===h||2===h)&&n!==l){const t=0===h?2:0;r.push(new $v(i,"alignment",[{range:d,propVal:t}],o,e.highlight))}}return r.push(nm(e,"direction",(()=>n))),r}function Cm(t,e){return Ml(Jv,new Map([["ActionName",t.actionType]])),new ec(e.graphic.model.textBody,"anchoring",t.anchoring,e.range,e.highlight)}function Am(t,e){return Ml(Jv,new Map([["ActionName",t.actionType]])),em(e,"cap",(()=>t.cap))}function jm(t,e){return Ml(Jv,new Map([["ActionName",t.actionType]])),em(e,"highlight",(()=>t.highlight))}function Tm(t,e){return Ml(Jv,new Map([["ActionName",t.actionType]])),em(e,"letterSpacing",(()=>t.letterSpacing),t.mergeUndo)}function Sm(t,e){return Ml(Jv,new Map([["ActionName",t.actionType]])),nm(e,"lineSpacing",(()=>t.lineSpacing),t.mergeUndo)}function Rm(t,e){const n=e.graphic.model.textBody,r=e.range,i=n.getResolvedParagraphRunPropertyBag(new Bi(r.charPos,0));if(0===t.propertyName){const t=void 0===i.bullet||void 0!==i.bullet&&0===i.bullet.textBulletType?new Uo(new Fo):new Uo(new No);return nm(e,"bullet",(()=>t))}b(t.propertyName)}function Em(t,e){const n=e.graphic.model.textBody,r=e.range,i=n.getCharacterRunPropertyBag(new Bi(r.charPos,0));void 0===i&&m(0,"Undefined character run property bag in setCharRunPropertyBagOnToggleAction.");const o=0===e.range.length?e.ipCharProps:i;switch(t.propertyName){case 0:{Ml(Jv,new Map([["ActionName",t.actionType],["Property","Bold"]]));const n=void 0===o.bold||!o.bold;return em(e,"bold",(()=>n))}case 7:{const t="super"==(void 0===o.baseline||o.baseline<=0?"super":"")?30:0;return em(e,"baseline",(()=>t))}case 8:{const t="sub"==(void 0===o.baseline||o.baseline>=0?"sub":"")?-25:0;return em(e,"baseline",(()=>t))}case 1:{Ml(Jv,new Map([["ActionName",t.actionType],["Property","Italic"]]));const n=void 0===o.italic||!o.italic;return em(e,"italic",(()=>n))}case 2:{Ml(Jv,new Map([["ActionName",t.actionType],["Property","Underline"]]));const n=void 0===o.underline||0===o.underline?2:0;return em(e,"underline",(()=>n))}case 3:{Ml(Jv,new Map([["ActionName",t.actionType],["Property","Strike"]]));const n=1!==o.strike?1:0;return em(e,"strike",(()=>n))}case 4:{Ml(Jv,new Map([["ActionName",t.actionType],["Property","DoubleStrike"]]));const n=2!==o.strike?2:0;return em(e,"strike",(()=>n))}case 5:case 6:{const n=5===t.propertyName?"uppercase":"lowercase",r=void 0===o.cap||"none"===o.cap?n:"none";return em(e,"cap",(()=>r))}default:b(t.propertyName)}}function Mm(t,e){return new Yv(e.graphic.model,e,t.textRange)}function Om(t,e){return new ec(e.graphic.model.textBody,"pathGeometry",t.pathGeometry,e.range,e.highlight)}function km(t,e){const n=e.graphic.model.textBody.getTextBodyPropertyBag().pathGeometry;return void 0===n||0!==n.type||41!==(r=n.preset)&&42!==r?new fp:new ec(e.graphic.model.textBody,"pathGeometry",new Me(n.preset,[["s",1e5*t.radiusScaleValue]]),e.range,e.highlight);var r}class Im{dispatchAction(t,e,n,r){return wo(t)?(e.textRange=void 0,e.ipCharProps=_i(e),new Rt(!1)):r.performAction(t,e,n)}dispatchKeyboardEvent(t,e,n){return n.isInLivePreview||"keydown"!==t.type||1!==t.key.length&&"Enter"!==t.key||t.ctrlKey||t.metaKey?{isHandled:!1}:(!0!==e.graphic.model.lockEdit&&e.graphic.model.textAppended.emit("Enter"===t.key?"":t.key),{isHandled:!0})}}function Bm(t){const e=[];for(let r=0;r<t.runLengths.length;r+=1){const i=t.runBags[r];e.push({charFormat:(n=i,{bold:n.bold,fillProps:void 0!==n.fill?Eh(n.fill):void 0,fontFamily:n.fontFamily,fontSize:n.fontSize,italic:n.italic,underline:n.underline,strike:n.strike}),length:t.runLengths[r]})}var n;return e}function _m(t){const e=[];for(let r=0;r<t.runLengths.length;r+=1){const i=t.runBags[r];e.push({paragraphFormat:(n=i,{alignment:n.alignment,lineSpacing:void 0!==n.lineSpacing?Vh(n.lineSpacing):void 0,spaceBeforeParagraph:void 0!==n.spaceBeforeParagraph?Vh(n.spaceBeforeParagraph):void 0,spaceAfterParagraph:void 0!==n.spaceAfterParagraph?Vh(n.spaceAfterParagraph):void 0,leftMargin:n.leftMargin,rightMargin:n.rightMargin,indent:n.indent}),length:t.runLengths[r]})}var n;return e}function Dm(t,e){return ch.textBodyToJson(function(t,e){return{charFormatRunArray:Bm(t.textCharFormats),fidelityImage:e,paraFormatRunArray:_m(t.textParagraphFormats),text:t.getText(new Bi(0,t.length)),textbodyFormat:(n=t.textBodyFormats,{anchoring:n.anchoring,topInset:n.topInset,bottomInset:n.bottomInset,leftInset:n.leftInset,rightInset:n.rightInset,vertOverflow:n.vertOverflow,horzOverflow:n.horzOverflow,wrapping:void 0===n.textWrapping?void 0:n.textWrapping.type,upright:n.upRight,spaceFirstLastPara:n.spaceFirstLastPara,autofit:void 0===n.autoFit?void 0:{autofitType:n.autoFit.type}})};var n}(t,e))}function Fm(t,e){const n=t.clipboardData,r=function(t){return t.getData("application/vnd.ms-drawing-text+json").length>0?"application/vnd.ms-drawing-text+json":t.getData("text").length>0?"text":void 0}(n);if(void 0===r)return[];if(1!==e.selections.length||!Vi(e.selections[0]))return[];switch(r){case"application/vnd.ms-drawing-text+json":return function(t,e){return function(t,e){const n=e.getText();if(void 0===n||""===n)return[];const r=function(t,e){const n=new Bi(0,t.length-1);return[bv(t,n).map((t=>(t[0].charPos+=e.range.charPos,t))),Pv(t,n).map((t=>(t[0].charPos+=e.range.charPos,t)))]}(e,t);return t.range.length>0?[new Gv(t.graphic.model.textBody,t.range,n,r[0],r[1],t)]:[new Nv(t.graphic.model.textBody,t.range.charPos,n,!0,void 0,r[0],r[1],t)]}(t,Qh(e).textBody)}(e.selections[0].textSelection,n.getData("application/vnd.ms-drawing-text+json"));case"text":return function(t,e){return t.range.length>0?[new Gv(t.graphic.model.textBody,t.range,e,void 0,void 0,t)]:[new Nv(t.graphic.model.textBody,t.range.charPos,e,!0,void 0,void 0,void 0,t)]}(e.selections[0].textSelection,n.getData("text"))}return[]}class Nm extends Zc{constructor(t=Xc("pattern")){super(t),this.patternTransform=new th(this,"patternTransform")}set width(t){this.set("width",`${t}`)}set height(t){this.set("height",`${t}`)}set x(t){this.set("x",`${t}`)}set y(t){this.set("y",`${t}`)}set patternContentUnits(t){this.set("patternUnits",t)}set patternUnits(t){this.set("patternUnits",t)}}function Um(t,e){const n=new wy,r=t.bounds;n.d=`M ${r.left} ${r.top} L ${r.right} ${r.top} L ${r.right} ${r.bottom} L ${r.left} ${r.bottom} Z`,n.fill=function(t,e){const n=e.ensureSvgDefsElement(),r=new Nm,i=t.bounds;r.id=`${e.svgRoot.id}-img-${n.childElementCount}`,r.width="1",r.height="1";const o=new Zd;return o.href=`${t.imageData}`,o.width=`${i.width()}`,o.height=`${i.height()}`,o.preserveAspectRatio="none",r.appendChild(o),n.appendChild(r.element),`url(#${r.id})`}(t,e),n.style.pointerEvents="all",e.hitTestMap.setViewModel(n.element,t),e.svgRoot.appendChild(n.element)}function Lm(t,e,n){switch(t){case"Base64PNG":return new ev(`data:image/png;charset=utf-8;base64,${e}`,n,n);case"SVG":return new cv(e,n,n);default:return}}class qm{updateGraphic(t,e,n,r){if(this.initializeData(n),void 0===this.excelFallbackRenderData||!qi(e.model))throw Error;e.anchor.transform=r,e.model.fallbackRenderData=this.shapeWithTextFallbackData,e.model.shape.fallbackRenderData=this.shapeOnlyFallbackData,e.model.shape.geometry=new Me(this.excelFallbackRenderData.shapeType),e.model.text.textBody=Qh(this.excelFallbackRenderData.shapeText).textBody}createGraphic(t,e,n,r){if(this.initializeData(e),void 0===this.excelFallbackRenderData)throw Error;const i=new _e(t,this.excelFallbackRenderData.shapeType);i.fallbackRenderData=this.shapeOnlyFallbackData;const o=new ah(t,Qh(this.excelFallbackRenderData.shapeText).textBody),s=new Gi(t,i,o);return s.fallbackRenderData=this.shapeWithTextFallbackData,new Nt(n,s,new se(r))}adjustAnchorTransform(t,e,n){const r=new Bt(parseInt(t.style.left,10),parseInt(t.style.top,10));e.pos=new Bt(n.left-r.x,n.top-r.y)}updateTransformDuringOperation(t,e,n,r,i,o,s){Error("cannot update transform during resize when graphic is rendered using fallback image")}getHitTestData(t,e,n,r){if("SVG"===this.renderType)return;if(r.contains(n))return;const i=document.createElement("canvas"),o=t.getElementsByTagName("image");1!==o.length&&Error("The number of Image elements must be 1");const s=o.item(0);if(null!==s){const n=t.getBoundingClientRect();i.width=n.width,i.height=n.height;const r=i.getContext("2d");if(null!==r){r.drawImage(s,0,0,n.width,n.height);const t=e.x-n.left,i=e.y-n.top;return{context:r,offsetPoint:new _(t,i)}}Error("Cannot find context")}}isRenderTransparencySupported(){return"SVG"===this.renderType}initializeData(t){this.excelFallbackRenderData=t,this.renderType=this.excelFallbackRenderData.fallbackRenderType;const e=new Ji(0,0,this.excelFallbackRenderData.width,this.excelFallbackRenderData.height);this.shapeOnlyFallbackData=Lm(this.renderType,""===this.excelFallbackRenderData.shapeWithoutTextFallbackImage?this.excelFallbackRenderData.fallbackRenderData:this.excelFallbackRenderData.shapeWithoutTextFallbackImage,e),this.shapeWithTextFallbackData=Lm(this.renderType,this.excelFallbackRenderData.fallbackRenderData,e)}}class zm{constructor(t,e){this.index=t,this.color=e}equals(t){return this.index===t.index&&N(this.color,t.color)}clone(){var t;return new zm(this.index,null===(t=this.color)||void 0===t?void 0:t.clone())}}class $m{constructor(t,e){this.color=t,this.index=e}equals(t){return this.color.equals(t.color)&&this.index===t.index}}function Hm(t){if(void 0!==t)return new $m(Ch(t.color),t.index)}function Vm(t,e){const n=void 0!==e.text?Wh(e.text):new $h(""),r=new ah(t,n),i=void 0!==e.style?function(t){return new Mx(Hm(t.fill),Hm(t.line),function(t){if(void 0!==t)return new zm(t.index,void 0!==t.color?Ch(t.color):void 0)}(t.font))}(e.style):void 0,o=new Gi(t,function(t,e,n){const r=new _e(t,e.shapeType);var i,o;return r.fill=Rh(e.fillProps,null==n?void 0:n.fillRef),r.line=(i=e.lineProps,o=null==n?void 0:n.lineRef,zu(i,Rh(null==i?void 0:i.fillProps,o))),void 0!==e.shapelocks&&(r.locks={noChangeArrowHeads:e.shapelocks.noChangeArrowHeads}),r}(t,e.shape,i),r);return o.style=i,o}function Wm(t,e,n=""){if(n)throw Error(`Invalid value for key "${n}". Expected type ${JSON.stringify(t)} but got ${JSON.stringify(e)}`);throw Error(`Invalid value ${JSON.stringify(e)} for type ${JSON.stringify(t)}`)}function Gm(t){if(void 0===t.jsonToJS){const e={};t.props.forEach((t=>e[t.json]={key:t.js,typ:t.typ})),t.jsonToJS=e}return t.jsonToJS}function Km(t){if(void 0===t.jsToJSON){const e={};t.props.forEach((t=>e[t.js]={key:t.json,typ:t.typ})),t.jsToJSON=e}return t.jsToJSON}function Qm(t,e,n,r=""){if("any"===e)return t;if(null===e)return null===t?t:Wm(e,t);if(!1===e)return Wm(e,t);for(;"object"==typeof e&&void 0!==e.ref;)e=tw[e.ref];return Array.isArray(e)?function(t,e){return-1!==t.indexOf(e)?e:Wm(t,e)}(e,t):"object"==typeof e?e.hasOwnProperty("unionMembers")?function(t,e){const r=t.length;for(let i=0;i<r;i++){const r=t[i];try{return Qm(e,r,n)}catch(t){}}return Wm(t,e)}(e.unionMembers,t):e.hasOwnProperty("arrayItems")?function(t,e){return Array.isArray(e)?e.map((e=>Qm(e,t,n))):Wm("array",e)}(e.arrayItems,t):e.hasOwnProperty("props")?function(t,e,r){if(null===r||"object"!=typeof r||Array.isArray(r))return Wm("object",r);const i={};return Object.getOwnPropertyNames(t).forEach((e=>{const o=t[e],s=Object.prototype.hasOwnProperty.call(r,e)?r[e]:void 0;i[o.key]=Qm(s,o.typ,n,o.key)})),Object.getOwnPropertyNames(r).forEach((o=>{Object.prototype.hasOwnProperty.call(t,o)||(i[o]=Qm(r[o],e,n,o))})),i}(n(e),e.additional,t):Wm(e,t):e===Date&&"number"!=typeof t?function(t){if(null===t)return null;const e=new Date(t);return isNaN(e.valueOf())?Wm("Date",t):e}(t):function(t,e){return typeof t==typeof e?e:Wm(t,e,r)}(e,t)}function Ym(t){return{arrayItems:t}}function Jm(...t){return{unionMembers:t}}function Xm(t,e){return{props:t,additional:e}}function Zm(t){return{ref:t}}const tw={ShapeWithText:Xm([{json:"fallbackRenderData",js:"fallbackRenderData",typ:Jm(void 0,"")},{json:"shape",js:"shape",typ:Zm("Shape")},{json:"style",js:"style",typ:Jm(void 0,Zm("Style"))},{json:"text",js:"text",typ:Jm(void 0,Zm("TextBody"))}],!1),Shape:Xm([{json:"adjustValues",js:"adjustValues",typ:Jm(void 0,Ym(Zm("AdjustValue")))},{json:"fallbackRenderData",js:"fallbackRenderData",typ:Jm(void 0,"")},{json:"fillProps",js:"fillProps",typ:Jm(void 0,Zm("FillProperties"))},{json:"lineProps",js:"lineProps",typ:Jm(void 0,Zm("LineProperties"))},{json:"shapelocks",js:"shapelocks",typ:Jm(void 0,Zm("ShapeLocks"))},{json:"shapeType",js:"shapeType",typ:0}],!1),AdjustValue:Xm([{json:"name",js:"name",typ:""},{json:"val",js:"val",typ:0}],!1),FillProperties:Xm([{json:"fillPropsType",js:"fillPropsType",typ:0},{json:"solidFill",js:"solidFill",typ:Jm(void 0,Zm("Color"))}],!1),Color:Xm([{json:"colorType",js:"colorType",typ:0},{json:"rgbaColor",js:"rgbaColor",typ:Jm(void 0,Zm("RGBAColor"))},{json:"schemeColor",js:"schemeColor",typ:Jm(void 0,Zm("SchemeColor"))},{json:"transforms",js:"transforms",typ:Jm(void 0,Ym(Zm("ColorTransform")))}],!1),RGBAColor:Xm([{json:"a",js:"a",typ:3.14},{json:"b",js:"b",typ:3.14},{json:"g",js:"g",typ:3.14},{json:"r",js:"r",typ:3.14}],!1),SchemeColor:Xm([{json:"presetColorType",js:"presetColorType",typ:0}],!1),ColorTransform:Xm([{json:"alpha",js:"alpha",typ:Jm(void 0,0)},{json:"colorTransformType",js:"colorTransformType",typ:0},{json:"lumMod",js:"lumMod",typ:Jm(void 0,0)},{json:"lumOff",js:"lumOff",typ:Jm(void 0,0)},{json:"shade",js:"shade",typ:Jm(void 0,0)},{json:"tint",js:"tint",typ:Jm(void 0,0)}],!1),LineProperties:Xm([{json:"fillProps",js:"fillProps",typ:Jm(void 0,Zm("FillProperties"))},{json:"headEndProps",js:"headEndProps",typ:Jm(void 0,Zm("LineEndProperties"))},{json:"lineDash",js:"lineDash",typ:Jm(void 0,0)},{json:"lineJoin",js:"lineJoin",typ:Jm(void 0,0)},{json:"tailEndProps",js:"tailEndProps",typ:Jm(void 0,Zm("LineEndProperties"))},{json:"weight",js:"weight",typ:Jm(void 0,0)}],!1),LineEndProperties:Xm([{json:"endType",js:"endType",typ:0},{json:"lengthType",js:"lengthType",typ:0},{json:"widthType",js:"widthType",typ:0}],!1),ShapeLocks:Xm([{json:"noChangeArrowHeads",js:"noChangeArrowHeads",typ:Jm(void 0,!0)}],!1),Style:Xm([{json:"fill",js:"fill",typ:Jm(void 0,Zm("StyleMatrixReference"))},{json:"font",js:"font",typ:Jm(void 0,Zm("FontReference"))},{json:"line",js:"line",typ:Jm(void 0,Zm("StyleMatrixReference"))}],!1),StyleMatrixReference:Xm([{json:"color",js:"color",typ:Zm("Color")},{json:"index",js:"index",typ:0}],!1),FontReference:Xm([{json:"color",js:"color",typ:Jm(void 0,Zm("Color"))},{json:"index",js:"index",typ:0}],!1),TextBody:Xm([{json:"charFormatRunArray",js:"charFormatRunArray",typ:Ym(Zm("CharacterFormatRun"))},{json:"fidelityImage",js:"fidelityImage",typ:Jm(void 0,"")},{json:"paraFormatRunArray",js:"paraFormatRunArray",typ:Ym(Zm("ParagraphFormatRun"))},{json:"text",js:"text",typ:""},{json:"textbodyFormat",js:"textbodyFormat",typ:Zm("TextbodyFormat")}],!1),CharacterFormatRun:Xm([{json:"charFormat",js:"charFormat",typ:Zm("CharacterFormat")},{json:"length",js:"length",typ:0}],"any"),CharacterFormat:Xm([{json:"bold",js:"bold",typ:Jm(void 0,!0)},{json:"fillProps",js:"fillProps",typ:Jm(void 0,Zm("FillProperties"))},{json:"fontFamily",js:"fontFamily",typ:Jm(void 0,"")},{json:"fontSize",js:"fontSize",typ:Jm(void 0,0)},{json:"italic",js:"italic",typ:Jm(void 0,!0)},{json:"strike",js:"strike",typ:Jm(void 0,0)},{json:"underline",js:"underline",typ:Jm(void 0,0)}],"any"),ParagraphFormatRun:Xm([{json:"length",js:"length",typ:0},{json:"paragraphFormat",js:"paragraphFormat",typ:Zm("ParagraphFormat")}],"any"),ParagraphFormat:Xm([{json:"alignment",js:"alignment",typ:Jm(void 0,0)},{json:"indent",js:"indent",typ:Jm(void 0,3.14)},{json:"leftMargin",js:"leftMargin",typ:Jm(void 0,3.14)},{json:"lineSpacing",js:"lineSpacing",typ:Jm(void 0,Zm("TextSpacing"))},{json:"rightMargin",js:"rightMargin",typ:Jm(void 0,3.14)},{json:"spaceAfterParagraph",js:"spaceAfterParagraph",typ:Jm(void 0,Zm("TextSpacing"))},{json:"spaceBeforeParagraph",js:"spaceBeforeParagraph",typ:Jm(void 0,Zm("TextSpacing"))}],"any"),TextSpacing:Xm([{json:"spaceUnit",js:"spaceUnit",typ:0},{json:"spaceValue",js:"spaceValue",typ:3.14}],!1),TextbodyFormat:Xm([{json:"anchoring",js:"anchoring",typ:Jm(void 0,0)},{json:"autofit",js:"autofit",typ:Jm(void 0,Zm("Autofit"))},{json:"bottomInset",js:"bottomInset",typ:Jm(void 0,0)},{json:"horzOverflow",js:"horzOverflow",typ:Jm(void 0,0)},{json:"leftInset",js:"leftInset",typ:Jm(void 0,0)},{json:"rightInset",js:"rightInset",typ:Jm(void 0,0)},{json:"spaceFirstLastPara",js:"spaceFirstLastPara",typ:Jm(void 0,!0)},{json:"topInset",js:"topInset",typ:Jm(void 0,0)},{json:"upright",js:"upright",typ:Jm(void 0,!0)},{json:"vertOverflow",js:"vertOverflow",typ:Jm(void 0,0)},{json:"wrapping",js:"wrapping",typ:Jm(void 0,0)}],"any"),Autofit:Xm([{json:"autofitType",js:"autofitType",typ:0}],!1)};function ew(t){return class{static toShapeWithText(t){return Qm(JSON.parse(t),Zm("ShapeWithText"),Gm)}static shapeWithTextToJson(t){return JSON.stringify(Qm(t,Zm("ShapeWithText"),Km))}}.toShapeWithText(t)}class nw{constructor(){this.originalRotation=0,this.isFlippedOnOneAxis=!1}updateGraphic(t,e,n,r){if(this.initializeData(n),void 0===this.excelModelRenderData||!qi(e.model))throw Error;const i=Vm(t,ew(this.excelModelRenderData.shapeWithTextModel));var o,s,a,c;this.originalRotation=r.rot,this.isFlippedOnOneAxis=r.flip.x!==r.flip.y,e.anchor.transform=r,e.model.fallbackRenderDataCache=void 0,o=i,(s=e.model).shape.geometry=o.shape.geometry,void 0===(null===(a=o.shape.style)||void 0===a?void 0:a.fillRef)&&ft(s.shape.fill)&&(s.shape.fill=new Ki),void 0===(null===(c=o.shape.style)||void 0===c?void 0:c.lineRef)&&void 0!==s.shape.line.fill&&ft(s.shape.line.fill)&&(s.shape.line.fill=new Ki),s.shape.style=o.shape.style,s.shape.fill=o.shape.fill,s.shape.line=o.shape.line,s.text.fontRef=o.text.fontRef,s.text.textBody=o.text.textBody,s.style=o.style,s.shape.fallbackRenderData=o.shape.fallbackRenderData,s.fallbackRenderData=o.fallbackRenderData}createGraphic(t,e,n,r){if(this.initializeData(e),void 0===this.excelModelRenderData)throw Error;const i=Vm(t,ew(this.excelModelRenderData.shapeWithTextModel));return this.originalRotation=r.rot,this.isFlippedOnOneAxis=r.flip.x!==r.flip.y,new Nt(n,i,new se(r))}adjustAnchorTransform(t,e,n){this.updateAnchoredElements(t,e.rot,e.size.width,e.size.height)}updateTransformDuringOperation(t,e,n,r,i,o,s){const a=e.anchor.transform;a.size.width=null!=i?i:a.size.width,a.size.height=null!=o?o:a.size.height,a.flip.x=n,a.flip.y=r,a.rot=null!=s?s:a.rot,this.updateAnchoredElements(t,this.originalRotation,a.size.width,a.size.height),e.anchor.transform=a}getHitTestData(t,e,n,r){}isRenderTransparencySupported(){return!0}initializeData(t){this.excelModelRenderData=t}updateAnchoredElements(t,e,n,r){0!==e&&this.isAnchorRotated(e)?(t.style.left=(r-n)/2+"px",t.style.top=(n-r)/2+"px",t.style.width=`${n}px`,t.style.height=`${r}px`):t.style.left=t.style.top="0px"}isAnchorRotated(t){let e=t%180;return e+=e<0?180:0,e>45&&e<135||45===e&&!this.isFlippedOnOneAxis||135===e&&this.isFlippedOnOneAxis}}class rw extends _u{constructor(t,e,n,r,i){super(0),this.id=t,this.text=e,this.textContent=n,this.shapeTextMacroRecPayload=r,this.resizeNeeded=i}getId(){return this.id}getText(){return this.text}getTextContent(){return this.textContent}getShapeTextFormat(){return this.shapeTextMacroRecPayload}getResizeNeeded(){return this.resizeNeeded}}const iw=[h,Wi],ow=[[a,Rc]];function sw(t){const e=(new DOMParser).parseFromString(t,"image/svg+xml"),n=e.documentElement.getElementsByTagName("g");for(let t=0;t<n.length;t+=1)n[t].classList.add("ewa-fo-svg-group-div");return e.documentElement.classList.add("ewa-fo-svg"),e.documentElement}function aw(t){return new Oc(t)}class cw{constructor(t){this.hostContext=new Y(vt),this.selected=!1,this.isInEditMode=!1,this.resizeNeeded=!1,this.performAction=t=>{try{if(function(t){return t.actionType===el}(t))return void(t.redo?this.undoRedoManager.redo():this.undoRedoManager.undo());let e;(function(t){return t.actionType===Zo})(t)&&this.onBeforeDeleteTextAction(),e=Qx(t)||Xx(t)?Wt(t,this.selection,this.host.editContext,this.getCutCopyActionPerformer()):this.host.performAction(t),e.editOps.length>0&&this.undoRedoManager.logUndo(e)}catch(t){throw new Error(`Failed to perform action: ${t}`)}(function(t){return-1!==pl.indexOf(t.actionType)})(t)&&!this.isInEditMode&&(this.startEdit(),void 0!==this.graphic&&xo(this.graphic.model,this.textHost)),t instanceof bo&&this.onTextSelectionChanged()},this.onEditStatusUpdated=(t,e,n)=>{if(1===e&&!n&&void 0!==this.graphic&&qi(this.graphic.model)){const t=this.graphic.model.text.textBody.getText(new Bi(0,this.graphic.model.text.textBody.length-1));this.hostActionHandler.executeAction(new rw(this.id,Dm(this.graphic.model.text.textBody),t,this.shapeTextMacroRecPayload,this.resizeNeeded))}0!==e&&n||(this.isInEditMode=0===e,this.adjustToEditStatus(t),this.onEditStatusChanged(0===e))},function(t,e){if(null!==document.getElementById(t))return;const n=document.createElement("style");n.id=t,n.textContent=function(t){var e,n,r,i,o,s,a,c;return`.gc2-shape-text{position:absolute;background-color:transparent;color:black;font-family:Calibri,sans-serif;font-size:11pt;pointer-events:none;cursor:auto;}.gc2-shape-text .ql-editor{box-sizing:border-box;width:100%;height:100%;outline:none;overflow:${null!==(e=null==t?void 0:t.overflow)&&void 0!==e?e:"hidden"};padding:${null!==(n=null==t?void 0:t.padding)&&void 0!==n?n:"4.8px 9.6px 4.8px 9.6px"};text-align:${null!==(r=null==t?void 0:t.textAlign)&&void 0!==r?r:"center"};tab-size:${null!==(i=null==t?void 0:t.tabSize)&&void 0!==i?i:8};font-variant-ligatures:${null!==(o=null==t?void 0:t.fontVariantLigatures)&&void 0!==o?o:"normal"};display:flex;flex-direction:column;justify-content:center;white-space:${null!==(s=null==t?void 0:t.whiteSpace)&&void 0!==s?s:"break-spaces"};word-break:normal;overflow-wrap:anywhere;\n}.gc2-shape-text .ql-clipboard{display:none;}.gc2-shape-text p{margin:${null!==(a=null==t?void 0:t.paragraphMargin)&&void 0!==a?a:"0px 0px 10.4px 0px"};pointer-events:all;line-height:${null!==(c=null==t?void 0:t.lineHeight)&&void 0!==c?c:1.43};}.gc2-text-locked p{pointer-events:none;}.gc2-shape-text *{user-select:text;-webkit-user-select:text;}.gc2-shape-text ::selection{color:currentColor;background-color:rgb(198, 198, 198, 0.5);}`}({tabSize:"96px",overflow:"visible",paragraphMargin:"0px 0px 0px 0px",lineHeight:"normal"}),document.head.appendChild(n)}("GC2TextStyle"),function(){const t=Ho.getInstance();t.paraPropBag.lineSpacing=new Lo(0,100),t.paraPropBag.spaceBeforeParagraph=new Lo(1,0),t.paraPropBag.spaceAfterParagraph=new Lo(1,0),t.textBodyPropBag.anchoring=0,t.lineSpacingFactor=1.2,t.infoOnNoWrapping.allowsOverflow=!0}(),this.id=t.id,this.graphicCollectionModel=new P(this.hostContext),this.textHost=new wl(this.onEditStatusUpdated),this.parent=t.parent;const e=Xc("svg");var n;e.id=`RenderTarget-${this.parent.id}`,this.parent.appendChild(e),e.style.width="100%",e.style.height="100%",e.style.overflow="visible",e.setAttribute("draggable","false"),this.hostActionHandler=t.actionHandler,this.onEditStatusChanged=t.onEditStatusChanged,this.onTextSelectionChanged=t.onTextSelectionChanged,this.textContainer=document.createElement("div"),this.textContainer.className="gc2-shape-text",this.textContainer.dir="ltr",this.parent.appendChild(this.textContainer),this.ariaNotifier=new Sx(this.parent),this.host=new ie(this.getHostConfig(this.parent)),Kp(n=this.host.editorRegistry),function(t){const e={dispatcher:new Wx,actions:new Xu([]),keyboardShortcuts:new Dp([])};t.register($i,e)}(n),function(t){const e={actions:new Xu([["chgShpType",ip(Fx)],[Og,ip(Nx)],[kg,ip(Ux)],["chgAdjVals",ip(qx)],["changeStyle",ip(Lx)],[bg,ip(zx)],[Ox,op($x)],["setLineAlphaColorTransform",op(Hx)],[Ig,op(Vx)]]),keyboardShortcuts:new Dp([])};t.register(ue,e)}(n),function(t,e=!1){const n={dispatcher:e?new Im:void 0,actions:new Xu([["changeFontEffect",np(sm)],["changeTextEffect",np(om)],[jo,np(Xv)],[Zo,np(Zv)],[es,np(tm)],[al,np(rm)],["changeTextLineProps",np(im)],[ua,np(Em)],["toggleTextParagraphRunAction",np(Rm)],[rl,np(lm)],["scaleFont",np(dm)],["textResizeLimit",np(um)],[ol,np(ym)],["changeAutoFitAction",np(fm)],[yu,np(gm)],[xu,np(vm)],["changeStrike",np(mm)],["changeUnderline",np(wm)],[hl,np(bm)],["changeParagraphDirection",rp(Pm)],[dl,np(Cm)],["changeTextCap",np(Am)],["changeTextHighlightColor",np(jm)],["changeTextLetterSpacing",np(Tm)],["changeTextLineSpacing",np(Sm)],[oc,np(pm)],["changeBaseline",np(xm)],[Ig,np(hm)],[mv,np(cm)],[va,np(Mm)],["changeTextPathAction",np(Om)],["ChangeTextCurvatureAction",np(km)]]),keyboardShortcuts:new Dp([])};t.register(Ni,n)}(n);const r=this.host.renderDataPresenterCreatorRegistry;var i;i=()=>new sv,r.register(tv,((t,e)=>new iv(t,e,i))),function(t,e){t.register(av,((t,n)=>new lv(t,n,e)))}(r,(()=>new Dc(sw))),this.registerRenderTarget(e),this.host.presenterCreatorRegistry.register(o,K(new Q,this.host.presenterCreatorRegistry,this.host.anchorPresenterCreatorRegistry)),this.host.start(this.graphicCollectionModel,ae(new Ji(0,0,0,0))),this.clipboardActionHandler=new uv(this.textContainer,{invoke:t=>{this.performAction(t)}}),this.undoRedoManager=new Ex(this.host),this.selection=this.host.selection,this.commandContext=new Bu(new Ql(!0),this.selection,this.hostContext.themeInfo,t.showDialog)}isRenderTransparencySupported(){return void 0!==this.excelShapeRenderStrategy&&this.excelShapeRenderStrategy.isRenderTransparencySupported()}isRenderOverflowSupported(){return!0}setSelected(t){this.selected=t,void 0!==this.graphic&&(t?this.performAction(new mo([this.graphic])):this.isInEditMode&&this.endEdit())}getHitTestData(t,e,n){var r;return null===(r=this.excelShapeRenderStrategy)||void 0===r?void 0:r.getHitTestData(t,e,n,this.textContainer)}updateModel(t){try{this.shapeRenderData=JSON.parse(t)}catch(t){return void u(0,`Failed to parse json object. ${t.message}`)}const e=new Kt("Shape.UpdateModel");try{this.hostContext.themeInfo={theme:(n=JSON.parse(this.shapeRenderData.themeInfo),{colorScheme:(r=n.colors,{name:"ColorScheme",presets:{0:Ch(r.presets.dark1),1:Ch(r.presets.light1),2:Ch(r.presets.dark2),3:Ch(r.presets.light2),4:Ch(r.presets.accent1),5:Ch(r.presets.accent2),6:Ch(r.presets.accent3),7:Ch(r.presets.accent4),8:Ch(r.presets.accent5),9:Ch(r.presets.accent6),10:Ch(r.presets.hyperlink),11:Ch(r.presets.followedHyperlink)}}),styles:gv(n.styles),fontScheme:pv(n.fonts)}),schemeMapping:ct},this.commandContext.themeInfo=this.hostContext.themeInfo,this.excelShapeRenderStrategy=this.shapeRenderData.modelBasedRendering?new nw:new qm,this.shapeTextMacroRecPayload=void 0;const t=new Ji(this.shapeRenderData.transformRect.left,this.shapeRenderData.transformRect.top,this.shapeRenderData.transformRect.right,this.shapeRenderData.transformRect.bottom),i=new Dt(new Bt,new _t(t.width(),t.height()),new It(this.shapeRenderData.flip.x,this.shapeRenderData.flip.y),this.shapeRenderData.rotation);this.excelShapeRenderStrategy.adjustAnchorTransform(this.parent,i,t),void 0===this.graphic?(this.graphic=this.excelShapeRenderStrategy.createGraphic(this.hostContext,this.shapeRenderData.renderData,this.id,i),this.textHost.modelToContainerMap.set(this.graphic.model.text,this.textContainer),this.graphicCollectionModel.addGraphics([this.graphic]),this.selected&&this.performAction(new mo([this.graphic]))):qi(this.graphic.model)&&(this.excelShapeRenderStrategy.updateGraphic(this.hostContext,this.graphic,this.shapeRenderData.renderData,i),this.graphic.model.modelUpdated.emit(),this.resetTextSelection(),this.resizeNeeded=!1),this.adjustToEditStatus(this.graphic.model.text)}finally{e.complete()}var n,r}startEdit(){void 0!==this.graphic&&void 0!==this.shapeRenderData?(this.undoRedoManager.clear(),go(this.graphic.model,this.textHost)):Error("Can't start edit mode with underlying graphic as null.")}endEdit(){void 0!==this.graphic&&void 0!==this.shapeRenderData?xo(this.graphic.model,this.textHost):Error("Can't end edit mode with underlying graphic as null.")}handleCommand(t,e,n){const r=function(t,e){switch(t){case"Bold":case"Italic":case"Underline":case"Strikethrough":case"TextAlignmentLeftJustify":case"TextAlignmentCenterJustify":case"TextAlignmentRightJustify":case"TextAnchoringTop":case"TextAnchoringMiddle":case"TextAnchoringBottom":return{type:"ToggleButtonPayload",toggled:!0};case"FontSize":return{type:"ComboBoxPayload",newValue:{text:e.CommandValueId,commandValueId:"",key:"",index:0}};case"FontName":case"FontFamily":return{type:"ComboBoxPayload",newValue:{commandValueId:e.CommandValueId,key:"",text:"",index:0}};case"FontPicker":return e.Format?{type:"FontPickerFontSelectedPayload",font:{data:e.Format,name:e.CommandValueId,fontKey:"",fontType:""}}:{type:"FontPickerFontSelectedPayload",font:{data:{fontToApply:e.CommandValueId,isBold:!1,isItalic:!1},name:e.CommandValueId,fontKey:"",fontType:""}};case"FontColor":return{type:"StatefulSplitButtonPayload",statefulData:e.Color};case"Cut":case"Copy":case"Paste":return{type:"ButtonPayload"};default:throw new Error("Unsupported command")}}(t,e),i=Iu.createAction(t,r,this.commandContext);this.shapeTextMacroRecPayload=n,void 0!==i&&this.performAction(i)}handleQueryCommand(t){return Iu.query(t,this.commandContext)}shouldShowFloatie(t,e){if(!this.textContainer.contains(t))return!1;if(e)return!0;const n=this.getTextSelection();return void 0!==n&&n.range.length>0}updateTransformDuringOperation(t,e,n,r,i){void 0!==this.graphic&&void 0!==this.excelShapeRenderStrategy&&void 0!==this.shapeRenderData?this.excelShapeRenderStrategy.updateTransformDuringOperation(this.parent,this.graphic,t?!this.shapeRenderData.flip.x:this.shapeRenderData.flip.x,e?!this.shapeRenderData.flip.y:this.shapeRenderData.flip.y,n,r,i):Error("Underlying graphic is null.")}updateTransformResizeEnded(t,e){void 0!==this.graphic&&void 0!==this.shapeRenderData?(t&&(this.shapeRenderData.flip.x=!this.shapeRenderData.flip.x),e&&(this.shapeRenderData.flip.y=!this.shapeRenderData.flip.y)):Error("Underlying graphic is null.")}teardown(){this.clipboardActionHandler.teardown(),this.ariaNotifier.teardown()}getTextSelection(){const t=this.selection.selections;if(1===t.length&&Vi(t[0]))return t[0].textSelection}resetTextSelection(){const t=this.getTextSelection();void 0!==t&&(t.range=new Bi(0,t.graphic.model.textBody.length-1),t.highlight=!1)}getHostConfig(t){return{presenterCreatorEntries:[[Li,Tc(this.textHost,ki,bd)]],anchorPresenterCreatorEntries:[le()],selectionCreatorRegistrars:iw,keyboardEventNotifiers:Kc(aw(t)),actionInvoker:{invoke:t=>{this.performAction(t)}},selectionPresenterCreatorEntries:ow,keyboardEventProcessor:xl,highContrastModeInfo:new Pu,renderOnlyWhenDirty:Lt("RenderOnlyWhenDirty")}}registerRenderTarget(t){const e=(new kc).register(ov,Um).register(_c,ml).register(md,vv),n=new Hc(t,e);this.host.renderTargetRegistry.register(ov,n).register(_c,n).register(md,n),Wc(this.host.renderTargetRegistry)}getCutCopyActionPerformer(){return(t,e)=>{if(Qx(t))return new Rt(!0,function(t,e){if(function(t,e){if(0!==t.length&&1===t.selections.length&&Vi(t.selections[0])&&t.selections[0].textSelection.highlight){const n=t.selections[0].textSelection;!function(t,e){const n=t.graphic.model.textBody.getText(t.range);0!==n.length&&e.setData("text",n)}(n,e),function(t,e){const n=function(t){if(!t.highlight||0===t.range.length)return;const e=t.graphic.model,n=e.textBody.slice(t.range),r=n.textCharFormats.runBags;for(const t of r)t.resolve(e.fontRef,e.hostContext.themeInfo,e.defaultCharProps);const i=n.textParagraphFormats.runBags;for(const t of i)t.resolve();return n}(t);if(void 0===n)return;const r=Dm(n);void 0===r&&m(0,"Unable to serialize text selection as json in copyTextJsonToClipboard"),e.setData("application/vnd.ms-drawing-text+json",r)}(n,e)}}(e,t.clipboardData),!t.isCut)return[];const n=e.selections;return 1===n.length&&Vi(n[0])&&n[0].textSelection.highlight?0===n[0].textSelection.range.length?[]:[new Uv(n[0].textSelection.graphic.model.textBody,n[0].textSelection.range,!1,void 0,n[0].textSelection)]:[]}(t,e));if(Xx(t))return new Rt(!0,Fm(t,e));throw new Error("Failed to getCutCopyActionPerformer. Reason: Not Cut-Copy-Paste Action")}}onBeforeDeleteTextAction(){const t=this.selection.selections;if(1!==t.length||!Vi(t[0]))return;const e=t[0].textSelection;if(1===e.range.length){const n=t[0].graphic.model.text.textBody.getText(e.range);this.ariaNotifier.notify(n)}}adjustToEditStatus(t){const e=t.textBody,n=this.textHost.modelToEditorMap.get(t);if(void 0===n)return;const r=n.quillEditorInstance.root;2===e.textBodyFormats.vertOverflow&&(r.style.overflowY=this.isInEditMode?"visible":"clip"),1===e.textBodyFormats.horzOverflow&&(r.style.overflowX=this.isInEditMode?"visible":"clip");const i=this.textHost.modelToContainerMap.get(t);void 0!==i&&(i.style.cursor=this.isInEditMode?"auto":"inherit")}}let hw=()=>!1;const lw=new class{constructor(){this.globalLoggerSet=!1}createHost(t){return hw=(e,n)=>t.isEnabled(e,n),Ut=t=>function(t,e){return hw(t,"FG")}(`Microsoft.Office.Excel.GC2${t}`),this.globalLoggerSet||(d(new Ol(t.logger)),void 0!==t.excelHealth&&(x(new Tl(t.excelHealth)),El(new Sl(t.excelHealth))),this.globalLoggerSet=!0),new cw(t)}}})(),GC2Host=r})();
//# sourceMappingURL=GC2Host.min.js.map